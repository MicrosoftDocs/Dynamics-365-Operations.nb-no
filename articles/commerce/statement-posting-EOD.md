---
title: Forbedringer for utdragsposteringsfunksjonalitet
description: Dette emnet beskriver forbedringene som er gjort i funksjonen for utdragspostering.
author: josaw1
manager: AnnBe
ms.date: 05/14/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.region: Global
ms.search.industry: retail
ms.author: anpurush
ms.search.validFrom: 2018-04-30
ms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update
ms.openlocfilehash: 96798c052a24f3a1ad0856c34bd26051f1196110
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: nb-NO
ms.lasthandoff: 02/15/2021
ms.locfileid: "5234275"
---
# <a name="improvements-to-statement-posting-functionality"></a><span data-ttu-id="a8f10-103">Forbedringer for utdragsposteringsfunksjonalitet</span><span class="sxs-lookup"><span data-stu-id="a8f10-103">Improvements to statement posting functionality</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="a8f10-104">Dette emnet beskriver det første settet med forbedringer som er gjort i funksjonen for utdragspostering.</span><span class="sxs-lookup"><span data-stu-id="a8f10-104">This topic describes the first set of improvements that have been made to the statement posting feature.</span></span> <span data-ttu-id="a8f10-105">Disse forbedringene er tilgjengelige i Microsoft Dynamics 365 for Finance and Operations 7.3.2.</span><span class="sxs-lookup"><span data-stu-id="a8f10-105">These improvements are available in Microsoft Dynamics 365 for Finance and Operations 7.3.2.</span></span>

## <a name="activation"></a><span data-ttu-id="a8f10-106">Aktivering</span><span class="sxs-lookup"><span data-stu-id="a8f10-106">Activation</span></span>

<span data-ttu-id="a8f10-107">Som standard, under distribusjon av Finance and Operations 7.3.2, konfigureres programmet til å bruke den eldre funksjonen for utdragspostering.</span><span class="sxs-lookup"><span data-stu-id="a8f10-107">By default, during deployment of Finance and Operations 7.3.2, the program is set up to use the legacy feature for statement postings.</span></span> <span data-ttu-id="a8f10-108">Hvis du vil aktivere den forbedrede utdragsposteringen, må du aktivere konfigurasjonsnøkkelen for den.</span><span class="sxs-lookup"><span data-stu-id="a8f10-108">To enable the improved statement posting feature, you must turn on the configuration key for it.</span></span>

- <span data-ttu-id="a8f10-109">Gå til **Systemadministrasjon** \> **Oppsett** \> **Lisenskonfigurasjon** og deretter, under **Retail og Commerce**-noden fjerner du merket for **Utdrag (eldre)** og merker av for **Utdrag**.</span><span class="sxs-lookup"><span data-stu-id="a8f10-109">Go to **System administration** \> **Setup** \> **License configuration**, and then, under the **Retail and Commerce** node, clear the **Statements (legacy)** check box, and select the **Statements** check box.</span></span>

<span data-ttu-id="a8f10-110">Når den nye konfigurasjonsnøkkelen for **Utdrag** er aktivert, er et nytt menyelement som heter **Utdrag** tilgjengelig.</span><span class="sxs-lookup"><span data-stu-id="a8f10-110">When the new **Statements** configuration key is turned on, a new menu item that is named **Statements** is available.</span></span> <span data-ttu-id="a8f10-111">Med dette alternativet kan du manuelt opprette, beregne og postere utdrag.</span><span class="sxs-lookup"><span data-stu-id="a8f10-111">This menu item lets you manually create, calculate, and post statements.</span></span> <span data-ttu-id="a8f10-112">Alle utdrag som forårsaker en feil når den satsvise posteringsprosessen brukes, vil også være tilgjengelig via dette menyelementet.</span><span class="sxs-lookup"><span data-stu-id="a8f10-112">Any statement that causes an error when the batch posting process is used will also be available through this menu item.</span></span> <span data-ttu-id="a8f10-113">(Når konfigurasjonsnøkkelen for **Utdrag (eldre)** er aktivert, heter menyelementet **Åpne utdrag**.)</span><span class="sxs-lookup"><span data-stu-id="a8f10-113">(When the **Statements (legacy)** configuration key is turned on, the menu item is named **Open statements**.)</span></span>

<span data-ttu-id="a8f10-114">Commerce omfatter følgende valideringer som er knyttet til disse konfigurasjonsnøkler:</span><span class="sxs-lookup"><span data-stu-id="a8f10-114">Commerce includes the following validations that are related to these configuration keys:</span></span>

- <span data-ttu-id="a8f10-115">Begge konfigurasjonsnøkler kan ikke være aktivert samtidig.</span><span class="sxs-lookup"><span data-stu-id="a8f10-115">Both configuration keys can't be turned on at the same time.</span></span>
- <span data-ttu-id="a8f10-116">Samme konfigurasjonsnøklene som skal brukes for alle operasjoner som utføres på en angitt setning under livssyklusen (Opprett, Beregn, Slett, Poster og så videre).</span><span class="sxs-lookup"><span data-stu-id="a8f10-116">The same configuration keys must be used for all the operations that are performed on a given statement during its lifecycle (Create, Calculate, Clear, Post, and so on).</span></span> <span data-ttu-id="a8f10-117">For eksempel du kan ikke opprette og beregne et utdrag når **Utdrag (eldre)**-konfigurasjonsnøkkelen er aktivert, og deretter prøve å postere det samme utdraget når **Utdrag**-konfigurasjonsnøkkelen er aktivert.</span><span class="sxs-lookup"><span data-stu-id="a8f10-117">For example, you can't create and calculate a statement while the **Statement (legacy)** configuration key is turned on, and then try to post the same statement while the **Statement** configuration key is turned on.</span></span>

> [!NOTE]
> <span data-ttu-id="a8f10-118">Vi anbefaler at du bruker **Utdrag**-konfigurasjonsnøkkelen for forbedret utdragspostering, med mindre du har gode grunner til å bruke **Utdrag (eldre)**-konfigurasjonsnøkkelen i stedet for.</span><span class="sxs-lookup"><span data-stu-id="a8f10-118">We recommend that you use the **Statements** configuration key for the improved statement posting feature, unless you have compelling reasons to use the **Statements (legacy)** configuration key instead.</span></span> <span data-ttu-id="a8f10-119">Microsoft vil fortsette å investere i nye og forbedrede utdragspostering, og det er viktig at du bytter til den ved å dra nytte av den første anledning.</span><span class="sxs-lookup"><span data-stu-id="a8f10-119">Microsoft will continue to invest in the new and improved statement posting feature, and it's important that you switch to it at the earliest opportunity to benefit from it.</span></span> <span data-ttu-id="a8f10-120">Den eldre funksjonen for utdragspostering vil avvikles fra og med versjon 8.0.</span><span class="sxs-lookup"><span data-stu-id="a8f10-120">The legacy statement posting feature is deprecated starting in 8.0 release.</span></span>

## <a name="setup"></a><span data-ttu-id="a8f10-121">Oppsett</span><span class="sxs-lookup"><span data-stu-id="a8f10-121">Setup</span></span>

<span data-ttu-id="a8f10-122">Som en del av forbedringene for funksjonen for utdragspostering har tre nye parametere blitt lagt til på hurtigfanen **Utdrag** på **Postering**-fanen på siden **Parametere for Commerce**:</span><span class="sxs-lookup"><span data-stu-id="a8f10-122">As part of the improvements to the statement posting feature, three new parameters have been introduced on the **Statement** FastTab on the **Posting** tab of the **Commerce parameters** page:</span></span>

- <span data-ttu-id="a8f10-123">**Deaktiver tømming av kontoutdrag** – dette alternativet gjelder bare for den eldre funksjonen for utdragspostering.</span><span class="sxs-lookup"><span data-stu-id="a8f10-123">**Disable clear statement** – This option is applicable only for the legacy statement posting feature.</span></span> <span data-ttu-id="a8f10-124">Vi anbefaler at du setter dette alternativet til **Ingen** for å hindre brukere fra å fjerne utdrag som befinner seg i en delvis postert tilstand.</span><span class="sxs-lookup"><span data-stu-id="a8f10-124">We recommend that you set this option to **No** to prevent users from clearing statements that are in a semi-posted state.</span></span> <span data-ttu-id="a8f10-125">Hvis utdrag som befinner seg i en delvis postert tilstand, fjernes, vil data bli skadet.</span><span class="sxs-lookup"><span data-stu-id="a8f10-125">If statements that are in a semi-posted state are cleared, data becomes corrupted.</span></span> <span data-ttu-id="a8f10-126">Du bør sette dette alternativet til **Ja** bare i spesielle tilfeller.</span><span class="sxs-lookup"><span data-stu-id="a8f10-126">You should set this option to **Yes** only in exceptional circumstances.</span></span>
- <span data-ttu-id="a8f10-127">**Reserver beholdning under beregning** – vi anbefaler at du bruker den satsvise jobben **Poster lager** for lagerreserveringen, og at du setter dette alternativet til **Nei**.</span><span class="sxs-lookup"><span data-stu-id="a8f10-127">**Reserve inventory during calculation** – We recommend that you use the **Post inventory** batch job for inventory reservation, and that you set this option to **No**.</span></span> <span data-ttu-id="a8f10-128">Når dette alternativet er satt til **Nei**, forbedret setningen postering funksjonen ikke prøver å opprette lager Reservasjonsposter ved beregning (Hvis oppføringene ikke allerede har opprettet ved hjelp av **Poster lager** satsvis jobb).</span><span class="sxs-lookup"><span data-stu-id="a8f10-128">When this option is set to **No**, the improved statement posting feature doesn't try to create inventory reservation entries at the time of calculation (if entries weren't already created through the **Post inventory** batch job).</span></span> <span data-ttu-id="a8f10-129">Oppretter i stedet funksjonen lager Reservasjonsposter bare ved postering.</span><span class="sxs-lookup"><span data-stu-id="a8f10-129">Instead, the feature creates inventory reservation entries only at the time of posting.</span></span> <span data-ttu-id="a8f10-130">Denne implementeringen er et valg for utforming og er basert på det faktum at tidsvinduet mellom beregningsprosessen og posteringsprosessen er vanligvis liten.</span><span class="sxs-lookup"><span data-stu-id="a8f10-130">This implementation was a design choice and was based on the fact that the time window between the calculation process and the posting process is typically small.</span></span> <span data-ttu-id="a8f10-131">Men hvis du vil reservere lager på tidspunktet for beregningen, kan du angi dette alternativet **Ja**.</span><span class="sxs-lookup"><span data-stu-id="a8f10-131">However, if you want to reserve inventory at the time of calculation, you can set this option to **Yes**.</span></span>

    <span data-ttu-id="a8f10-132">Funksjonen eldre setningen postering reserverer alltid lager i løpet av beregningsprosessen setning (hvis reserveringen ikke ble allerede har gjort ved hjelp av **poster lager** satsvis jobb), uavhengig av innstillingen for dette alternativet.</span><span class="sxs-lookup"><span data-stu-id="a8f10-132">The legacy statement posting feature always reserves inventory during the statement calculation process (if reservation wasn't already done through the **Post inventory** batch job), regardless of the setting of this option.</span></span>

- <span data-ttu-id="a8f10-133">**Deaktivering av opptelling kreves** – når dette alternativet er satt til **Ja**, fortsetter posteringsprosessen for et utdrag, selv om forskjellen mellom det talte beløpet og transaksjonsbeløpet på utdraget er utenfor terskelen som er definert i den **Utdrag** hurtigfane for butikker.</span><span class="sxs-lookup"><span data-stu-id="a8f10-133">**Disable counting required** – When this option is set to **Yes**, the posting process for a statement continues, even if the difference between the counted amount and the transaction amount on the statement is outside the threshold that is defined on the **Statement** FastTab for stores.</span></span>

<span data-ttu-id="a8f10-134">I tillegg er følgende parametere introdusert i hurtigfanen **Satsvis behandling** i kategorien **Postering** på siden **Parametere for Commerce**:</span><span class="sxs-lookup"><span data-stu-id="a8f10-134">Additionally, the following parameters have been introduced on the **Batch processing** FastTab on the **Posting** tab of the **Commerce parameters** page:</span></span> 

- <span data-ttu-id="a8f10-135">**Maksimalt antall parallell kontoutdragspostering** – Dette feltet definerer antall satsvise oppgaver som skal brukes til å postere flere utdrag.</span><span class="sxs-lookup"><span data-stu-id="a8f10-135">**Maximum number of parallel statement posting** – This field defines the number of batch tasks that will be used to post multiple statements.</span></span> 
- <span data-ttu-id="a8f10-136">**Maks. tråd for ordrebehandling per utdrag** – Dette feltet viser det maksimale antallet tråder som brukes av den satsvise jobben for utdragspostering for å opprette og fakturere salgsordrer for ett enkelt utdrag.</span><span class="sxs-lookup"><span data-stu-id="a8f10-136">**Max thread for order processing per statement** – This field represents the maximum number of threads used by the statement posting batch job to create and invoice sales orders for a single statement.</span></span> <span data-ttu-id="a8f10-137">Det totale antallet tråder som vil bli brukt av utdragsposteringsprosessen, beregnes basert på verdien i denne parameteren multiplisert med verdien i parameteren **Maksimalt antall parallell kontoutdragspostering**.</span><span class="sxs-lookup"><span data-stu-id="a8f10-137">The total number of threads that will be used by the statement posting process will be computed based on the value in this parameter multiplied by the value in the **Maximum number of parallel statement posting** parameter.</span></span> <span data-ttu-id="a8f10-138">Hvis du angir verdien for denne parameteren for høyt, kan det ha negativ innvirkning på ytelsen til utdragsposteringsprosessen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-138">Setting the value of this parameter too high can negatively impact the performance of the statement posting process.</span></span>
- <span data-ttu-id="a8f10-139">**Maks. transaksjonslinjer inkludert i aggregering** – Dette feltet definerer antall transaksjonslinjer som skal inkluderes i en enkelt aggregert transaksjon før det opprettes en ny.</span><span class="sxs-lookup"><span data-stu-id="a8f10-139">**Max transaction lines included in aggregation** – This field defines the number of transaction lines that will be included in a single aggregated transaction before a new one is created.</span></span> <span data-ttu-id="a8f10-140">Aggregerte transaksjoner opprettes basert på forskjellige aggregeringskriterier, for eksempel kunde, forretningsdato eller finansdimensjoner.</span><span class="sxs-lookup"><span data-stu-id="a8f10-140">Aggregated transactions are created based on different aggregation criteria such as customer, business date, or financial dimensions.</span></span> <span data-ttu-id="a8f10-141">Det er viktig å merke seg at linjene fra en enkelt transaksjon ikke vil bli delt på tvers av forskjellige aggregerte transaksjoner.</span><span class="sxs-lookup"><span data-stu-id="a8f10-141">It is important to note that the lines from a single transaction will not be split across different aggregated transactions.</span></span> <span data-ttu-id="a8f10-142">Dette betyr at det er en mulighet for at antall linjer i en aggregert transaksjon er litt høyere eller lavere, basert på faktorer som antall forskjellige produkter.</span><span class="sxs-lookup"><span data-stu-id="a8f10-142">This means that there is a possibility that the number of lines in a aggregated transaction is slightly higher or lower based on factors such as number of distinct products.</span></span>
- <span data-ttu-id="a8f10-143">**Maksimalt antall tråder for å validere butikktransaksjoner** – Dette feltet definerer antall tråder som skal brukes til å validere transaksjoner.</span><span class="sxs-lookup"><span data-stu-id="a8f10-143">**Maximum number of threads to validate store transactions** – This field defines the number of threads that will be used to validate transactions.</span></span> <span data-ttu-id="a8f10-144">Validering av transaksjoner er et obligatorisk trinn som må inntreffe før transaksjonene kan overføres til utdragene.</span><span class="sxs-lookup"><span data-stu-id="a8f10-144">Validating transactions is a required step that needs to occur before the transactions can be pulled into the statements.</span></span> <span data-ttu-id="a8f10-145">Du må også definere et **Gavekortprodukt** i hurtigfanen **Gavekort** i kategorien **Postering** på siden **Parametere for Commerce**.</span><span class="sxs-lookup"><span data-stu-id="a8f10-145">You also need to define a **Gift card product** on the **Gift card** FastTab on the **Posting** tab of the **Commerce parameters** page.</span></span> <span data-ttu-id="a8f10-146">Dette må defineres selv om gavekort ikke brukes av organisasjonen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-146">This needs to defined even if gift cards are not used by the organization.</span></span>

> [!NOTE]
> <span data-ttu-id="a8f10-147">Alle innstillingene og parameterne som er knyttet til utdragsposteringer, og som er definert for butikker og på siden **Parametere for Commerce**, gjelder for den forbedrede funksjonen for utdragspostering.</span><span class="sxs-lookup"><span data-stu-id="a8f10-147">All settings and parameters that are related to statement postings, and that are defined on stores and on the **Commerce parameters** page, are applicable to the improved statement posting feature.</span></span>

## <a name="processing"></a><span data-ttu-id="a8f10-148">Behandling</span><span class="sxs-lookup"><span data-stu-id="a8f10-148">Processing</span></span>

<span data-ttu-id="a8f10-149">Utdrag kan beregnes og posteres satsvis ved hjelp av menyelementene **Beregn utdrag satsvis** og **Poster utdrag satsvis**.</span><span class="sxs-lookup"><span data-stu-id="a8f10-149">Statements can be calculated and posted in batch using the menu items **Calculate statements in batch** and **Post statements in batch**.</span></span> <span data-ttu-id="a8f10-150">Eventuelt utdrag kan manuelt beregnes og posteres ved hjelp av **Utdrag**, som er tilgjengelig via den forbedrede funksjonen for utdragspostering.</span><span class="sxs-lookup"><span data-stu-id="a8f10-150">Alternatively, statements can be manually calculated and posted by using the **Statements** menu item that the improved statement posting feature provides.</span></span>

<span data-ttu-id="a8f10-151">Prosessen og fremgangsmåten for beregning og postering av utdrag satsvis er de samme som de var i den eldre funksjonen for utdragspostering.</span><span class="sxs-lookup"><span data-stu-id="a8f10-151">The process and steps for calculating and posting statements in a batch are the same as they were in the legacy statement posting feature.</span></span> <span data-ttu-id="a8f10-152">Imidlertid er betydelige forbedringer gjort i kjernebakgrunnsbehandlingen av utdragene.</span><span class="sxs-lookup"><span data-stu-id="a8f10-152">However, significant improvements have been made in the core back-end processing of the statements.</span></span> <span data-ttu-id="a8f10-153">Disse forbedringene gjør prosessen mer fleksibel og gir bedre oversikt over tilstander og feilinformasjon.</span><span class="sxs-lookup"><span data-stu-id="a8f10-153">These improvements make the process more resilient, and provide for better visibility into the states and error information.</span></span> <span data-ttu-id="a8f10-154">Brukere kan derfor løse den opprinnelige årsaken til feil og deretter fortsette posteringsprosessen uten å forårsake datafeil og uten at det er nødvendig med datareparasjoner.</span><span class="sxs-lookup"><span data-stu-id="a8f10-154">Therefore, users can address the root cause of errors and then continue the posting process without causing data corruption and without causing data fixes to be required.</span></span>

<span data-ttu-id="a8f10-155">Delene nedenfor beskriver noen av de store forbedringene for utdragspostering som vises i brukergrensesnittet for utdrag og posterte utdrag.</span><span class="sxs-lookup"><span data-stu-id="a8f10-155">The following sections describe some of the major improvements for the statement posting feature that appear in the user interface for statements and posted statements.</span></span>

### <a name="status-details"></a><span data-ttu-id="a8f10-156">Statusdetaljer</span><span class="sxs-lookup"><span data-stu-id="a8f10-156">Status details</span></span>

<span data-ttu-id="a8f10-157">En ny statusmodell er introdusert i utdragsposteringsrutinen over beregnings- og posteringsprosessene.</span><span class="sxs-lookup"><span data-stu-id="a8f10-157">A new state model has been introduced in the statement posting routine across the calculation and posting processes.</span></span>

<span data-ttu-id="a8f10-158">Tabellen nedenfor beskriver de forskjellige statusene og rekkefølgen deres i løpet av beregningsprosessen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-158">The following table describes the various states and their order during the calculation process.</span></span>

| <span data-ttu-id="a8f10-159">Tilstandsrekkefølge</span><span class="sxs-lookup"><span data-stu-id="a8f10-159">State order</span></span> | <span data-ttu-id="a8f10-160">Delstat</span><span class="sxs-lookup"><span data-stu-id="a8f10-160">State</span></span>      | <span data-ttu-id="a8f10-161">beskrivelse</span><span class="sxs-lookup"><span data-stu-id="a8f10-161">Description</span></span> |
|-------------|------------|-------------|
| <span data-ttu-id="a8f10-162">1</span><span class="sxs-lookup"><span data-stu-id="a8f10-162">1</span></span>           | <span data-ttu-id="a8f10-163">Startet</span><span class="sxs-lookup"><span data-stu-id="a8f10-163">Started</span></span>    | <span data-ttu-id="a8f10-164">Utdraget ble opprettet og er klar til å bli beregnet.</span><span class="sxs-lookup"><span data-stu-id="a8f10-164">The statement was created and is ready to be calculated.</span></span> |
| <span data-ttu-id="a8f10-165">2</span><span class="sxs-lookup"><span data-stu-id="a8f10-165">2</span></span>           | <span data-ttu-id="a8f10-166">Merket</span><span class="sxs-lookup"><span data-stu-id="a8f10-166">Marked</span></span>     | <span data-ttu-id="a8f10-167">Transaksjonene som er i området for utdraget, identifiseres basert på utdragsparameterne, og de er merket med utdrags-ID-en.</span><span class="sxs-lookup"><span data-stu-id="a8f10-167">The transactions that are in scope for the statement are identified based on the statement parameters, and they are marked with the statement ID.</span></span> |
| <span data-ttu-id="a8f10-168">3</span><span class="sxs-lookup"><span data-stu-id="a8f10-168">3</span></span>           | <span data-ttu-id="a8f10-169">Beregnet</span><span class="sxs-lookup"><span data-stu-id="a8f10-169">Calculated</span></span> | <span data-ttu-id="a8f10-170">Utdragslinjene er beregnet og vist.</span><span class="sxs-lookup"><span data-stu-id="a8f10-170">The statement lines are computed and shown.</span></span> |

<span data-ttu-id="a8f10-171">Tabellen nedenfor beskriver de forskjellige statusene og rekkefølgen deres i løpet av posteringsprosessen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-171">The following table describes the various states and their order during the posting process.</span></span>

| <span data-ttu-id="a8f10-172">Tilstandsrekkefølge</span><span class="sxs-lookup"><span data-stu-id="a8f10-172">State order</span></span> | <span data-ttu-id="a8f10-173">Delstat</span><span class="sxs-lookup"><span data-stu-id="a8f10-173">State</span></span>                   | <span data-ttu-id="a8f10-174">beskrivelse</span><span class="sxs-lookup"><span data-stu-id="a8f10-174">Description</span></span> |
|-------------|-------------------------|-------------|
| <span data-ttu-id="a8f10-175">1</span><span class="sxs-lookup"><span data-stu-id="a8f10-175">1</span></span>           | <span data-ttu-id="a8f10-176">Kontrollert</span><span class="sxs-lookup"><span data-stu-id="a8f10-176">Checked</span></span>                 | <span data-ttu-id="a8f10-177">Det gjøres flere valideringer som er knyttet til parametere (for eksempel disposisjonstillegget), og til utdrag og utdragslinjer (for eksempel differansen mellom det talte beløpet og transaksjonsbeløpet).</span><span class="sxs-lookup"><span data-stu-id="a8f10-177">Multiple validations are done that are related to parameters (for example, the disposition charge), and to the statement and statement lines (for example, the difference between the counted amount and the transaction amount).</span></span> |
| <span data-ttu-id="a8f10-178">2</span><span class="sxs-lookup"><span data-stu-id="a8f10-178">2</span></span>           | <span data-ttu-id="a8f10-179">Aggregert</span><span class="sxs-lookup"><span data-stu-id="a8f10-179">Aggregated</span></span>              | <span data-ttu-id="a8f10-180">Salgstransaksjoner for kunder med og uten navn samles basert på konfigurasjonen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-180">Sales transactions for named and unnamed customers are aggregated based on the configuration.</span></span> <span data-ttu-id="a8f10-181">Hver aggregerte transaksjon blir til slutt konvertert til en salgsordre.</span><span class="sxs-lookup"><span data-stu-id="a8f10-181">Every aggregated transaction is eventually converted to a sales order.</span></span> |
| <span data-ttu-id="a8f10-182">3</span><span class="sxs-lookup"><span data-stu-id="a8f10-182">3</span></span>           | <span data-ttu-id="a8f10-183">Kundeordre opprettet</span><span class="sxs-lookup"><span data-stu-id="a8f10-183">Customer order created</span></span>  | <span data-ttu-id="a8f10-184">Basert på den samlede transaksjonen, opprettes salgsordrer i systemet.</span><span class="sxs-lookup"><span data-stu-id="a8f10-184">Based on the aggregated transaction, sales orders are created in the system.</span></span> |
| <span data-ttu-id="a8f10-185">4</span><span class="sxs-lookup"><span data-stu-id="a8f10-185">4</span></span>           | <span data-ttu-id="a8f10-186">Kundeordre fakturert</span><span class="sxs-lookup"><span data-stu-id="a8f10-186">Customer order invoiced</span></span> | <span data-ttu-id="a8f10-187">Salgsordrer faktureres.</span><span class="sxs-lookup"><span data-stu-id="a8f10-187">Sales orders are invoiced.</span></span> |
| <span data-ttu-id="a8f10-188">5</span><span class="sxs-lookup"><span data-stu-id="a8f10-188">5</span></span>           | <span data-ttu-id="a8f10-189">Posterte rabatter</span><span class="sxs-lookup"><span data-stu-id="a8f10-189">Discounts posted</span></span>        | <span data-ttu-id="a8f10-190">Periodiske rabattjournaler posteres basert på konfigurasjonen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-190">Periodic discount journals are posted based on the configuration.</span></span> |
| <span data-ttu-id="a8f10-191">6</span><span class="sxs-lookup"><span data-stu-id="a8f10-191">6</span></span>           | <span data-ttu-id="a8f10-192">Postert inntekt/utgift</span><span class="sxs-lookup"><span data-stu-id="a8f10-192">Income/expense posted</span></span>   | <span data-ttu-id="a8f10-193">Inntekts-/ utgiftstransaksjoner posteres som bilag.</span><span class="sxs-lookup"><span data-stu-id="a8f10-193">Income/expense transactions are posted as vouchers.</span></span> |
| <span data-ttu-id="a8f10-194">7</span><span class="sxs-lookup"><span data-stu-id="a8f10-194">7</span></span>           | <span data-ttu-id="a8f10-195">Tilknyttede bilag</span><span class="sxs-lookup"><span data-stu-id="a8f10-195">Vouchers linked</span></span>         | <span data-ttu-id="a8f10-196">Betalingsjournaler opprettes og kobles til den tilsvarende fakturaen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-196">Payment journals are created and linked to the corresponding invoice.</span></span> |
| <span data-ttu-id="a8f10-197">8</span><span class="sxs-lookup"><span data-stu-id="a8f10-197">8</span></span>           | <span data-ttu-id="a8f10-198">Posterte betalinger</span><span class="sxs-lookup"><span data-stu-id="a8f10-198">Payments posted</span></span>         | <span data-ttu-id="a8f10-199">Betalingsjournaler posteres.</span><span class="sxs-lookup"><span data-stu-id="a8f10-199">Payment journals are posted.</span></span> |
| <span data-ttu-id="a8f10-200">9</span><span class="sxs-lookup"><span data-stu-id="a8f10-200">9</span></span>           | <span data-ttu-id="a8f10-201">Posterte gavekort</span><span class="sxs-lookup"><span data-stu-id="a8f10-201">Gift cards posted</span></span>       | <span data-ttu-id="a8f10-202">Gavekorttransaksjoner posteres som bilag.</span><span class="sxs-lookup"><span data-stu-id="a8f10-202">Gift card transactions are posted as vouchers.</span></span> |
| <span data-ttu-id="a8f10-203">10</span><span class="sxs-lookup"><span data-stu-id="a8f10-203">10</span></span>          | <span data-ttu-id="a8f10-204">Postert</span><span class="sxs-lookup"><span data-stu-id="a8f10-204">Posted</span></span>                  | <span data-ttu-id="a8f10-205">Utdraget er merket som bokført.</span><span class="sxs-lookup"><span data-stu-id="a8f10-205">The statement is marked as posted.</span></span> |

<span data-ttu-id="a8f10-206">Hver tilstand i tabellene ovenfor er uavhengig av natur, og en hierarkisk avhengighet bygges mellom statusene.</span><span class="sxs-lookup"><span data-stu-id="a8f10-206">Every state in the preceding tables is independent in nature, and a hierarchical dependency is built between the states.</span></span> <span data-ttu-id="a8f10-207">Denne avhengigheten flyter fra topp til bunn.</span><span class="sxs-lookup"><span data-stu-id="a8f10-207">This dependency flows from top to bottom.</span></span> <span data-ttu-id="a8f10-208">Hvis det oppstår feil i systemet mens det behandler en tilstand, er statusen for utdraget tilbake til den opprinnelige tilstanden.</span><span class="sxs-lookup"><span data-stu-id="a8f10-208">If the system encounters any errors while it's processing a state, the status of the statement is reverted to the previous state.</span></span> <span data-ttu-id="a8f10-209">Eventuelle etterfølgende nye forsøk for prosessen går ut av hvilken tilstand som mislyktes, og fortsetter å gå fremover.</span><span class="sxs-lookup"><span data-stu-id="a8f10-209">Any subsequent reattempt of the process resumes from the state that failed and continues to move forward.</span></span> <span data-ttu-id="a8f10-210">Denne metoden har følgende fordeler:</span><span class="sxs-lookup"><span data-stu-id="a8f10-210">This approach has the following benefits:</span></span>

- <span data-ttu-id="a8f10-211">Brukeren har fullstendig synlighet i tilstanden der feilen inntraff.</span><span class="sxs-lookup"><span data-stu-id="a8f10-211">The user has complete visibility into the state where the error occurred.</span></span>
- <span data-ttu-id="a8f10-212">Ødelagte data unngås.</span><span class="sxs-lookup"><span data-stu-id="a8f10-212">Data corruption is avoided.</span></span> <span data-ttu-id="a8f10-213">I den eldre funksjonen for utdragspostering fantes det for eksempel forekomster der noen salgsordrer ble fakturert, men andre ble værende åpne.</span><span class="sxs-lookup"><span data-stu-id="a8f10-213">For example, in the legacy statement posting feature, there were instances where some sales orders were invoiced but others were left open.</span></span> <span data-ttu-id="a8f10-214">Det fantes også forekomster der noen betalingsjournaler ikke hadde en tilsvarende faktura å utligne, fordi det oppstod en feil i fakturaposteringen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-214">There were also instances where some payment journals didn't have a corresponding invoice to settle, because the invoice posting had an error.</span></span>
- <span data-ttu-id="a8f10-215">Brukere kan se gjeldende tilstand for et utdrag ved hjelp av **Statusdetaljer**-knappen i gruppen **Utførelsesdetaljer** av utdraget.</span><span class="sxs-lookup"><span data-stu-id="a8f10-215">Users can see the current state of a statement by using the **Status details** button in the **Execution details** group of the statement.</span></span> <span data-ttu-id="a8f10-216">Statusdetaljersiden består av tre deler:</span><span class="sxs-lookup"><span data-stu-id="a8f10-216">The status details page has three sections:</span></span>

    - <span data-ttu-id="a8f10-217">Den første delen viser gjeldende status for utdraget, sammen med feilkoden og en detaljert feilmelding hvis det oppstod en feil.</span><span class="sxs-lookup"><span data-stu-id="a8f10-217">The first section shows the current status of the statement, together with the error code and a detailed error message, if an error occurred.</span></span>
    - <span data-ttu-id="a8f10-218">Den andre delen viser de forskjellige tilstandene i beregningsprosessen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-218">The second section shows the various states of the calculation process.</span></span> <span data-ttu-id="a8f10-219">Visuelle indikatorer viser tilstandene som er kjørt, tilstander som ikke kan kjøre på grunn av feil, og tilstander som ennå ikke har kjørt.</span><span class="sxs-lookup"><span data-stu-id="a8f10-219">Visual cues indicate states that have been successfully run, states that could not be run because of errors, and states that haven't yet been run.</span></span>
    - <span data-ttu-id="a8f10-220">Den tredje delen viser de forskjellige tilstandene i posteringsprosessen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-220">The third section shows the various states of the posting process.</span></span> <span data-ttu-id="a8f10-221">Visuelle indikatorer viser tilstandene som er kjørt, tilstander som ikke kan kjøre på grunn av feil, og tilstander som ennå ikke har kjørt.</span><span class="sxs-lookup"><span data-stu-id="a8f10-221">Visual cues indicate states that have been successfully run, states that could not be run because of errors, and states that haven't yet been run.</span></span>

<span data-ttu-id="a8f10-222">Hodet i den andre og tredje delen viser også den overordnede statusen for den aktuelle prosessen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-222">Additionally, the header of the second and third sections shows the overall status of the relevant process.</span></span>

### <a name="event-logs"></a><span data-ttu-id="a8f10-223">Hendelseslogger</span><span class="sxs-lookup"><span data-stu-id="a8f10-223">Event logs</span></span>

<span data-ttu-id="a8f10-224">Et utdrag går gjennom ulike operasjoner (for eksempel, Opprett, Beregn, Slett og Poster), og flere forekomster av den samme operasjonen kan kalles under livssyklusen for utdraget.</span><span class="sxs-lookup"><span data-stu-id="a8f10-224">A statement goes through various operations (for example, Create, Calculate, Clear, and Post), and multiple instances of the same operation might be called during the statement's lifecycle.</span></span> <span data-ttu-id="a8f10-225">Når et utdrag opprettes og beregnes, kan en bruker for eksempel fjerne utdraget og beregne det på nytt.</span><span class="sxs-lookup"><span data-stu-id="a8f10-225">For example, after a statement is created and calculated, a user can clear the statement and calculate it again.</span></span> <span data-ttu-id="a8f10-226">**Hendelseslogger**-knappen i gruppen **Utførelsesdetaljer** av utdraget gir en fullstendig revisjonssporing for de ulike operasjonene som ble kalt på et utdrag, sammen med informasjon om når disse operasjonene ble kalt.</span><span class="sxs-lookup"><span data-stu-id="a8f10-226">The **Event logs** button in the **Execution details** group of the statement provides a complete audit trail of the various operations that were called on a statement, together with information about when those operations were called.</span></span>

### <a name="aggregated-transactions"></a><span data-ttu-id="a8f10-227">Aggregerte transaksjoner</span><span class="sxs-lookup"><span data-stu-id="a8f10-227">Aggregated transactions</span></span>

<span data-ttu-id="a8f10-228">Under posteringsprosessen samles salgstransaksjonene basert på konfigurasjonen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-228">During the posting process, the sales transactions are aggregated based on the configuration.</span></span> <span data-ttu-id="a8f10-229">Disse samlede transaksjonene lagres i systemet og brukes til å opprette salgsordrer.</span><span class="sxs-lookup"><span data-stu-id="a8f10-229">These aggregated transactions are stored in the system and used to create sales orders.</span></span> <span data-ttu-id="a8f10-230">Hver samlet transaksjon oppretter én tilsvarende salgsordre i systemet.</span><span class="sxs-lookup"><span data-stu-id="a8f10-230">Every aggregated transaction creates one corresponding sales order in the system.</span></span> <span data-ttu-id="a8f10-231">Du kan vise de samlede transaksjonene ved hjelp av **Aggregerte transaksjoner**-knappen i gruppen **Utførelsesdetaljer** av utdraget.</span><span class="sxs-lookup"><span data-stu-id="a8f10-231">You can view the aggregated transactions by using the **Aggregated transactions** button in the **Execution details** group of the statement.</span></span>

<span data-ttu-id="a8f10-232">Kategorien **Salgsordredetaljer** for en aggregert transaksjon viser følgende informasjon:</span><span class="sxs-lookup"><span data-stu-id="a8f10-232">The **Sales order detail** tab of an aggregated transaction shows the following information:</span></span>

- <span data-ttu-id="a8f10-233">**Post-ID** – ID-en for den aggregerte transaksjonen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-233">**Record ID** – The ID of the aggregated transaction.</span></span>
- <span data-ttu-id="a8f10-234">**Utdragsnummer** – utdraget som den aggregerte transaksjonen tilhører.</span><span class="sxs-lookup"><span data-stu-id="a8f10-234">**Statement number** – The statement that the aggregated transaction belongs to.</span></span>
- <span data-ttu-id="a8f10-235">**Dato** – datoen da den aggregerte transaksjonen ble opprettet.</span><span class="sxs-lookup"><span data-stu-id="a8f10-235">**Date** – The date when the aggregated transaction was created.</span></span>
- <span data-ttu-id="a8f10-236">**Salgs-ID** – når en ordre opprettes fra den samlede transaksjonen, er dette ID-en for salgsordren.</span><span class="sxs-lookup"><span data-stu-id="a8f10-236">**Sales ID** – When a sales order is created from the aggregated transaction, the sales order ID.</span></span> <span data-ttu-id="a8f10-237">Hvis dette feltet er tomt, er den tilsvarende salgsordren ikke opprettet.</span><span class="sxs-lookup"><span data-stu-id="a8f10-237">If this field is blank, the corresponding sales order hasn't been created.</span></span>
- <span data-ttu-id="a8f10-238">**Antall aggregerte linjer** – totalt antall linjer for den aggregerte transaksjonen og salgsordren.</span><span class="sxs-lookup"><span data-stu-id="a8f10-238">**Number of aggregated lines** – The total number of lines for the aggregated transaction and sales order.</span></span>
- <span data-ttu-id="a8f10-239">**Statusr** – forrige status for den aggregerte transaksjonen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-239">**Status** – The last status of the aggregated transaction.</span></span>
- <span data-ttu-id="a8f10-240">**Faktura-ID** – når salgsordren for den aggregerte transaksjonen er fakturert, er dette ID-en for salgsfakturaen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-240">**Invoice ID** – When the sales order for the aggregated transaction is invoiced, the sales invoice ID.</span></span> <span data-ttu-id="a8f10-241">Hvis dette feltet er tomt, er fakturaen for salgsordren ikke postert.</span><span class="sxs-lookup"><span data-stu-id="a8f10-241">If this field is blank, the invoice for the sales order hasn't been posted.</span></span>

<span data-ttu-id="a8f10-242">Kategorien **Transaksjonsdetaljer** for en aggregert transaksjon viser alle transaksjoner som har blitt hentet til den aggregerte transaksjonen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-242">The **Transaction details** tab of an aggregated transaction shows all the transactions that have been pulled into the aggregated transaction.</span></span> <span data-ttu-id="a8f10-243">De aggregerte linjene på den aggregerte transaksjonen viser alle de aggregerte postene fra transaksjoner.</span><span class="sxs-lookup"><span data-stu-id="a8f10-243">The aggregated lines on the aggregated transaction show all the aggregated records from the transactions.</span></span> <span data-ttu-id="a8f10-244">De aggregerte linjene viser også detaljer, for eksempel vare, variant, antall, pris, nettobeløp, enhet og lager.</span><span class="sxs-lookup"><span data-stu-id="a8f10-244">The aggregated lines also show details such as the item, variant, quantity, price, net amount, unit, and warehouse.</span></span> <span data-ttu-id="a8f10-245">I utgangspunktet tilsvarer hver aggregerte linje én salgsordrelinje.</span><span class="sxs-lookup"><span data-stu-id="a8f10-245">Basically, each aggregated line corresponds to one sales order line.</span></span>

<span data-ttu-id="a8f10-246">Fra siden **Aggregerte transaksjoner** kan du laste ned XML for en bestemt aggregert transaksjon ved hjelp av knappen **Eksporter XML for salgsordre**.</span><span class="sxs-lookup"><span data-stu-id="a8f10-246">From the **Aggregated transactions** page, you can download the XML for a specific aggregated transaction by using the **Export sales order XML** button.</span></span> <span data-ttu-id="a8f10-247">Du kan bruke XML-filen til å feilsøke problemer som involverer oppretting av salgsordre og postering.</span><span class="sxs-lookup"><span data-stu-id="a8f10-247">You can use the XML to debug issues that involve sales order creation and posting.</span></span> <span data-ttu-id="a8f10-248">Bare last ned XML-filen, last den opp til et testmiljø og feilsøk problemet i testmiljøet.</span><span class="sxs-lookup"><span data-stu-id="a8f10-248">Just download the XML, upload it to a test environment, and debug the issue in the test environment.</span></span> <span data-ttu-id="a8f10-249">Funksjonen for å laste ned XML for aggregerte transaksjoner er ikke tilgjengelig for utdrag som er postert.</span><span class="sxs-lookup"><span data-stu-id="a8f10-249">The functionality for downloading the XML for aggregated transactions isn't available for statements that have been posted.</span></span>

<span data-ttu-id="a8f10-250">Visningen av aggregerte transaksjoner gir følgende fordeler:</span><span class="sxs-lookup"><span data-stu-id="a8f10-250">The aggregated transaction view provides the following benefits:</span></span>

- <span data-ttu-id="a8f10-251">Brukeren har oversikt over de aggregerte transaksjonene som mislyktes under oppretting av salgsordren, og salgsordrene som mislyktes under fakturering.</span><span class="sxs-lookup"><span data-stu-id="a8f10-251">The user has visibility into the aggregated transactions that failed during sales order creation and the sales orders that failed during invoicing.</span></span>
- <span data-ttu-id="a8f10-252">Brukeren har oversikt over hvordan transaksjoner aggregeres.</span><span class="sxs-lookup"><span data-stu-id="a8f10-252">The user has visibility into how transactions are aggregated.</span></span>
- <span data-ttu-id="a8f10-253">Brukeren har en fullstendig revisjonssporing, fra transaksjoner, til salgsordrer til salgsfakturaer.</span><span class="sxs-lookup"><span data-stu-id="a8f10-253">The user has a complete audit trail, from transactions, to sales orders, to sales invoices.</span></span> <span data-ttu-id="a8f10-254">Denne revisjonssporingen var ikke tilgjengelige i den eldre funksjonen for utdragspostering.</span><span class="sxs-lookup"><span data-stu-id="a8f10-254">This audit trail wasn't available in the legacy statement posting feature.</span></span>
- <span data-ttu-id="a8f10-255">Den aggregerte XML-filen gjør det enklere å identifisere problemer under oppretting av salgsordre og fakturering.</span><span class="sxs-lookup"><span data-stu-id="a8f10-255">Aggregated XML file make it easier to identify issues during sales order creation and invoicing.</span></span>

### <a name="journal-vouchers"></a><span data-ttu-id="a8f10-256">Journalbilag</span><span class="sxs-lookup"><span data-stu-id="a8f10-256">Journal vouchers</span></span>

<span data-ttu-id="a8f10-257">**Journalbilag**-knappen i gruppen **Utførelsesdetaljer** i utdraget viser alle de ulike bilagstransaksjonene som er opprettet for et utdrag, og som er knyttet til rabatter, inntekts-/ utgiftskontoer, gavekort og så videre.</span><span class="sxs-lookup"><span data-stu-id="a8f10-257">The **Journal vouchers** button in the **Execution details** group of the statement shows all the various voucher transactions that are created for a statement, and that are related to discounts, income/expense accounts, gift cards, and so on.</span></span>

<span data-ttu-id="a8f10-258">For øyeblikket vises disse dataene bare for posterte utdrag.</span><span class="sxs-lookup"><span data-stu-id="a8f10-258">Currently, the program shows this data only for posted statements.</span></span>

### <a name="payment-journals"></a><span data-ttu-id="a8f10-259">Betalingsjournaler</span><span class="sxs-lookup"><span data-stu-id="a8f10-259">Payment journals</span></span>

<span data-ttu-id="a8f10-260">**Betalingsjournaler**-knappen i gruppen **Utførelsesdetaljer** i utdraget viser alle de ulike betalingsjournalene som er opprettet for et utdrag.</span><span class="sxs-lookup"><span data-stu-id="a8f10-260">The **Payment journals** button in the **Execution details** group of the statement shows all the various payment journals that are created for a statement.</span></span>

<span data-ttu-id="a8f10-261">For øyeblikket vises disse dataene bare for posterte utdrag.</span><span class="sxs-lookup"><span data-stu-id="a8f10-261">Currently, the program shows this data only for posted statements.</span></span>

## <a name="other-improvements"></a><span data-ttu-id="a8f10-262">Andre forbedringer</span><span class="sxs-lookup"><span data-stu-id="a8f10-262">Other improvements</span></span>

<span data-ttu-id="a8f10-263">Andre forbedringer i bakgrunnen som brukerne kan se er gjort i funksjonen for utdragspostering.</span><span class="sxs-lookup"><span data-stu-id="a8f10-263">Other, back-end improvements that users can see have been made to the statement posting feature.</span></span> <span data-ttu-id="a8f10-264">Her er noen eksempler:</span><span class="sxs-lookup"><span data-stu-id="a8f10-264">Here are some examples:</span></span>

- <span data-ttu-id="a8f10-265">Aggregeringen vurderer ikke ansatte, terminal, og skiftenheter.</span><span class="sxs-lookup"><span data-stu-id="a8f10-265">The aggregation doesn't consider the staff, terminal, and shift entities.</span></span> <span data-ttu-id="a8f10-266">Fordi det er færre aggregeringsparametere, må færre salgsordrelinjer behandles.</span><span class="sxs-lookup"><span data-stu-id="a8f10-266">Because there are fewer aggregation parameters, fewer sales order lines must be processed.</span></span>
- <span data-ttu-id="a8f10-267">Forekomsten av vranglås i transaksjonstabeller reduseres ved å introdusere flere utvidelsestabeller og ved å gjøre innsettingsoperasjoner i stedet for oppdateringsoperasjoner i transaksjonstabellene.</span><span class="sxs-lookup"><span data-stu-id="a8f10-267">The occurrence of deadlock on transaction tables is reduced by introducing additional extension tables and by doing insert operations instead of update operations on the transaction tables.</span></span>
- <span data-ttu-id="a8f10-268">Antallet kjørende satsvise oppgaver er parametriserte og begrenset.</span><span class="sxs-lookup"><span data-stu-id="a8f10-268">The number of running batch tasks has been parameterized and limited.</span></span> <span data-ttu-id="a8f10-269">Dette antallet kan derfor være spesielt innstilt for kundens miljø.</span><span class="sxs-lookup"><span data-stu-id="a8f10-269">Therefore, this number can be fine-tuned specifically to a customer's environment.</span></span> <span data-ttu-id="a8f10-270">I den eldre funksjonen for utdragspostering ble det opprettet et ubegrenset antall satsvise oppgaver samtidig.</span><span class="sxs-lookup"><span data-stu-id="a8f10-270">In the legacy statement posting feature, an unlimited number of batch tasks was created at the same time.</span></span> <span data-ttu-id="a8f10-271">Resultatet var uhåndterlige belastninger, administrasjon og flaskehalser på den satsvise serveren.</span><span class="sxs-lookup"><span data-stu-id="a8f10-271">The results were unmanageable loads, overhead, and bottlenecks on the batch server.</span></span>
- <span data-ttu-id="a8f10-272">Utdragene er effektivt lagt i kø for behandling ved å prioritere utdragene som har det maksimale antallet transaksjoner.</span><span class="sxs-lookup"><span data-stu-id="a8f10-272">Statements are efficiently queued for processing by prioritizing the statements that have the maximum number of transactions.</span></span>
- <span data-ttu-id="a8f10-273">Satsvise prosesser som **Beregn utdrag satsvis** og **Poster utdrag satsvis** kjøres bare i satsvis modus.</span><span class="sxs-lookup"><span data-stu-id="a8f10-273">Batch processes such as **Calculate statements in batch** and **Post statements in batch** are run only in batch mode.</span></span> <span data-ttu-id="a8f10-274">I den eldre funksjonen for postering av utdrag kunne brukerne velge å kjøre disse satsvise prosessene i en interaktiv modus, som er en enkelttrådet operasjon, i motsetning til satsvise prosesser, som er flertrådige.</span><span class="sxs-lookup"><span data-stu-id="a8f10-274">In the legacy statement posting feature, users could choose to run these batch processes in an interactive mode which is s single threaded operation unlike batch processes which are multi-threaded.</span></span>
- <span data-ttu-id="a8f10-275">I den eldre funksjonen for utdragspostering ville eventuelle feil i en satsvis oppgave sette hele jobben i feiltilstand.</span><span class="sxs-lookup"><span data-stu-id="a8f10-275">In the legacy statement posting feature, any failure of a batch task put the whole batch job in an error state.</span></span> <span data-ttu-id="a8f10-276">I den forbedrede funksjonen setter ikke mislykkede satsvise oppgaver hele den satsvise jobben i feiltilstand hvis andre satsvise oppgaver er vellykket fullført.</span><span class="sxs-lookup"><span data-stu-id="a8f10-276">In the improved feature, batch task failures don't put the batch job in an error state if other batch tasks are successfully completed.</span></span> <span data-ttu-id="a8f10-277">Du bør undersøke posteringsstatusen for en satsvis utføring som er kjørt ved hjelp av siden **Utdrag**, der du kan se alle utdrag som ikke er postert på grunn av feil.</span><span class="sxs-lookup"><span data-stu-id="a8f10-277">You should assess the posting status for a batch execution run by using the **Statements** page, where you can see any statements that weren't posted because of errors.</span></span>
- <span data-ttu-id="a8f10-278">I den eldre funksjonen for utdragspostering-får den første forekomsten av en utdragsfeil hele den satsvise jobben til å mislykkes.</span><span class="sxs-lookup"><span data-stu-id="a8f10-278">In the legacy statement posting feature, the first occurrence of a statement failure causes the whole batch to fail.</span></span> <span data-ttu-id="a8f10-279">De gjenværende utdragene blir ikke behandlet.</span><span class="sxs-lookup"><span data-stu-id="a8f10-279">The remaining statements aren't processed.</span></span> <span data-ttu-id="a8f10-280">I den forbedrede funksjonen fortsetter den satsvise prosessen å behandle alle utdrag, selv om noen av utdragene mislykkes.</span><span class="sxs-lookup"><span data-stu-id="a8f10-280">In the improved feature, the batch process continues to process all statements, even if some of the statements fail.</span></span> <span data-ttu-id="a8f10-281">Én fordel er at brukernefår innsikt i det nøyaktige antallet utdrag som inneholder feil.</span><span class="sxs-lookup"><span data-stu-id="a8f10-281">One benefit is that users gain visibility into the exact number of statements that have errors.</span></span> <span data-ttu-id="a8f10-282">Brukerne trenger derfor ikke bli låst fast i en kontinuerlig løkke for å rette feilene og kjøre prosessen for postering av utdrag til alle utdrag er postert.</span><span class="sxs-lookup"><span data-stu-id="a8f10-282">Therefore, users don't have to be stuck in a continuous loop of fixing the errors and running the post statement process till all statements are posted.</span></span>

## <a name="general-guidance-about-the-statement-posting-process"></a><span data-ttu-id="a8f10-283">Generell informasjon om utdragsposteringsprosessen</span><span class="sxs-lookup"><span data-stu-id="a8f10-283">General guidance about the statement posting process</span></span>

- <span data-ttu-id="a8f10-284">Vi anbefaler at du kjører utdragsposteringsprosessen satsvist, fordi satsvise kjøringer utnytter kraften i det satsvise rammeverket i form av flertrådskjøring.</span><span class="sxs-lookup"><span data-stu-id="a8f10-284">We recommend that you run the statement posting process in a batch, because batch runs take advantage of the power of the batch framework in terms of multithreading.</span></span> <span data-ttu-id="a8f10-285">Flertråding kreves for å håndtere store mengder transaksjoner som vanligvis vises i utdragsposteringer.</span><span class="sxs-lookup"><span data-stu-id="a8f10-285">Multithreading is required in order to handle the huge volumes of transactions that are normally seen in statement postings.</span></span>
- <span data-ttu-id="a8f10-286">Vi anbefaler at du aktiverer fysisk negativt lager i varemodellgruppen, slik at du har erfaring med en sømløs postering.</span><span class="sxs-lookup"><span data-stu-id="a8f10-286">We recommend that you turn on negative physical inventory on the item model group, so that you have a seamless posting experience.</span></span> <span data-ttu-id="a8f10-287">I enkelte tilfeller kan kanskje ikke negative utdrag posteres, hvis det ikke finnes et fysisk negativt lager.</span><span class="sxs-lookup"><span data-stu-id="a8f10-287">In some scenarios, negative statements might not be able to be posted unless there is negative physical inventory.</span></span> <span data-ttu-id="a8f10-288">Hvis det for eksempel i teorien bare finnes én enhet av en vare på lager, og det har vært en salgstransaksjon og en returtransaksjon for varen, skal transaksjonen kunne posteres, selv om lagerbeholdningen ikke er aktivert.</span><span class="sxs-lookup"><span data-stu-id="a8f10-288">For example, in theory, if there is only one unit of an item in inventory, and there have been a sales transaction and a return transaction for the item, the transaction should be able to be posted even if negative inventory isn't turned on.</span></span> <span data-ttu-id="a8f10-289">Siden utdragsposteringsprosessen henter både salgstransaksjonen og returner transaksjonen i en enkelt kundeordre, er det ingen garanti for at salgslinjen posteres først, etterfulgt av returlinjen.</span><span class="sxs-lookup"><span data-stu-id="a8f10-289">However, because the statement posting process pulls both the sales transaction and the return transaction in a single customer order, there is no guarantee that the sales line will be posted first, followed by the return line.</span></span> <span data-ttu-id="a8f10-290">Derfor kan det oppstå feil.</span><span class="sxs-lookup"><span data-stu-id="a8f10-290">Therefore, errors can occur.</span></span> <span data-ttu-id="a8f10-291">Hvis negativ beholdning er aktivert i denne situasjonen, transaksjonsposteringen påvirkes ikke negativt og systemet viser riktig beholdning.</span><span class="sxs-lookup"><span data-stu-id="a8f10-291">If negative inventory is turned on in this scenario, the transaction posting isn't negatively affected, and the system will correctly reflect the inventory.</span></span>
- <span data-ttu-id="a8f10-292">Vi anbefaler at du bruker aggregering mens du beregner og posterer utdrag.</span><span class="sxs-lookup"><span data-stu-id="a8f10-292">We recommend that you use aggregation while you calculate and post statements.</span></span> <span data-ttu-id="a8f10-293">Derfor anbefales følgende innstillinger for noen av aggregeringsparameterne:</span><span class="sxs-lookup"><span data-stu-id="a8f10-293">Therefore, the following settings are recommended for some of the aggregation parameters:</span></span>

    - <span data-ttu-id="a8f10-294">Gå til **Retail og Commerce** \> **Hovedkvarteroppsett** \> **Parametere** \> **Parametere for Commerce**.</span><span class="sxs-lookup"><span data-stu-id="a8f10-294">Go to **Retail and Commerce** \> **Headquarters setup** \> **Parameters** \> **Commerce parameters**.</span></span> <span data-ttu-id="a8f10-295">Deretter, på **Postering**-fanen på hurtigfanen **Lageroppdatering** i feltet **Detaljnivå**, velger du **Sammendrag**.</span><span class="sxs-lookup"><span data-stu-id="a8f10-295">Then, on the **Posting** tab, on the **Inventory update** FastTab, in the **Detail level** field, select **Summary**.</span></span>
    - <span data-ttu-id="a8f10-296">Gå til **Retail og Commerce** \> **Hovedkvarteroppsett** \> **Parametere** \> **Parametere for Commerce**.</span><span class="sxs-lookup"><span data-stu-id="a8f10-296">Go to **Retail and Commerce** \> **Headquarters setup** \> **Parameters** \> **Commerce parameters**.</span></span> <span data-ttu-id="a8f10-297">Deretter, på **Postering**-fanen på hurtigfanen **Aggregering**, angir du **Bilagstransaksjoner** til **Ja**.</span><span class="sxs-lookup"><span data-stu-id="a8f10-297">Then, on the **Posting** tab, on the **Aggregation** FastTab, set the **Voucher transactions** option to **Yes**.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]