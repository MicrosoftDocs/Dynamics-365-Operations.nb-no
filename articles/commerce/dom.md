---
title: Behandling av distribuert ordre (DOM)
description: Dette emnet beskriver DOM-funksjonaliteten i Dynamics 365 Commerce.
author: josaw1
manager: AnnBe
ms.date: 01/08/2021
ms.topic: index-page
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.custom: ''
ms.assetid: ed0f77f7-3609-4330-bebd-ca3134575216
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2018-11-15
ms.dyn365.ops.version: ''
ms.openlocfilehash: 367eaebfdd59d15040bfd4824b0b6f4621cb7147
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: nb-NO
ms.lasthandoff: 01/15/2021
ms.locfileid: "4982597"
---
# <a name="distributed-order-management-dom"></a><span data-ttu-id="af716-103">Behandling av distribuert ordre (DOM)</span><span class="sxs-lookup"><span data-stu-id="af716-103">Distributed order management (DOM)</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="af716-104">I dette nye paradigmet for handelsoperasjoner forsøker forhandlere å formidle tilpasset kundeengasjement, omnikanalopplevelser og problemfrie samhandlinger.</span><span class="sxs-lookup"><span data-stu-id="af716-104">In the new paradigm for commerce operations, retailers strive to provide personalized customer engagement, omni-channel experiences, and frictionless interactions.</span></span> <span data-ttu-id="af716-105">Veldig mange alternativer er tilgjengelige, og derfor vil brukerne handle der de får den beste opplevelsen.</span><span class="sxs-lookup"><span data-stu-id="af716-105">Because so many choices are available, consumers will shop wherever they can have the most favorable experience.</span></span> <span data-ttu-id="af716-106">I mange tilfeller er priser og produkter ikke lenger de mest avgjørende faktorene for forbrukere.</span><span class="sxs-lookup"><span data-stu-id="af716-106">In many cases, prices and products are no longer the top deciding factors for consumers.</span></span>

<span data-ttu-id="af716-107">For å forbedre kundeopplevelsen må forhandlerne ha oversikt over lagerbeholdningen i sanntid på tvers av alle kanalene sine.</span><span class="sxs-lookup"><span data-stu-id="af716-107">To help improve the customer experience, retailers must have visibility into their inventory in real time, across all their channels.</span></span> <span data-ttu-id="af716-108">En enkel helhetlig oversikt over hele beholdningen kan bidra til å optimalisere oppfyllelse av ordre, fordeling og distribusjon.</span><span class="sxs-lookup"><span data-stu-id="af716-108">A single, holistic view of all the inventory can help optimize order fulfillment, allocation, and distribution.</span></span> <span data-ttu-id="af716-109">Derfor blir bruk og implementering av et DOM-system stadig viktigere for forhandlere.</span><span class="sxs-lookup"><span data-stu-id="af716-109">Therefore, adoption and implementation of a distributed order management (DOM) system are becoming more imperative for retailers.</span></span>

<span data-ttu-id="af716-110">DOM optimaliserer oppfyllelse av ordrer på tvers av et avansert nettverk av systemer og prosesser.</span><span class="sxs-lookup"><span data-stu-id="af716-110">DOM optimizes order fulfillment across a complex network of systems and processes.</span></span> <span data-ttu-id="af716-111">Det avhenger av én global visning av beholdningen på tvers av hele organisasjonen for å administrere ordrer på en smart måte, slik at de blir oppfylt nøyaktig og på en mer kostnadseffektiv måte.</span><span class="sxs-lookup"><span data-stu-id="af716-111">It relies on a single, global view of inventory across the whole organization to intelligently manage orders, so that they are fulfilled accurately and in a more cost-effective manner.</span></span> <span data-ttu-id="af716-112">Ved å forbedre effektiviteten til en forhandlers forsyningskjede, bidrar DOM til at forhandleren oppfyller kundeforventninger på en bedre måte.</span><span class="sxs-lookup"><span data-stu-id="af716-112">By improving the efficiency of a retailer's supply chain, DOM helps the retailer better meet customer expectations.</span></span>

<span data-ttu-id="af716-113">Illustrasjonen nedenfor viser livssyklusen til en salgsordre i et DOM-system.</span><span class="sxs-lookup"><span data-stu-id="af716-113">The following illustration shows the lifecycle of a sales order in a DOM system.</span></span>

<span data-ttu-id="af716-114">![Livssyklus for salgsordre i konteksten til DOM](./media/flow.png "Livssyklus for salgsordre i konteksten til DOM")</span><span class="sxs-lookup"><span data-stu-id="af716-114">![Sales order lifecycle in the context of DOM](./media/flow.png "Sales order lifecycle in the context of DOM")</span></span>

## <a name="set-up-dom"></a><span data-ttu-id="af716-115">Definer DOM</span><span class="sxs-lookup"><span data-stu-id="af716-115">Set up DOM</span></span>

1. <span data-ttu-id="af716-116">Gå til **Systemadministrasjon \> Oppsett \> Lisenskonfigurasjon**.</span><span class="sxs-lookup"><span data-stu-id="af716-116">Go to **System administration \> Setup \> License configuration**.</span></span>
2. <span data-ttu-id="af716-117">Vis **Handel**-noden i fanen **Konfigurasjonsnøkler**, og merk deretter av for **Behandling av distribuert ordre**.</span><span class="sxs-lookup"><span data-stu-id="af716-117">On the **Configuration keys** tab, expand the **Commerce** node, and then select the **Distributed Order Management** check box.</span></span>
3. <span data-ttu-id="af716-118">Gå til **Detaljhandel og handel \> Behandling av distribuert ordre \> Oppsett \> DOM-parametere**.</span><span class="sxs-lookup"><span data-stu-id="af716-118">Go to **Retail and Commerce \> Distributed order management \> Setup \> DOM parameters**.</span></span>
4. <span data-ttu-id="af716-119">Angi følgende verdier i fanen **Generelt**:</span><span class="sxs-lookup"><span data-stu-id="af716-119">On the **General** tab, set the following values:</span></span>

    - <span data-ttu-id="af716-120">**Aktiver behandling av distribuert ordre** – Sett dette alternativet til **Ja**.</span><span class="sxs-lookup"><span data-stu-id="af716-120">**Enable distributed order management** – Set this option to **Yes**.</span></span>
    - <span data-ttu-id="af716-121">**Bekreft bruk av Bing-kart for DOM** – Sett dette alternativet til **Ja**.</span><span class="sxs-lookup"><span data-stu-id="af716-121">**Confirm Bing Maps usage for DOM** – Set this option to **Yes**.</span></span>


        > [!NOTE]
        > <span data-ttu-id="af716-122">Du kan sette dette alternativet til **Ja** bare hvis alternativet **Aktiver Bing-kart** i fanen **Bing-kart** på siden **Delte handelsparametere** (**Retail og Commerce \> Hovedkvarteroppsett \> Parametere \> Delte handelsparametere**) også er satt til **Ja**, og hvis en gyldig nøkkel er angitt i feltet **Nøkkel for Bing-kart**.</span><span class="sxs-lookup"><span data-stu-id="af716-122">You can set this option to **Yes** only if the **Enable Bing Maps** option on the **Bing Maps** tab of the **Commerce shared parameters** page (**Retail and Commerce \> Headquarters setup \> Parameters \> Commerce shared parameters**) is also set to **Yes**, and if a valid key is entered in the **Bing Maps key** field.</span></span>
        >
        > <span data-ttu-id="af716-123">Med portalen [Utviklersenter for Bing-kart](https://www.bingmapsportal.com/) kan du begrense tilgangen på API-nøklene for Bing-kart til et sett med domener du angir.</span><span class="sxs-lookup"><span data-stu-id="af716-123">The [Bing Maps Dev Center](https://www.bingmapsportal.com/) portal allows you to restrict access on your Bing Maps API keys to a set of domains that you specify.</span></span> <span data-ttu-id="af716-124">Ved hjelp av denne funksjonen kan kunder definere et strengt sett med referanseverdier eller IP-adresseområder som nøkkelen vil bli validert mot.</span><span class="sxs-lookup"><span data-stu-id="af716-124">With this feature, customers can define a strict set of referrer values or IP address ranges that the key will be validated against.</span></span> <span data-ttu-id="af716-125">Forespørsler som stammer fra tillatelseslisten din, behandles på vanlig måte, mens forespørsler utenfra listen din vil returnere en tilgang som ikke fikk svar.</span><span class="sxs-lookup"><span data-stu-id="af716-125">Requests originating from your allow list will process normally, while requests from outside of your list will return an access denied response.</span></span> <span data-ttu-id="af716-126">Det er valgfritt å legge til domenesikkerhet i API-nøkkelen, og nøkler som forblir uendret, vil fortsette å fungere.</span><span class="sxs-lookup"><span data-stu-id="af716-126">Adding domain security to your API key is optional and keys left as-is will continue to function.</span></span> <span data-ttu-id="af716-127">Tillatelseslisten for en nøkkel er uavhengig av alle de andre nøklene, noe som gjør at du kan ha atskilte regler for hver av nøklene dine.</span><span class="sxs-lookup"><span data-stu-id="af716-127">The allow list for a key is independent from all of your other keys, enabling you to have distinct rules for each of your keys.</span></span> <span data-ttu-id="af716-128">Distribuert ordrebehandling støtter ikke oppsett av domeneegenskaper som det refereres til.</span><span class="sxs-lookup"><span data-stu-id="af716-128">Distributed Order Management does not support the setting up of domain-referred properties.</span></span>


    - <span data-ttu-id="af716-129">**Oppbevaringsperiode i dager** – Angi hvor lenge oppfyllelsesplanene som DOM-kjøringer genererer, skal beholdes i systemet.</span><span class="sxs-lookup"><span data-stu-id="af716-129">**Retention period in days** – Specify how long the fulfillment plans that DOM runs generate are kept in the system.</span></span> <span data-ttu-id="af716-130">Den satsvise jobben **Oppsett for jobb for sletting av DOM-oppfyllelsesdata** sletter alle oppfyllelsesplaner som er eldre enn antallet dager du angir her.</span><span class="sxs-lookup"><span data-stu-id="af716-130">The **DOM fulfillment data deletion job setup** batch job will delete any fulfillment plan that is older than the number of days that you specify here.</span></span>
    - <span data-ttu-id="af716-131">**Avvisningsperiode (i dager)** – Angi hvor lang tid det må gå før en avvist ordrelinje kan tilordnes til samme lokasjon.</span><span class="sxs-lookup"><span data-stu-id="af716-131">**Rejection period (in days)** – Specify how much time must pass before a rejected order line can be assigned to the same location.</span></span>

5. <span data-ttu-id="af716-132">Angi følgende verdier i fanen **Problemløser**:</span><span class="sxs-lookup"><span data-stu-id="af716-132">On the **Solver** tab, set the following values:</span></span>

    - <span data-ttu-id="af716-133">**Maksimalt antall forsøk på automatisk oppfyllelse** – Angi hvor mange ganger DOM-motoren skal forsøke å formidle en ordrelinje til en lokasjon.</span><span class="sxs-lookup"><span data-stu-id="af716-133">**Max auto-fulfillment attempts** – Specify how many times the DOM engine will try to broker an order line to a location.</span></span> <span data-ttu-id="af716-134">Hvis DOM-motoren ikke kan formidle en ordrelinje til en lokasjon på det angitte antallet forsøk, blir ordrelinjen flagget som et unntak.</span><span class="sxs-lookup"><span data-stu-id="af716-134">If the DOM engine can't broker an order line to a location in the specified number of attempts, it will flag the order line as an exception.</span></span> <span data-ttu-id="af716-135">Motoren vil deretter hoppe over den linjen i senere kjøringer til statusen tilbakestilles manuelt.</span><span class="sxs-lookup"><span data-stu-id="af716-135">It will then skip that line in future runs until the status is manually reset.</span></span>
    - <span data-ttu-id="af716-136">**Områderadius for lokal butikk** – Angi en verdi.</span><span class="sxs-lookup"><span data-stu-id="af716-136">**Local store region radius** – Enter a value.</span></span> <span data-ttu-id="af716-137">Dette feltet bidrar til å fastslå hvordan lokasjoner blir gruppert og vurdert som like når det gjelder avstand.</span><span class="sxs-lookup"><span data-stu-id="af716-137">This field helps determine how locations are grouped and considered equal in terms of distance.</span></span> <span data-ttu-id="af716-138">Hvis du for eksempel angir **100**, vurderes hver butikk eller distribusjonssenter innen en avstand på 100 km av oppfyllelsesadressen som like når det gjelder avstand.</span><span class="sxs-lookup"><span data-stu-id="af716-138">For example, if you enter **100**, every store or distribution center within a 100-mile radius of the fulfillment address is considered equal in terms of distance.</span></span>
    - <span data-ttu-id="af716-139">**Problemløsertype** – Velg en verdi.</span><span class="sxs-lookup"><span data-stu-id="af716-139">**Solver type** – Select a value.</span></span> <span data-ttu-id="af716-140">To typer i problemløsere følger med Commerce: **Produksjonsproblemløser** og **Forenklet problemløser**.</span><span class="sxs-lookup"><span data-stu-id="af716-140">Two solver types are released with Commerce: **Production Solver** and **Simplified Solver**.</span></span> <span data-ttu-id="af716-141">For alle maskiner som kjører DOM (det vil si alle servere som er en del av DOMBatch-gruppen), må **Produksjonsproblemløser** velges.</span><span class="sxs-lookup"><span data-stu-id="af716-141">For all machines that will run DOM (that is, all servers that are part of the DOMBatch group), **Production Solver** must be selected.</span></span> <span data-ttu-id="af716-142">Produksjonsproblemløseren krever den spesielle lisensnøkkelen som er lisensiert og distribuert i produksjonsmiljøer som standard.</span><span class="sxs-lookup"><span data-stu-id="af716-142">The Production Solver requires the special license key that, by default, is licensed and deployed in production environments.</span></span> <span data-ttu-id="af716-143">For ikke-produksjonsmiljøer må denne lisensnøkkelen distribueres manuelt.</span><span class="sxs-lookup"><span data-stu-id="af716-143">For non-production environments, this license key must be manually deployed.</span></span> <span data-ttu-id="af716-144">Hvis du vil distribuere lisensnøkkelen manuelt, gjør du følgende:</span><span class="sxs-lookup"><span data-stu-id="af716-144">To manually deploy the license key, follow these steps:</span></span>

        1. <span data-ttu-id="af716-145">I Microsoft Dynamics Lifecycle Services åpner du det delte aktivabiblioteket, velger **Modell** som aktivatype og laster ned **DOM-lisensfilen**.</span><span class="sxs-lookup"><span data-stu-id="af716-145">In Microsoft Dynamics Lifecycle Services, open the Shared asset library, select **Model** as the asset type, and download the **DOM license** file.</span></span>
        1. <span data-ttu-id="af716-146">Start Microsoft IIS-behandling, høyreklikk på **AOSService-nettsted**, og velg deretter **Utforsk**.</span><span class="sxs-lookup"><span data-stu-id="af716-146">Start Microsoft Internet Information Services (IIS) Manager, right-click **AOSService website**, and then select **Explore**.</span></span> <span data-ttu-id="af716-147">Et Windows Utforsker-vindu åpnes på **\<AOS service root\>\\webroot**.</span><span class="sxs-lookup"><span data-stu-id="af716-147">A Windows Explorer window is opened at **\<AOS service root\>\\webroot**.</span></span> <span data-ttu-id="af716-148">Noter deg banen for \<AOS Service root\> fordi du skal bruke den i neste trinn.</span><span class="sxs-lookup"><span data-stu-id="af716-148">Make a note of the \<AOS Service root\> path, because you will use it in the next step.</span></span>
        1. <span data-ttu-id="af716-149">Kopier konfigurasjonsfilen i katalogen **\<AOS Service root\>\\PackagesLocalDirectory\\DOM\\bin**.</span><span class="sxs-lookup"><span data-stu-id="af716-149">Copy the configuration file in the **\<AOS Service root\>\\PackagesLocalDirectory\\DOM\\bin** directory.</span></span>
        1. <span data-ttu-id="af716-150">Gå til klienten Hovedkvarter og åpne siden **DOM-parametere**.</span><span class="sxs-lookup"><span data-stu-id="af716-150">Go to the Headquarters client, and open the **DOM parameters** page.</span></span> <span data-ttu-id="af716-151">Velg **Produksjonsproblemløser** i feltet **Problemløsertype** i fanen **Problemløser**, og bekreft at det ikke vises noen feilmeldinger.</span><span class="sxs-lookup"><span data-stu-id="af716-151">On the **Solver** tab, in the **Solver type** field, select **Production solver**, and confirm that no error messages appear.</span></span>


        > [!NOTE]
        > <span data-ttu-id="af716-152">Den forenklede problemløseren blir formidlet slik at forhandlere kan teste DOM-funksjonen uten å måtte distribuere spesiallisensen.</span><span class="sxs-lookup"><span data-stu-id="af716-152">The Simplified Solver is provided so that retailers can try out the DOM feature without having to deploy the special license.</span></span> <span data-ttu-id="af716-153">Organisasjoner bør ikke bruke den forenklede problemløseren i produksjonsmiljøer.</span><span class="sxs-lookup"><span data-stu-id="af716-153">Organizations should not use the Simplified Solver in production environments.</span></span>
        >
        > <span data-ttu-id="af716-154">Produksjonsproblemløseren forbedrer ytelse (for eksempel hvor mange ordrer og ordrelinjer som kan behandles i en kjøring) og sammenfall av resultater (ettersom en bunke med ordrer kanskje ikke gir det beste resultatet i noen scenarioer).</span><span class="sxs-lookup"><span data-stu-id="af716-154">The Production Solver improves performance (such as the number of orders and order lines that can be handled in a run) and convergence of results (since a batch of orders might not yield the best result in some scenarios).</span></span> <span data-ttu-id="af716-155">Noen regler, for eksempel regelen **Delvise ordrer** og regelen **Maksimalt antall steder** krever produksjonsproblemløseren.</span><span class="sxs-lookup"><span data-stu-id="af716-155">Some rules like the **Partial orders** rule and the **Maximum number of locations** rule require Production Solver.</span></span>
     
6. <span data-ttu-id="af716-156">Gå tilbake til **Retail og Commerce \> Behandling av distribuert ordre \> Oppsett \> DOM-parametere**.</span><span class="sxs-lookup"><span data-stu-id="af716-156">Go back to **Retail and Commerce \> Distributed order management \> Setup \> DOM parameters**.</span></span>
7. <span data-ttu-id="af716-157">I fanen **Nummerserier** tilordner du de nødvendige nummerseriene for de ulike DOM-enhetene.</span><span class="sxs-lookup"><span data-stu-id="af716-157">On the **Number sequences** tab, assign the required number sequences to the various DOM entities.</span></span>

    > [!NOTE]
    > <span data-ttu-id="af716-158">Før nummerseriene kan tilordnes til enheter, må de defineres på siden **Nummerserier** (**Organisasjonsstyring \> Nummerserier \> Nummerserier**).</span><span class="sxs-lookup"><span data-stu-id="af716-158">Before the number sequences can be assigned to the entities, they must be defined on the **Number sequences** page (**Organization administration \> Number sequences \> Number sequences**).</span></span>

8. <span data-ttu-id="af716-159">DOM-funksjonen støtter definisjonen av ulike typer DOM-regler, og organisasjoner kan konfigurere flere regler, avhengig av deres forretningsbehov.</span><span class="sxs-lookup"><span data-stu-id="af716-159">The DOM feature supports the definition of various types of DOM rules, and organizations can configure multiple rules, depending on their business needs.</span></span> <span data-ttu-id="af716-160">DOM-regler kan defineres for en gruppe med lokasjoner eller individuelle lokasjoner, og for en bestemt produktkategori, produkt eller variant.</span><span class="sxs-lookup"><span data-stu-id="af716-160">DOM rules can be defined for a group of locations or individual locations, and for a specific product category, product, or variant.</span></span> <span data-ttu-id="af716-161">Hvis du vil opprette gruppering av lokasjoner som må brukes for DOM-reglene, gjør du følgende:</span><span class="sxs-lookup"><span data-stu-id="af716-161">To create the grouping of locations that must be used for the DOM rules, follow these steps:</span></span>

    1. <span data-ttu-id="af716-162">Gå til **Detaljhandel og handel \> Kanaloppsett \> Oppfyllelsesgrupper**.</span><span class="sxs-lookup"><span data-stu-id="af716-162">Go to **Retail and Commerce \> Channel setup \> Fulfillment groups**.</span></span>
    2. <span data-ttu-id="af716-163">Velg **Ny**, og angi et navn og en beskrivelse for den nye gruppen.</span><span class="sxs-lookup"><span data-stu-id="af716-163">Select **New**, and enter a name and description for the new group.</span></span>
    3. <span data-ttu-id="af716-164">Velg **Lagre**.</span><span class="sxs-lookup"><span data-stu-id="af716-164">Select **Save**.</span></span>
    4. <span data-ttu-id="af716-165">Velg **Legg til linje** for å legge til ett lokasjon i gruppen.</span><span class="sxs-lookup"><span data-stu-id="af716-165">Select **Add line** to add a single location to the group.</span></span> <span data-ttu-id="af716-166">Velg eventuelt **Legg til linjer** for å legge til flere lokasjoner.</span><span class="sxs-lookup"><span data-stu-id="af716-166">Alternatively, select **Add lines** to add multiple locations.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="af716-167">I Commerce versjon 10.0.12 og høyere må **muligheten til å angi lokasjoner, som Forsendelse eller Plukking, som er aktivert i en oppfyllelsesgruppe**, være aktivert i arbeidsområdet **Funksjonsbehandling**.</span><span class="sxs-lookup"><span data-stu-id="af716-167">In Commerce version 10.0.12 and higher, **Ability to specify locations as 'Shipping' or 'Pickup' enabled within Fulfillment group** must be enabled in the **Feature Management** workspace.</span></span>
    >
    > <span data-ttu-id="af716-168">Denne funksjonen legger til nye konfigurasjoner på siden **Oppfyllelsesgruppe** slik at du kan definere om lageret kan brukes til forsendelse, eller om kombinasjonen lager/butikk kan brukes til forsendelse, plukking eller begge deler.</span><span class="sxs-lookup"><span data-stu-id="af716-168">This feature add new configurations on the **Fulfillment group** page so you can define if the warehouse can be used for shipping or if the warehouse/store combination can be used for shipping, pickup, or both.</span></span> 
    >
    > <span data-ttu-id="af716-169">Hvis du aktiverer funksjonen, oppdateres alternativene som er tilgjengelige for lokasjonsvalg når du oppretter plukk- eller forsendelsesordrer på salgsstedet.</span><span class="sxs-lookup"><span data-stu-id="af716-169">If you enable the feature, the options available for location selection when you create pickup or shipment orders in POS will be updated.</span></span>
    >
    > <span data-ttu-id="af716-170">Når du aktiverer funksjonen, blir også sider i salgsstedsoperasjoner oppdatert når operasjonen Send alle eller Send valgte blir valgt.</span><span class="sxs-lookup"><span data-stu-id="af716-170">Enabling the feature also results in updated pages in POS when the "ship all" or "ship selected" operations are selected.</span></span>

9. <span data-ttu-id="af716-171">Hvis du vil definere regler, går du til **Detaljhandel og handel \> Behandling av distribuert ordre \> Oppsett \> Administrer regler**.</span><span class="sxs-lookup"><span data-stu-id="af716-171">To define rules, go to **Retail and Commerce \> Distributed order management \> Setup \> Manage rules**.</span></span> <span data-ttu-id="af716-172">Følgende DOM-regler støttes for øyeblikket:</span><span class="sxs-lookup"><span data-stu-id="af716-172">The following DOM rules are currently supported:</span></span>

    - <span data-ttu-id="af716-173">**Regel for minimumslager** – Denne regeltypen lar organisasjoner "ringe inn" et bestemt antall av et produkt for andre formål enn oppfyllelse av ordren.</span><span class="sxs-lookup"><span data-stu-id="af716-173">**Minimum inventory rule** – This rule type lets organizations "ring fence" a specific quantity of a product for purposes other than order fulfillment.</span></span> <span data-ttu-id="af716-174">Organisasjoner vil for eksempel ikke at DOM skal vurdere hele beholdningen som er tilgjengelig i en butikk for oppfyllelse av ordren.</span><span class="sxs-lookup"><span data-stu-id="af716-174">For example, organizations might not want DOM to consider all the inventory that is available in a store for order fulfillment.</span></span> <span data-ttu-id="af716-175">De vil i stedet reservere deler av beholdningen for butikkunder.</span><span class="sxs-lookup"><span data-stu-id="af716-175">Instead, they might want to reserve some inventory for walk-in customers.</span></span> <span data-ttu-id="af716-176">Når denne regeltypen brukes, kan du definere minimumslageret som skal beholdes for en kategori av produkter, et individuelt produkt eller en produktvariant per lokasjon eller gruppe med lokasjoner.</span><span class="sxs-lookup"><span data-stu-id="af716-176">When this rule type is used, you can define the minimum inventory to keep for a category of products, an individual product, or a product variant per location or group of locations.</span></span>
    - <span data-ttu-id="af716-177">**Prioritetsregel for oppfyllelseslokasjon** – Denne regeltypen lar organisasjoner definere et hierarki av lokasjoner for å opprette prioriteten som DOM-motoren vurderer når den prøver å identifisere oppfyllelseslokasjoner for bestemte produkter.</span><span class="sxs-lookup"><span data-stu-id="af716-177">**Fulfillment location priority rule** – This rule type lets organizations define a hierarchy of locations to establish the priority that the DOM engine considers when it tries to identify fulfillment locations for specific products.</span></span> <span data-ttu-id="af716-178">Det gyldige området av prioriteter er 1 til 10, der 1 er den høyeste prioriteten og 10 er den laveste prioriteten.</span><span class="sxs-lookup"><span data-stu-id="af716-178">The valid range of priorities is 1 through 10, where 1 is the highest priority and 10 is the lowest priority.</span></span> <span data-ttu-id="af716-179">lokasjoner som har høyere prioritet, vurderes før lokasjoner som har lavere prioritet.</span><span class="sxs-lookup"><span data-stu-id="af716-179">Locations that have higher priority are considered before locations that have lower priority.</span></span> <span data-ttu-id="af716-180">Hvis regelen er definert som en regel med hard begrensning, formidles ordrer bare til lokasjoner som prioriteter er definert for.</span><span class="sxs-lookup"><span data-stu-id="af716-180">If the rule is defined as a hard constraint rule, orders are brokered only to locations that priorities are defined for.</span></span>
    - <span data-ttu-id="af716-181">**Regel for delvise ordrer** – Denne regelen lar organisasjoner definere om en ordre eller ordrelinjer delvis kan oppfylles.</span><span class="sxs-lookup"><span data-stu-id="af716-181">**Partial orders rule** – This rule lets organizations define whether an order or order lines can be partially fulfilled.</span></span> <span data-ttu-id="af716-182">Følgende parametere er tilgjengelige:</span><span class="sxs-lookup"><span data-stu-id="af716-182">The following parameters are available:</span></span>

        - <span data-ttu-id="af716-183">**Oppfylle delvise ordrer?**</span><span class="sxs-lookup"><span data-stu-id="af716-183">**Fulfill partial orders?**</span></span> <span data-ttu-id="af716-184">– Hvis dette alternativet er satt til **Ja**, kan DOM oppfylle bare en del av antallet på en ordrelinje.</span><span class="sxs-lookup"><span data-stu-id="af716-184">– If this option is set to **Yes**, DOM can fulfill only part of the quantity on an order line.</span></span> <span data-ttu-id="af716-185">Denne delvise oppfyllelsen oppnås ved å dele opp ordrelinjen.</span><span class="sxs-lookup"><span data-stu-id="af716-185">This partial fulfillment is achieved by splitting the order line.</span></span>
        - <span data-ttu-id="af716-186">**Oppfylle delvise linjer?**</span><span class="sxs-lookup"><span data-stu-id="af716-186">**Fulfill partial lines?**</span></span> <span data-ttu-id="af716-187">– Hvis dette alternativet er satt til **Ja**, kan DOM oppfylle et delvist antall ordrelinjer.</span><span class="sxs-lookup"><span data-stu-id="af716-187">– If this option is set to **Yes**, DOM can fulfill a partial quantity of order lines.</span></span> <span data-ttu-id="af716-188">Denne delvise oppfyllelsen oppnås ved å dele opp ordrelinjen.</span><span class="sxs-lookup"><span data-stu-id="af716-188">This partial fulfillment is achieved by splitting the order line.</span></span>
        - <span data-ttu-id="af716-189">**Bare oppfylle ordre fra én lokasjon?** – Hvis dette alternativet er satt til **Ja**, sørger DOM for at alle linjer i en ordre blir oppfylt fra ett lokasjon.</span><span class="sxs-lookup"><span data-stu-id="af716-189">**Fulfill order from one location only** – If this option is set to **Yes**, DOM makes sure that all lines on an order are fulfilled from a single location.</span></span>


        <span data-ttu-id="af716-190">Tabellen nedenfor forklarer virkemåten når en kombinasjon av disse parameterne er definert.</span><span class="sxs-lookup"><span data-stu-id="af716-190">The following table explains the behavior when a combination of these parameters is defined.</span></span>

        | <span data-ttu-id="af716-191">Kombinasjonsnummer</span><span class="sxs-lookup"><span data-stu-id="af716-191">Combination number</span></span> | <span data-ttu-id="af716-192">Oppfylle delvise ordrer</span><span class="sxs-lookup"><span data-stu-id="af716-192">Fulfill partial orders</span></span> | <span data-ttu-id="af716-193">Oppfylle delvise linjer</span><span class="sxs-lookup"><span data-stu-id="af716-193">Fulfill partial lines</span></span> | <span data-ttu-id="af716-194">Bare oppfylle ordre fra én lokasjon</span><span class="sxs-lookup"><span data-stu-id="af716-194">Fulfill order from one location only</span></span> | <span data-ttu-id="af716-195">Beskrivelse</span><span class="sxs-lookup"><span data-stu-id="af716-195">Description</span></span> |
        |------|------------------------|-----------------------|--------------------------------------|-------------|
        | <span data-ttu-id="af716-196">1</span><span class="sxs-lookup"><span data-stu-id="af716-196">1</span></span>    | <span data-ttu-id="af716-197">Ja</span><span class="sxs-lookup"><span data-stu-id="af716-197">Yes</span></span>                    | <span data-ttu-id="af716-198">Ja</span><span class="sxs-lookup"><span data-stu-id="af716-198">Yes</span></span>                   | <span data-ttu-id="af716-199">Ja</span><span class="sxs-lookup"><span data-stu-id="af716-199">Yes</span></span>                                  | <span data-ttu-id="af716-200">Noen få linjer i ordren kan oppfylles, og enkeltlinjer kan delvis oppfylles, men alle linjene må være fra samme lokasjon i en forekomst av DOM-kjøringen.</span><span class="sxs-lookup"><span data-stu-id="af716-200">A few lines of the order can be fulfilled, and individual lines can be partially fulfilled, but all the lines must be from the same location in an instance of the DOM run.</span></span> <span data-ttu-id="af716-201">(Denne kombinasjonen støttes for øyeblikket ikke.)</span><span class="sxs-lookup"><span data-stu-id="af716-201">(This combination isn't currently supported.)</span></span> |
        | <span data-ttu-id="af716-202">2</span><span class="sxs-lookup"><span data-stu-id="af716-202">2</span></span>    | <span data-ttu-id="af716-203">Ja</span><span class="sxs-lookup"><span data-stu-id="af716-203">Yes</span></span>                    | <span data-ttu-id="af716-204">Nei</span><span class="sxs-lookup"><span data-stu-id="af716-204">No</span></span>                    | <span data-ttu-id="af716-205">Ja</span><span class="sxs-lookup"><span data-stu-id="af716-205">Yes</span></span>                                  | <span data-ttu-id="af716-206">Noen få linjer i ordren kan oppfylles, men enkeltlinjer kan ikke delvis oppfylles, og alle de oppfylte linjene må være fra samme lokasjon i en forekomst av DOM-kjøringen.</span><span class="sxs-lookup"><span data-stu-id="af716-206">A few lines of the order can be fulfilled, but individual lines can't be partially fulfilled, and all the fulfilled lines must be from the same location in an instance of the DOM run.</span></span> <span data-ttu-id="af716-207">(Denne kombinasjonen støttes for øyeblikket ikke.)</span><span class="sxs-lookup"><span data-stu-id="af716-207">(This combination isn't currently supported.)</span></span> |
        | <span data-ttu-id="af716-208">3</span><span class="sxs-lookup"><span data-stu-id="af716-208">3</span></span>    | <span data-ttu-id="af716-209">Ja</span><span class="sxs-lookup"><span data-stu-id="af716-209">Yes</span></span>                    | <span data-ttu-id="af716-210">Ja</span><span class="sxs-lookup"><span data-stu-id="af716-210">Yes</span></span>                   | <span data-ttu-id="af716-211">Nei</span><span class="sxs-lookup"><span data-stu-id="af716-211">No</span></span>                                   | <span data-ttu-id="af716-212">Noen få linjer i ordren kan oppfylles, enkeltlinjer kan ikke delvis oppfylles, og hver linje kan oppfylles fra mer enn ett lokasjon i en forekomst av DOM-kjøringen.</span><span class="sxs-lookup"><span data-stu-id="af716-212">A few lines of the order can be fulfilled, individual lines can be partially fulfilled, and each line can be fulfilled from more than one location in an instance of the DOM run.</span></span> |
        | <span data-ttu-id="af716-213">4\*</span><span class="sxs-lookup"><span data-stu-id="af716-213">4\*</span></span>  | <span data-ttu-id="af716-214">Nei</span><span class="sxs-lookup"><span data-stu-id="af716-214">No</span></span>                     | <span data-ttu-id="af716-215">Gjelder ikke</span><span class="sxs-lookup"><span data-stu-id="af716-215">Not applicable</span></span>        | <span data-ttu-id="af716-216">Nei</span><span class="sxs-lookup"><span data-stu-id="af716-216">No</span></span>                                   | <span data-ttu-id="af716-217">Alle ordrelinjer må oppfylles, individuelle linjer ikke kan oppfylles delvis, og hver ordrelinje kan oppfylles fra en annen lokasjon.</span><span class="sxs-lookup"><span data-stu-id="af716-217">All order lines must be fulfilled, individual lines can't be partially fulfilled, and each order line can be fulfilled from a different location.</span></span> |
        | <span data-ttu-id="af716-218">5\*</span><span class="sxs-lookup"><span data-stu-id="af716-218">5\*</span></span>  | <span data-ttu-id="af716-219">Nei</span><span class="sxs-lookup"><span data-stu-id="af716-219">No</span></span>                     | <span data-ttu-id="af716-220">Gjelder ikke</span><span class="sxs-lookup"><span data-stu-id="af716-220">Not applicable</span></span>        | <span data-ttu-id="af716-221">Ja</span><span class="sxs-lookup"><span data-stu-id="af716-221">Yes</span></span>                                  | <span data-ttu-id="af716-222">Alle ordrelinjer må oppfylles, individuelle linjer ikke kan oppfylles delvis, og alle ordrelinjene kan leveres fra bare ett lokasjon.</span><span class="sxs-lookup"><span data-stu-id="af716-222">All order lines must be fulfilled, individual lines can't be partially fulfilled, and all the order lines can be delivered from one location only.</span></span> |
        | <span data-ttu-id="af716-223">6\*</span><span class="sxs-lookup"><span data-stu-id="af716-223">6\*</span></span>  | <span data-ttu-id="af716-224">Nei</span><span class="sxs-lookup"><span data-stu-id="af716-224">No</span></span>                     | <span data-ttu-id="af716-225">Gjelder ikke</span><span class="sxs-lookup"><span data-stu-id="af716-225">Not applicable</span></span>        | <span data-ttu-id="af716-226">Nei</span><span class="sxs-lookup"><span data-stu-id="af716-226">No</span></span>                                   | <span data-ttu-id="af716-227">Denne kombinasjonen fungerer som kombinasjon 4, fordi **Oppfyll delvise linjer** ikke kan settes til **Ja** når **Oppfyll delvise ordrer** er satt til **Nei**.</span><span class="sxs-lookup"><span data-stu-id="af716-227">This combination works like combination 4, because **Fulfill partial lines** can't be set to **Yes** when **Fulfill partial orders** is set to **No**.</span></span> |
        | <span data-ttu-id="af716-228">7\*</span><span class="sxs-lookup"><span data-stu-id="af716-228">7\*</span></span>  | <span data-ttu-id="af716-229">Nei</span><span class="sxs-lookup"><span data-stu-id="af716-229">No</span></span>                     | <span data-ttu-id="af716-230">Gjelder ikke</span><span class="sxs-lookup"><span data-stu-id="af716-230">Not applicable</span></span>        | <span data-ttu-id="af716-231">Ja</span><span class="sxs-lookup"><span data-stu-id="af716-231">Yes</span></span>                                  | <span data-ttu-id="af716-232">Denne kombinasjonen fungerer som kombinasjon 5, fordi **Oppfyll delvise linjer** ikke kan være **Ja** når **Oppfyll delvise ordrer** er **Nei**.</span><span class="sxs-lookup"><span data-stu-id="af716-232">This combination works like combination 5, because **Fulfill partial lines** can't be **Yes** when **Fulfill partial orders** is **No**.</span></span> |
        | <span data-ttu-id="af716-233">8</span><span class="sxs-lookup"><span data-stu-id="af716-233">8</span></span>    | <span data-ttu-id="af716-234">Ja</span><span class="sxs-lookup"><span data-stu-id="af716-234">Yes</span></span>                    | <span data-ttu-id="af716-235">Nei</span><span class="sxs-lookup"><span data-stu-id="af716-235">No</span></span>                    | <span data-ttu-id="af716-236">Nei</span><span class="sxs-lookup"><span data-stu-id="af716-236">No</span></span>                                   | <span data-ttu-id="af716-237">Noen få linjer i ordren kan oppfylles, men enkeltlinjer kan ikke delvis oppfylles, og de ulike ordrelinjene kan oppfylles fra mer enn ett lokasjon i en forekomst av DOM-kjøringen.</span><span class="sxs-lookup"><span data-stu-id="af716-237">A few lines of the order can be fulfilled, but individual lines can't be partially fulfilled, and the various order lines can be fulfilled from more than one location in an instance of the DOM run.</span></span> |
        | <span data-ttu-id="af716-238">9\*</span><span class="sxs-lookup"><span data-stu-id="af716-238">9\*</span></span>  | <span data-ttu-id="af716-239">Nei</span><span class="sxs-lookup"><span data-stu-id="af716-239">No</span></span>                     | <span data-ttu-id="af716-240">Gjelder ikke</span><span class="sxs-lookup"><span data-stu-id="af716-240">Not applicable</span></span>        | <span data-ttu-id="af716-241">Ja</span><span class="sxs-lookup"><span data-stu-id="af716-241">Yes</span></span>                                  | <span data-ttu-id="af716-242">Alle ordrelinjer må oppfylles, og alle ordrelinjene må oppfylles fra bare ett lokasjon.</span><span class="sxs-lookup"><span data-stu-id="af716-242">All order lines must be fulfilled, and all the order lines must be fulfilled from one location only.</span></span> |

        <span data-ttu-id="af716-243">\* Hvis **Oppfyll delvise ordrer** er satt til **Nei**, vil **Oppfyll delvise linjer** alltid bli vurdert til å settes til **Nei**, uavhengig av hvordan verdien faktisk er satt.</span><span class="sxs-lookup"><span data-stu-id="af716-243">\* If **Fulfill partial orders** is set to **No**, **Fulfill partial lines** is always considered to be set to **No**, regardless of how it's actually set.</span></span>

        > [!NOTE]
        > <span data-ttu-id="af716-244">I Retail versjon 10.0.5 ble verdien for parameteren **Bare oppfylle ordre fra én lokasjon** endret til **Maksimale oppfyllelseslokasjoner**.</span><span class="sxs-lookup"><span data-stu-id="af716-244">In Retail version 10.0.5, the parameter **Fulfill order from one location only** was changed to **Maximum fulfilling locations**.</span></span> <span data-ttu-id="af716-245">I stedet for å tillate at en bruker konfigurerer om ordrer bare kan oppfylles fra én lokasjon, eller oppfylles fra så mange lokasjoner som mulig, kan brukere nå angi om oppfyllelse kan være fra et bestemt sett med lokasjoner (opptil 5) eller fra så mange steder som den kan oppfylles.</span><span class="sxs-lookup"><span data-stu-id="af716-245">Instead of allowing a user to configure whether orders can be fulfilled from one location only or fulfilled from as many locations as it can be, users can now specify whether the fulfillment can be from a definite set of locations (up to 5) or from as many locations as it can be.</span></span> <span data-ttu-id="af716-246">Dette gir større fleksibilitet når det gjelder hvor mange lokasjoner ordren kan oppfylles fra.</span><span class="sxs-lookup"><span data-stu-id="af716-246">This provides more flexibility in terms of how many locations the order can be fulfilled from.</span></span> <span data-ttu-id="af716-247">Denne regelen fungerer bare med produksjonsproblemløseren.</span><span class="sxs-lookup"><span data-stu-id="af716-247">This rule only works with Production Solver.</span></span> 

   - <span data-ttu-id="af716-248">**Regel for frakoblet oppfyllelseslokasjon** – Denne regelen lar organisasjoner angi en lokasjon eller en gruppe lokasjoner som frakoblet eller utilgjengelig for DOM, slik at ordrer ikke kan tilordnes til de lokasjonene for oppfyllelse.</span><span class="sxs-lookup"><span data-stu-id="af716-248">**Offline fulfillment location rule** – This rule lets organizations specify a location or group of locations as offline or unavailable to DOM, so that orders can't be assigned to those locations for fulfillment.</span></span>
    - <span data-ttu-id="af716-249">**Regel for maksimalt antall avvisninger** – Denne regelen lar organisasjoner definere en terskel for avvisninger.</span><span class="sxs-lookup"><span data-stu-id="af716-249">**Maximum rejects rule** – This rule lets organizations define a threshold for rejections.</span></span> <span data-ttu-id="af716-250">Når terskelen er nådd, vil DOM-prosessoren merke en ordre eller en ordrelinje som et unntak, og utelate den fra videre behandling.</span><span class="sxs-lookup"><span data-stu-id="af716-250">When the threshold is reached, the DOM processor will mark an order or order line as an exception, and exclude it from further processing.</span></span>

        <span data-ttu-id="af716-251">Etter at ordrelinjene er tilordnet til en lokasjon, kan lokasjonen avvise en tilordnede ordrelinje, fordi lokasjonen kanskje ikke kan oppfylle den linjen av en eller annen grunn.</span><span class="sxs-lookup"><span data-stu-id="af716-251">After order lines are assigned to a location, the location can reject an assigned order line, because it might not be able to fulfill that line for some reasons.</span></span> <span data-ttu-id="af716-252">Avviste linjer blir merket som et unntak, og de blir lagt tilbake i utvalget for behandling i den neste kjøringen.</span><span class="sxs-lookup"><span data-stu-id="af716-252">Rejected lines are marked as an exception and put back into the pool for processing in the next run.</span></span> <span data-ttu-id="af716-253">I løpet av den neste kjøringen vil DOM prøve å tilordne den avviste linjen til en annen lokasjon.</span><span class="sxs-lookup"><span data-stu-id="af716-253">During the next run, DOM will try to assign the rejected line to a different location.</span></span> <span data-ttu-id="af716-254">Den nye lokasjonen kan også avvise den tilordnede ordrelinjen.</span><span class="sxs-lookup"><span data-stu-id="af716-254">The new location can also reject the assigned order line.</span></span> <span data-ttu-id="af716-255">Denne syklusen med tilordning og avslag kan forekomme flere ganger.</span><span class="sxs-lookup"><span data-stu-id="af716-255">This cycle of assignment and rejection can occur multiple times.</span></span> <span data-ttu-id="af716-256">Når antallet avvisninger når terskelen som er definert, vil DOM markere ordrelinjen som et fast unntak, og linjen vil ikke bli valgt flere ganger for ny tilordning.</span><span class="sxs-lookup"><span data-stu-id="af716-256">When the rejection count hits the threshold that is defined, DOM will mark the order line as a permanent exception and won't pick the line for assignment again.</span></span> <span data-ttu-id="af716-257">DOM vil vurdere ordrelinjen en gang til for ny tilordning bare hvis en bruker tilbakestiller statusen for ordrelinjen manuelt.</span><span class="sxs-lookup"><span data-stu-id="af716-257">DOM will consider the order line again for reassignment only if a user manually resets the status of the order line.</span></span>

   - <span data-ttu-id="af716-258">**Regel for maksimal avstand** – Denne regelen lar organisasjoner definere maksimumsavstanden som en lokasjon eller gruppe med lokasjoner kan være for å oppfylle ordren.</span><span class="sxs-lookup"><span data-stu-id="af716-258">**Maximum distance rule** – This rule lets organizations define the maximum distance that a location or group of locations can be to fulfill the order.</span></span> <span data-ttu-id="af716-259">Hvis overlappende regler for maksimal avstand er definert for en lokasjon, bruker DOM den laveste maksimumsavstanden som er definert for den lokasjonen.</span><span class="sxs-lookup"><span data-stu-id="af716-259">If overlapping maximum distance rules are defined for a location, DOM will apply the lowest maximum distance that is defined for that location.</span></span>
    - <span data-ttu-id="af716-260">**Regel for maksimalt antall ordrer** – Denne regelen lar organisasjoner definere det maksimale antallet ordrer som en lokasjon eller gruppe med lokasjoner kan behandle i løpet av en dag i kalenderen.</span><span class="sxs-lookup"><span data-stu-id="af716-260">**Maximum orders rule** – This rule lets organizations define the maximum number of orders that a location or group of locations can process during a calendar day.</span></span> <span data-ttu-id="af716-261">Hvis det maksimale antallet ordrer er tilordnet til en lokasjon på én dag, vil ikke DOM tilordne flere ordrer til den lokasjonen resten av den kalenderdagen.</span><span class="sxs-lookup"><span data-stu-id="af716-261">If the maximum number of orders is assigned to a location in a single day, DOM won't assign any more orders to that location for the rest of that calendar day.</span></span>

   <span data-ttu-id="af716-262">Her er noen av de vanlige attributtene som kan defineres for alle de foregående regeltypene:</span><span class="sxs-lookup"><span data-stu-id="af716-262">Here are some of the common attributes that can be defined for all the preceding rule types:</span></span>

   - <span data-ttu-id="af716-263">**Startdato** og **Sluttdato** – Hver regel kan gjøres datoeffektiv ved hjelp av disse feltene.</span><span class="sxs-lookup"><span data-stu-id="af716-263">**Start date** and **End date** – Every rule can be made date-effective by using the these fields.</span></span>
   - <span data-ttu-id="af716-264">**Deaktivert** – Bare regler som har verdien **Nei** for dette feltet, blir vurdert i en DOM-kjøring.</span><span class="sxs-lookup"><span data-stu-id="af716-264">**Disabled** – Only rules that have a value of **No** for this field are considered in a DOM run.</span></span>
   - <span data-ttu-id="af716-265">**Hard begrensning** – En regel kan defineres som en hard begrensning eller ikke en hard begrensning.</span><span class="sxs-lookup"><span data-stu-id="af716-265">**Hard constraint** – A rule can be defined as either a hard constraint or not a hard constraint.</span></span> <span data-ttu-id="af716-266">Alle DOM-kjøringer går gjennom to gjentakelser.</span><span class="sxs-lookup"><span data-stu-id="af716-266">Every DOM run goes through two iterations.</span></span> <span data-ttu-id="af716-267">I den første gjentakelsen behandles hver regel som en regel med hard begrensning, uavhengig av innstillingen til dette feltet.</span><span class="sxs-lookup"><span data-stu-id="af716-267">In the first iteration, every rule is treated as a hard constraint rule, regardless of the setting of this field.</span></span> <span data-ttu-id="af716-268">Med andre ord blir hver regel brukt.</span><span class="sxs-lookup"><span data-stu-id="af716-268">In other words, every rule is applied.</span></span> <span data-ttu-id="af716-269">Det eneste unntaket er regelen **Prioritet for lokasjon**.</span><span class="sxs-lookup"><span data-stu-id="af716-269">The only exception is the **Location priority** rule.</span></span> <span data-ttu-id="af716-270">I den andre gjentakelsen fjernes reglene som ikke ble definert som regler for hard begrensning, og ordren eller ordrelinjene som ikke ble tilordnet til lokasjoner da alle reglene ble tatt i bruk, blir tilordnet til lokasjoner.</span><span class="sxs-lookup"><span data-stu-id="af716-270">In the second iteration, the rules that weren't defined as hard constraint rules are removed, and the order or order lines that weren't assigned to locations when all the rules were applied are assigned to locations.</span></span>

10. <span data-ttu-id="af716-271">Oppfyllelsesprofiler brukes til å gruppere en samling med regler, juridiske enheter, salgsordreopprinnelser og leveringsmåter.</span><span class="sxs-lookup"><span data-stu-id="af716-271">Fulfillment profiles are used to group a collection of rules, legal entities, sales order origins, and modes of delivery.</span></span> <span data-ttu-id="af716-272">Alle DOM-kjøringer gjelder for en bestemt oppfyllelsesprofil.</span><span class="sxs-lookup"><span data-stu-id="af716-272">Every DOM run is for a specific fulfillment profile.</span></span> <span data-ttu-id="af716-273">På denne måten kan organisasjoner definere og kjøre et sett med regler for et sett med juridiske enheter for ordrer som har bestemte salgsordreopprinnelser og leveringsmåter.</span><span class="sxs-lookup"><span data-stu-id="af716-273">In this way, organizations can define and run a set of rules for a set of legal entities, on orders that have specific sales order origins and modes of delivery.</span></span> <span data-ttu-id="af716-274">Hvis ulike sett med regler må kjøres for ulike typer salgsordreopprinnelser eller leveringsmåter, kan oppfyllelsesprofilene derfor defineres i henhold til dette.</span><span class="sxs-lookup"><span data-stu-id="af716-274">Therefore, if different set of rules must be run for different sets of sales order origins or modes of delivery, the fulfillment profiles can be defined accordingly.</span></span> <span data-ttu-id="af716-275">Gjør følgende for å konfigurere oppfyllelsesprofiler:</span><span class="sxs-lookup"><span data-stu-id="af716-275">To set up fulfillment profiles, follow these steps:</span></span>  

    1. <span data-ttu-id="af716-276">Gå til **Detaljhandel og handel \> Behandling av distribuert ordre \> Oppsett \> Oppfyllelsesprofiler**.</span><span class="sxs-lookup"><span data-stu-id="af716-276">Go to **Retail and Commerce \> Distributed order management \> Setup \> Fulfillment profiles**.</span></span>
    2. <span data-ttu-id="af716-277">Velg **Ny**.</span><span class="sxs-lookup"><span data-stu-id="af716-277">Select **New**.</span></span>
    3. <span data-ttu-id="af716-278">Angi verdier i feltene **Profil** og **Beskrivelse**.</span><span class="sxs-lookup"><span data-stu-id="af716-278">Enter values in the **Profile** and **Description** fields.</span></span>
    4. <span data-ttu-id="af716-279">Velg alternativet **Bruk resultat automatisk**.</span><span class="sxs-lookup"><span data-stu-id="af716-279">Set the **Auto apply result** option.</span></span> <span data-ttu-id="af716-280">Hvis du setter dette alternativet til **Ja**, blir resultatene av DOM-kjøringen for profilen brukt automatisk på salgsordrelinjer.</span><span class="sxs-lookup"><span data-stu-id="af716-280">If you set this option to **Yes**, the results of the DOM run for the profile will be automatically applied to the sales order lines.</span></span> <span data-ttu-id="af716-281">Hvis du setter det til **Nei**, kan resultatene bare vises i oppfyllelsesplanen.</span><span class="sxs-lookup"><span data-stu-id="af716-281">If you set it to **No**, the results can only be viewed in the fulfillment plan.</span></span> <span data-ttu-id="af716-282">De brukes ikke på salgsordrelinjene.</span><span class="sxs-lookup"><span data-stu-id="af716-282">They won't be applied to the sales order lines.</span></span>
    5. <span data-ttu-id="af716-283">Hvis du vil at DOM-profilen skal kjøres for ordrer som har alle salgsordreopprinnelser, inkludert ordrer der salgsordreopprinnelsen ikke er definert, setter du alternativet **Behandle ordrer med tom salgsopprinnelse** til **Ja**.</span><span class="sxs-lookup"><span data-stu-id="af716-283">If you want the DOM profile to be run for orders that have every sales order origin, including orders where the sales order origin is undefined, set the **Process orders with empty sales origin** option to **Yes**.</span></span> <span data-ttu-id="af716-284">Hvis du vil kjøre profilen for bare noen få salgsordreopprinnelser, kan du definere dem på siden **Salgsopprinnelser**, som forklart senere.</span><span class="sxs-lookup"><span data-stu-id="af716-284">To run the profile for only a few sales order origins, you can define them on the **Sales origins** page, as explained later.</span></span>

    > [!NOTE]
    > <span data-ttu-id="af716-285">I Commerce versjon 10.0.12 og høyere må **muligheten til å tilordne en oppfyllelsesgruppe til en oppfyllelsesprofil** være aktivert i arbeidsområdet **Funksjonsbehandling**.</span><span class="sxs-lookup"><span data-stu-id="af716-285">In Commerce version 10.0.12 and higher, **Ability to assign Fulfillment group to a Fulfillment Profile** must be enabled in the **Feature Management** workspace.</span></span> 
    >
    > <span data-ttu-id="af716-286">Denne funksjonen legger til en ny konfigurasjon på siden **Oppfyllelsesprofil** som kan knyttes til én oppfyllelsesgruppe.</span><span class="sxs-lookup"><span data-stu-id="af716-286">This feature adds a new configuration on the **Fulfillment profile** page that can be associated to a single fulfilment group.</span></span> 
    >
    > <span data-ttu-id="af716-287">Hvis du velger oppfyllelsesgruppen, vil DOM-reglene for den oppfyllelsesprofilen fungere effektivt i forhold til forsendelseslagrene som er inkludert i oppfyllelsesgruppen.</span><span class="sxs-lookup"><span data-stu-id="af716-287">If you select the fulfilment group, the DOM rules for that fulfilment profile will efficiently run against the "shipping" warehouses included in the fulfilment group.</span></span> 
    > 
    > <span data-ttu-id="af716-288">Hvis du vil bruke denne funksjonen effektivt, må du kontrollere at det finnes én oppfyllelsesgruppe som inneholder alle forsendelsene, og deretter knytter du denne oppfyllelsesgruppen til oppfyllelsesprofilen.</span><span class="sxs-lookup"><span data-stu-id="af716-288">To effectively use this feature, ensure that there is one fulfillment group that contains all the shipping warehouses, and then associate that fulfillment group to the fulfillment profile.</span></span>
    
    6. <span data-ttu-id="af716-289">Velg **Legg til** i hurtigfanen **Juridiske enheter**, og velg deretter en juridisk enhet.</span><span class="sxs-lookup"><span data-stu-id="af716-289">On the **Legal entities** FastTab, select **Add**, and then select a legal entity.</span></span>
    7. <span data-ttu-id="af716-290">Velg **Legg til** i hurtigfanen **Regler**, og velg deretter regelen som skal kobles til profilen.</span><span class="sxs-lookup"><span data-stu-id="af716-290">On the **Rules** FastTab, select **Add**, and then select the rule to link to the profile.</span></span>
    8. <span data-ttu-id="af716-291">Gjenta de forrige to trinnene til alle de nødvendige reglene er knyttet til profilen.</span><span class="sxs-lookup"><span data-stu-id="af716-291">Repeat the previous two steps until all the required rules are associated with the profile.</span></span>
    9. <span data-ttu-id="af716-292">Velg **Lagre**.</span><span class="sxs-lookup"><span data-stu-id="af716-292">Select **Save**.</span></span>
    10. <span data-ttu-id="af716-293">Velg **Leveringsmåter** i fanen **Oppsett** i handlingsruten.</span><span class="sxs-lookup"><span data-stu-id="af716-293">On the Action Pane, on the **Setup** tab, select **Modes of delivery**.</span></span>
    11. <span data-ttu-id="af716-294">Velg **Ny** på siden **Leveringsmåter**.</span><span class="sxs-lookup"><span data-stu-id="af716-294">On the **Modes of delivery** page, select **New**.</span></span>
    12. <span data-ttu-id="af716-295">Velg den juridiske enheten i **Firma**-feltet.</span><span class="sxs-lookup"><span data-stu-id="af716-295">In the **Company** field, select the legal entity.</span></span> <span data-ttu-id="af716-296">Listen over selskaper er begrenset til de juridiske enhetene du har lagt til tidligere.</span><span class="sxs-lookup"><span data-stu-id="af716-296">The list of companies is limited to the legal entities that you added earlier.</span></span>
    13. <span data-ttu-id="af716-297">Velg leveringsmåten som skal knyttes til denne profilen, i feltet **Leveringsmåte**.</span><span class="sxs-lookup"><span data-stu-id="af716-297">In the **Mode of delivery** field, select the mode of delivery to associate with this profile.</span></span> <span data-ttu-id="af716-298">En leveringsmåte kan ikke være knyttet til flere aktive profiler.</span><span class="sxs-lookup"><span data-stu-id="af716-298">A mode of delivery can't be associated with multiple active profiles.</span></span>
    14. <span data-ttu-id="af716-299">Gjenta de forrige to trinnene til alle de nødvendige leveringsmåtene er knyttet til profilen.</span><span class="sxs-lookup"><span data-stu-id="af716-299">Repeat the previous two steps until all the required modes of delivery are associated with the profile.</span></span>
    15. <span data-ttu-id="af716-300">Lukk siden **Leveringsmåter**.</span><span class="sxs-lookup"><span data-stu-id="af716-300">Close the **Modes of delivery** page.</span></span>
    16. <span data-ttu-id="af716-301">Velg **Salgsordreopprinnelser** i fanen **Oppsett** i handlingsruten.</span><span class="sxs-lookup"><span data-stu-id="af716-301">On the Action Pane, on the **Setup** tab, select **Sales order origins**.</span></span>
    17. <span data-ttu-id="af716-302">Velg **Ny** på siden **Salgsopprinnelser**.</span><span class="sxs-lookup"><span data-stu-id="af716-302">On the **Sales origins** page, select **New**.</span></span>
    18. <span data-ttu-id="af716-303">Velg den juridiske enheten i **Firma**-feltet.</span><span class="sxs-lookup"><span data-stu-id="af716-303">In the **Company** field, select the legal entity.</span></span> <span data-ttu-id="af716-304">Listen over selskaper er begrenset til de juridiske enhetene du har lagt til tidligere.</span><span class="sxs-lookup"><span data-stu-id="af716-304">The list of companies is limited to the legal entities that you added earlier.</span></span>
    19. <span data-ttu-id="af716-305">Velg salgsopprinnelsen skal knyttes til denne profilen, i feltet **Salgsopprinnelse**.</span><span class="sxs-lookup"><span data-stu-id="af716-305">In the **Sales origin** field, select the sales origin to associate with this profile.</span></span> <span data-ttu-id="af716-306">En salgsopprinnelse kan ikke være knyttet til flere aktive profiler.</span><span class="sxs-lookup"><span data-stu-id="af716-306">A sales origin can't be associated with multiple active profiles.</span></span>
    20. <span data-ttu-id="af716-307">Gjenta de forrige to trinnene til alle de nødvendige salgsopprinnelsene er knyttet til profilen.</span><span class="sxs-lookup"><span data-stu-id="af716-307">Repeat the previous two steps until all the required sales origins are associated with the profile.</span></span>
    21. <span data-ttu-id="af716-308">Lukk siden **Salgsopprinnelse**.</span><span class="sxs-lookup"><span data-stu-id="af716-308">Close the **Sales origins** page.</span></span>
    22. <span data-ttu-id="af716-309">Sett alternativet **Aktiver profil** til **Ja**.</span><span class="sxs-lookup"><span data-stu-id="af716-309">Set the **Enable profile** option to **Yes**.</span></span> <span data-ttu-id="af716-310">Hvis det finnes feil i oppsettet, mottar du en advarsel.</span><span class="sxs-lookup"><span data-stu-id="af716-310">If there are any errors in the setup, you receive a warning message.</span></span>

## <a name="dom-processing"></a><span data-ttu-id="af716-311">DOM-behandling</span><span class="sxs-lookup"><span data-stu-id="af716-311">DOM processing</span></span>

<span data-ttu-id="af716-312">DOM kjøres bare i en satsvis jobb.</span><span class="sxs-lookup"><span data-stu-id="af716-312">DOM will run only in a batch job.</span></span> <span data-ttu-id="af716-313">Hvis du vil konfigurere den satsvise jobben for DOM-kjøringer, gjør du følgende.</span><span class="sxs-lookup"><span data-stu-id="af716-313">To configure the batch job for DOM runs, follow these steps.</span></span>

1. <span data-ttu-id="af716-314">Gå til **Detaljhandel og handel \> Behandling av distribuert ordre \> Satsvis behandling \> Oppsett for DOM-prosessorjobb**.</span><span class="sxs-lookup"><span data-stu-id="af716-314">Go to **Retail and Commerce \> Distributed order management \> Batch processing \> DOM processor job setup**.</span></span>
1. <span data-ttu-id="af716-315">Velg en profil som DOM må kjøres for, i feltet **Oppfyllelsesprofil** i hurtigfanen **Parametere**.</span><span class="sxs-lookup"><span data-stu-id="af716-315">On the **Parameters** FastTab, in the **Fulfillment profile** field, select a profile that DOM must be run for.</span></span>
1. <span data-ttu-id="af716-316">Velg en konfigurert satsvis gruppe i feltet **Satsvis gruppe** i hurtigfanen **Kjør i bakgrunnen**.</span><span class="sxs-lookup"><span data-stu-id="af716-316">On the **Run in the background** FastTab, in the **Batch group** field, select a configured batch group.</span></span>
1. <span data-ttu-id="af716-317">Skriv inn et navn for den satsvise jobben i feltet **Oppgavebeskrivelse**.</span><span class="sxs-lookup"><span data-stu-id="af716-317">In the **Task description** field, enter a name for the batch job.</span></span>
1. <span data-ttu-id="af716-318">Velg **Regelmessighet** og definer regelmessigheten for den satsvise jobben.</span><span class="sxs-lookup"><span data-stu-id="af716-318">Select **Recurrence**, and define the recurrence of the batch job.</span></span>
1. <span data-ttu-id="af716-319">Velg **OK**.</span><span class="sxs-lookup"><span data-stu-id="af716-319">Select **OK**.</span></span>

<span data-ttu-id="af716-320">Under behandling vil DOM vurdere ordren og ordrelinjene som beskrevet her:</span><span class="sxs-lookup"><span data-stu-id="af716-320">At the time of processing, DOM will consider the order and order lines as described here:</span></span>

- <span data-ttu-id="af716-321">Ordrelinjer som oppfyller kriteriene for salgsordreopprinnelse, leveringsmåter og juridisk enhet, slik det er definert i DOM-profilen, og som også oppfyller noen av disse kriteriene:</span><span class="sxs-lookup"><span data-stu-id="af716-321">Order lines that meet the criteria for sales order origins, modes of delivery, and legal entity as defined in the DOM profile, and that also meet any of these criteria:</span></span>

    - <span data-ttu-id="af716-322">De er opprettet fra handelskanaler.</span><span class="sxs-lookup"><span data-stu-id="af716-322">They are created from commerce channels.</span></span>
    - <span data-ttu-id="af716-323">De har aldri blitt formidlet av DOM.</span><span class="sxs-lookup"><span data-stu-id="af716-323">They have never been brokered by DOM.</span></span>
    - <span data-ttu-id="af716-324">De har blitt formidlet av DOM før, men de er merket som unntak, og er lavere enn den maksimale terskelen for forsøk.</span><span class="sxs-lookup"><span data-stu-id="af716-324">They have been brokered by DOM before, but they are marked as exceptions and are below the maximum threshold for attempts.</span></span>
    - <span data-ttu-id="af716-325">Leveringsmåten ikke henting eller elektronisk levering.</span><span class="sxs-lookup"><span data-stu-id="af716-325">The mode of delivery isn't pick-up or electronic delivery.</span></span>
    - <span data-ttu-id="af716-326">De er ikke merket for levering.</span><span class="sxs-lookup"><span data-stu-id="af716-326">They aren't marked for delivery.</span></span>
    - <span data-ttu-id="af716-327">De er ikke utelatt manuelt.</span><span class="sxs-lookup"><span data-stu-id="af716-327">They aren't manually excluded.</span></span>

- <span data-ttu-id="af716-328">Ordrer som ikke er på vent</span><span class="sxs-lookup"><span data-stu-id="af716-328">Orders that aren't on hold</span></span>

<span data-ttu-id="af716-329">Etter at DOM har tatt i bruk reglene, lagerbegrensningene og optimaliseringen, velges lokasjonen som er nærmest kundens leveringsadresse.</span><span class="sxs-lookup"><span data-stu-id="af716-329">After it applies the rules, inventory constraints, and optimization, DOM picks the location that is closest to the customer's delivery address.</span></span>

<span data-ttu-id="af716-330">![Salgsordrekriterier](./media/ordercriteria.png "Salgsordrekriterier")</span><span class="sxs-lookup"><span data-stu-id="af716-330">![Sales order criteria](./media/ordercriteria.png "Sales order criteria")</span></span>

## <a name="results-of-dom-runs"></a><span data-ttu-id="af716-331">Resultater av DOM-kjøringer</span><span class="sxs-lookup"><span data-stu-id="af716-331">Results of DOM runs</span></span>

<span data-ttu-id="af716-332">Hvis oppfyllelsesprofilen er satt til **Bruk automatisk**, vil resultatene av kjøringen brukes automatisk på salgsordrelinjene, og oppfyllelsesplanen kan vises separat.</span><span class="sxs-lookup"><span data-stu-id="af716-332">If the fulfillment profile is set to **Auto apply**, the results of the run will be automatically applied to the sales order lines, and the fulfillment plan can be viewed separately.</span></span> <span data-ttu-id="af716-333">Hvis oppfyllelsesprofilen imidlertid ikke er satt til **Bruk automatisk**, kan resultatene av kjøringen bare ses fra visningen av oppfyllelsesplanen.</span><span class="sxs-lookup"><span data-stu-id="af716-333">However, if the fulfillment profile isn't set to **Auto apply**, the results of the run can be seen only from the fulfillment plan view.</span></span> 

<span data-ttu-id="af716-334">Hvis du vil vise alle oppfyllelsesplanene som er generert, gjør du følgende.</span><span class="sxs-lookup"><span data-stu-id="af716-334">To view all the fulfillment plans that are generated, follow these steps.</span></span>

1. <span data-ttu-id="af716-335">Gå til **Detaljhandel og handel \> Behandling av distribuert ordre \> Behandling av distribuert ordre**.</span><span class="sxs-lookup"><span data-stu-id="af716-335">Go to **Retail and Commerce \> Distributed order management \> Distributed order management**.</span></span>
2. <span data-ttu-id="af716-336">Velg flisen **Oppfyllelsesplaner** i arbeidsområdet **Behandling av distribuert ordre**.</span><span class="sxs-lookup"><span data-stu-id="af716-336">In the **Distributed order management** workspace, select the **Fulfillment Plans** tile.</span></span>
3. <span data-ttu-id="af716-337">Velg IDen for den aktuelle ordreoppfyllelsesplanen for å vise oppfyllelsesplanen.</span><span class="sxs-lookup"><span data-stu-id="af716-337">Select the ID of the relevant order fulfillment plan to view the fulfillment plan.</span></span>

    <span data-ttu-id="af716-338">Delen med ordredetaljer for oppfyllelsesplanen viser de opprinnelige salgsordrelinjene som var en del av kjøringen.</span><span class="sxs-lookup"><span data-stu-id="af716-338">The order details section of the fulfillment plan shows the original sales order lines that were part of the run.</span></span> <span data-ttu-id="af716-339">I tillegg til de standard feltene på salgsordrelinjen, inneholder delen med ordredetaljer også følgende tre DOM-relaterte felt:</span><span class="sxs-lookup"><span data-stu-id="af716-339">Besides the standard sales order line fields, the order details section also includes the following three DOM-related fields:</span></span>

    - <span data-ttu-id="af716-340">**Oppfyllelsestype** – Dette feltet angir om ordrelinjene er fullstendig formidlet, delvis formidlet eller ikke formidlet i det hele tatt til en lokasjon.</span><span class="sxs-lookup"><span data-stu-id="af716-340">**Fulfillment type** – This field indicates whether the sales order line is fully brokered, partially brokered, or not brokered at all to a location.</span></span>
    - <span data-ttu-id="af716-341">**Deling** – Dette feltet angir om en salgsordrelinje har blitt delt og formidlet til forskjellige lokasjoner.</span><span class="sxs-lookup"><span data-stu-id="af716-341">**Split** – This field indicates whether one sales order line has been split and brokered to different locations.</span></span>
    - <span data-ttu-id="af716-342">**Antall oppfyllelseslokasjoner** – Dette feltet angir hvor mange oppfyllelseslinjer som ble opprettet for en salgsordrelinje (basert på antallet lokasjoner som den opprinnelige salgsordrelinjen ble formidlet til).</span><span class="sxs-lookup"><span data-stu-id="af716-342">**Number of fulfillment locations** – This field indicates how many fulfillment lines were created for one sales order line (based on the number of locations that the original sales order line was brokered to).</span></span>

    <span data-ttu-id="af716-343">Delen med ordreoppfyllelsesdetaljer viser tilordningen av de opprinnelige salgsordrelinjene til ulike lokasjoner, sammen med deres antall.</span><span class="sxs-lookup"><span data-stu-id="af716-343">The order fulfillment details section shows the assignment of the original sales order lines to different locations, together with their quantities.</span></span>

## <a name="order-line-actions-and-statuses"></a><span data-ttu-id="af716-344">Handlinger og statuser for ordrelinje</span><span class="sxs-lookup"><span data-stu-id="af716-344">Order line actions and statuses</span></span>

<span data-ttu-id="af716-345">Følgende beskriver innstillinger på ordrelinjen.</span><span class="sxs-lookup"><span data-stu-id="af716-345">The following describes settings on the order line.</span></span> <span data-ttu-id="af716-346">Hvis du vil åpne ordrelinjen, går du til **Detaljhandel og handel \> Kunder \> All salgsordrer**.</span><span class="sxs-lookup"><span data-stu-id="af716-346">To open the order line, go to **Retail and Commerce \> Customers \> All sales orders**.</span></span>
- <span data-ttu-id="af716-347">Hvis du setter alternativet **Utelat fra DOM-behandling** i fanen **Generelt** på salgsordrelinjen til **Ja**, blir ordren eller ordrelinjen utelatt fra DOM-behandlingen.</span><span class="sxs-lookup"><span data-stu-id="af716-347">If you set the **Exclude from DOM processing** option on the **General** tab of the sales order line to **Yes**, the order or order line will be excluded from DOM processing.</span></span>
- <span data-ttu-id="af716-348">Feltet **DOM-status** i fanen **Generelt** for salgsordrelinjen kan settes til én av følgende verdier:</span><span class="sxs-lookup"><span data-stu-id="af716-348">The **DOM status** field on the **General** tab of the sales order line can be set to one of the following values:</span></span>

    - <span data-ttu-id="af716-349">**Ingen** – Ordrelinjen har aldri blitt formidlet.</span><span class="sxs-lookup"><span data-stu-id="af716-349">**None** – The order line has never been brokered.</span></span>
    - <span data-ttu-id="af716-350">**Fullført** – Ordrelinjen er formidlet og knyttet til en lokasjon.</span><span class="sxs-lookup"><span data-stu-id="af716-350">**Complete** – The order line has been successfully brokered and assigned to a location.</span></span>
    - <span data-ttu-id="af716-351">**Unntak** – Ordrelinjen er formidlet, men kan ikke knyttes til en lokasjon.</span><span class="sxs-lookup"><span data-stu-id="af716-351">**Exception** – The order line has been brokered but can't be assigned to a location.</span></span> <span data-ttu-id="af716-352">Unntak har flere undertyper som kan vises i DOM-arbeidsområdet:</span><span class="sxs-lookup"><span data-stu-id="af716-352">Exceptions have multiple subtypes that can be viewed from the DOM workspace:</span></span>

        - <span data-ttu-id="af716-353">**Antall ikke tilgjengelig** – Det finnes ingen tilgjengelig lagerbeholdning for å tilordne ordren til lokasjonene.</span><span class="sxs-lookup"><span data-stu-id="af716-353">**No quantity available** – There is no available inventory to assign the order to in the locations.</span></span>
        - <span data-ttu-id="af716-354">**Maksimalt antall avvisninger** – Ordrelinjen har nådd maksimalterskelen for avvisninger.</span><span class="sxs-lookup"><span data-stu-id="af716-354">**Maximum rejections** – The order line has reached the maximum threshold for rejections.</span></span>
        - <span data-ttu-id="af716-355">**Dataendringskonflikt** – Salgsordrelinjen er endret siden ordren ble formidlet.</span><span class="sxs-lookup"><span data-stu-id="af716-355">**Data modification conflict** – The sales order line has been changed since the order was brokered.</span></span> <span data-ttu-id="af716-356">Derfor kan ikke oppfyllelsesplanen brukes i ordren.</span><span class="sxs-lookup"><span data-stu-id="af716-356">Therefore, the fulfillment plan can't be applied to the order.</span></span>
        - <span data-ttu-id="af716-357">**Spesifikt unntak for ordrelinje** – Det finnes flere unntak på ordrelinjen.</span><span class="sxs-lookup"><span data-stu-id="af716-357">**Order line specific exception** – There are multiple exceptions on the order line.</span></span>

- <span data-ttu-id="af716-358">Under registrering av salgsordren, kan DOM kjøres i en interaktiv modus.</span><span class="sxs-lookup"><span data-stu-id="af716-358">During the sales order entry, DOM can be run in an interactive mode.</span></span> <span data-ttu-id="af716-359">Mens du registrerer en ordrelinje, kan du velge **Oppdater linje** etter at du har angitt produkt og antall, og deretter velger du **Foreslå oppfyllelseslokasjon** under **DOM**.</span><span class="sxs-lookup"><span data-stu-id="af716-359">While you're entering an order line, after you specify the product and quantity, you can select **Update line** and then, under **DOM**, select **Suggest fulfillment location**.</span></span> <span data-ttu-id="af716-360">Dermed vises det en liste over lokasjoner som er basert på DOM-regler som kan oppfylle antallet på ordrelinjen.</span><span class="sxs-lookup"><span data-stu-id="af716-360">You then see a list of locations that is based on DOM rules that can fulfill the quantity on the order line.</span></span> <span data-ttu-id="af716-361">Denne listen er sortert etter avstand.</span><span class="sxs-lookup"><span data-stu-id="af716-361">This list is sorted by distance.</span></span> <span data-ttu-id="af716-362">Velg en lokasjon for å angi det aktuelle området og lageret på salgsordrelinjen.</span><span class="sxs-lookup"><span data-stu-id="af716-362">Select a location to set the relevant site and warehouse on the sales order line.</span></span> <span data-ttu-id="af716-363">For at denne funksjonen skal fungere, må det finnes en eksisterende, aktiv oppfyllelsesprofil som samsvarer med salgsopprinnelsen og leveringsmodusen på salgslinjen.</span><span class="sxs-lookup"><span data-stu-id="af716-363">For this functionality to work, there must be an existing, active fulfillment profile that matches the sales origin and delivery mode on the sales line.</span></span>
- <span data-ttu-id="af716-364">Hvis du vil vise DOM-kjøringsloggene for en salgsordrelinje, velger du **Salgsordrelinje**, og deretter velger du **Vis DOM-logger** under **DOM**.</span><span class="sxs-lookup"><span data-stu-id="af716-364">To view the DOM run logs for a sales order line, select **Sales order line**, and then, under **DOM**, select **View DOM Logs**.</span></span> <span data-ttu-id="af716-365">DOM-loggene viser alle hendelsene og loggene som ble generert av DOM-kjøringen.</span><span class="sxs-lookup"><span data-stu-id="af716-365">The DOM logs show all the events and logs that were generated by the DOM run.</span></span> <span data-ttu-id="af716-366">Loggene kan hjelpe deg med å forstå hvorfor en bestemt lokasjon ble tilordnet til ordrelinjen, og hvilke regler og begrensninger som ble vurdert som en del av tilordningen.</span><span class="sxs-lookup"><span data-stu-id="af716-366">The logs can help you understand why a specific location was assigned to the order line, and what rules and constraints were considered as a part of the assignment.</span></span> <span data-ttu-id="af716-367">DOM-loggene er også tilgjengelige i fanen **Behandle** på nivå i salgsordrehodet.</span><span class="sxs-lookup"><span data-stu-id="af716-367">On the **Manage** tab, the DOM logs are also available at the level of the sales order header.</span></span>

## <a name="run-a-clean-up-job-for-dom-fulfillment-plans"></a><span data-ttu-id="af716-368">Kjøre en oppryddingsjobb for DOM-oppfyllelsesplaner</span><span class="sxs-lookup"><span data-stu-id="af716-368">Run a clean-up job for DOM fulfillment plans</span></span>

<span data-ttu-id="af716-369">Mens DOM-behandlingen kjører, opprettes oppfyllelsesplaner.</span><span class="sxs-lookup"><span data-stu-id="af716-369">As DOM processing is run, fulfillment plans are created.</span></span> <span data-ttu-id="af716-370">Over tid vil systemet oppbevare mange oppfyllelsesplaner.</span><span class="sxs-lookup"><span data-stu-id="af716-370">Over time, the system will keep numerous fulfillment plans.</span></span> <span data-ttu-id="af716-371">Hvis du vil styre hvor mange oppfyllelsesplaner systemet oppbevarer, kan du konfigurere en satsvis jobb som sletter gamle oppfyllelsesplaner er basert på verdien **Oppbevaringsperiode i dager**.</span><span class="sxs-lookup"><span data-stu-id="af716-371">To manage the number of fulfillment plans that the system keeps, you can configure a batch job that deletes older fulfillment plans, based on the **Retention period in days** value.</span></span>

1. <span data-ttu-id="af716-372">Gå til **Detaljhandel og handel \> Behandling av distribuert ordre \> Satsvis behandling \> Oppsett for jobb for sletting av DOM-oppfyllelsesdata**.</span><span class="sxs-lookup"><span data-stu-id="af716-372">Go to **Retail and Commerce \> Distributed order management \> Batch processing \> DOM fulfillment data deletion job setup**.</span></span> 
1. <span data-ttu-id="af716-373">Velg en konfigurert satsvis gruppe i feltet **Satsvis gruppe**.</span><span class="sxs-lookup"><span data-stu-id="af716-373">In the **Batch group** field, select a configured batch group.</span></span>
1. <span data-ttu-id="af716-374">Velg **Regelmessighet** og definer regelmessigheten for den satsvise jobben.</span><span class="sxs-lookup"><span data-stu-id="af716-374">Select **Recurrence**, and define the recurrence of the batch job.</span></span>
1. <span data-ttu-id="af716-375">Velg **OK**.</span><span class="sxs-lookup"><span data-stu-id="af716-375">Select **OK**.</span></span>

## <a name="more-information"></a><span data-ttu-id="af716-376">Mer informasjon</span><span class="sxs-lookup"><span data-stu-id="af716-376">More information</span></span>

<span data-ttu-id="af716-377">Her er et par ting du bør vurdere når du bruker DOM-funksjonen:</span><span class="sxs-lookup"><span data-stu-id="af716-377">Here are some things to consider when you use the DOM feature:</span></span>

- <span data-ttu-id="af716-378">DOM ser for øyeblikket bare på ordrer som er opprettet fra handelskanaler.</span><span class="sxs-lookup"><span data-stu-id="af716-378">Currently, DOM looks only at orders that are created from commerce channels.</span></span> <span data-ttu-id="af716-379">Salgsordrer blir identifisert som salgsordrer når alternativet **Handelssalg** er satt til **Ja**.</span><span class="sxs-lookup"><span data-stu-id="af716-379">Sales orders are identified as sales orders when the **Commerce sale** option is set to **Yes**.</span></span>
- <span data-ttu-id="af716-380">Microsoft har ikke testet DOM med avanserte lagerstyringsfunksjoner.</span><span class="sxs-lookup"><span data-stu-id="af716-380">Microsoft hasn't tested DOM with advanced warehouse management features.</span></span> <span data-ttu-id="af716-381">Kunder og partnere må være forsiktige med å fastslå om DOM er kompatibel med de avanserte funksjonene og prosessene for lagerstyring som er relevante for dem.</span><span class="sxs-lookup"><span data-stu-id="af716-381">Customers and partners must be careful to determine whether DOM is compatible with the advanced warehouse management capabilities and processes that are relevant to them.</span></span>
- <span data-ttu-id="af716-382">DOM er tilgjengelig bare på skyversjonen av Commerce.</span><span class="sxs-lookup"><span data-stu-id="af716-382">DOM is available only on the cloud version of Commerce.</span></span> <span data-ttu-id="af716-383">Funksjonen støttes ikke i lokale distribusjoner.</span><span class="sxs-lookup"><span data-stu-id="af716-383">It isn't supported in on-premises deployments.</span></span>
