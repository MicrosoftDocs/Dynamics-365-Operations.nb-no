---
title: Resultat av maskinlæringsmodeller (forhåndsversjon)
description: Dette emnet beskriver forvirringsmatriser, klassifiseringsproblemer og nøyaktighet i modeller for maskinlæring (ML). Hensikten er å forbedre forståelsen din av nøyaktighet i ML-prediksjonsresultater.
author: ShivamPandey-msft
manager: AnnBe
ms.date: 06/05/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: roschlom
ms.custom: 14151
ms.assetid: 3d43ba40-780c-459a-a66f-9a01d556e674
ms.search.region: Global
ms.author: shpandey
ms.search.validFrom: 2020-07-14
ms.dyn365.ops.version: AX 10.0.12
ms.openlocfilehash: dcdc6d501f09b639eb0d7504e0f760a66bb3dbc7
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: nb-NO
ms.lasthandoff: 02/15/2021
ms.locfileid: "5208539"
---
# <a name="results-of-machine-learning-models-preview"></a><span data-ttu-id="f5d78-104">Resultat av maskinlæringsmodeller (forhåndsversjon)</span><span class="sxs-lookup"><span data-stu-id="f5d78-104">Results of machine learning models (preview)</span></span>

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]

<span data-ttu-id="f5d78-105">Dette emnet beskriver forvirringsmatriser, klassifiseringsproblemer og nøyaktighet i modeller for maskinlæring (ML).</span><span class="sxs-lookup"><span data-stu-id="f5d78-105">This topic discusses confusion matrices, classification problems, and accuracy in machine learning (ML) models.</span></span> <span data-ttu-id="f5d78-106">Hensikten er å forbedre forståelsen din av nøyaktighet i ML-prediksjonsresultater.</span><span class="sxs-lookup"><span data-stu-id="f5d78-106">The purpose is to enhance your understanding of accuracy in ML prediction results.</span></span> <span data-ttu-id="f5d78-107">Målgruppen omfatter teknikere, analytikere og ledere som ønsker å utvikle kunnskapen og ferdighetene innenfor datavitenskap.</span><span class="sxs-lookup"><span data-stu-id="f5d78-107">The target audience includes engineers, analysts, and managers who want to build their knowledge and skills in data science.</span></span>

## <a name="confusion-matrix"></a><span data-ttu-id="f5d78-108">Forvirringsmatrise</span><span class="sxs-lookup"><span data-stu-id="f5d78-108">Confusion matrix</span></span>
<span data-ttu-id="f5d78-109">Etter at et overvåket ML-problem er opplært basert på et sett med historiske data, testes det ved hjelp av data som holdes tilbake fra opplæringsprosessen.</span><span class="sxs-lookup"><span data-stu-id="f5d78-109">After a supervised ML problem is trained on a set of historical data, it's tested by using data that is withheld from the training process.</span></span> <span data-ttu-id="f5d78-110">På denne måten kan du sammenligne prediksjonene fra den opplærte modellen med de faktiske verdiene.</span><span class="sxs-lookup"><span data-stu-id="f5d78-110">In this way, you can compare the predictions from the trained model with the actual values.</span></span> <span data-ttu-id="f5d78-111">Forvirringsmatrisen gir en metode for å evaluere hvor vellykket et klassifiseringsproblem er, og hvor det gjør feil (det vil si hvor det blir «forvirret»).</span><span class="sxs-lookup"><span data-stu-id="f5d78-111">The confusion matrix provides a means of evaluating how successful a classification problem is and where it makes mistakes (that is, where it becomes "confused").</span></span>

<span data-ttu-id="f5d78-112">La oss si at målet er å forutsi om et kjæledyr er en hund eller katt, basert på noen fysiske attributter og atferdsattributter.</span><span class="sxs-lookup"><span data-stu-id="f5d78-112">For example, your objective is to predict whether a pet is a dog or a cat, based on some physical and behavioral attributes.</span></span> <span data-ttu-id="f5d78-113">Hvis du har et testdatasett som inneholder 30 hunder og 20 katter, kan det hende at forvirringsmatrisen ligner på følgende illustrasjon.</span><span class="sxs-lookup"><span data-stu-id="f5d78-113">If you have a test dataset that contains 30 dogs and 20 cats, the confusion matrix might resemble the following illustration.</span></span>

![Eksempel på artsprediksjon](media/species-prediction-matrix.png)

<span data-ttu-id="f5d78-115">Tallene i de grønne cellene representerer riktige prediksjoner.</span><span class="sxs-lookup"><span data-stu-id="f5d78-115">The numbers in the green cells represent correct predictions.</span></span> <span data-ttu-id="f5d78-116">Som du kan se, forutsier modellen en høyere prosent av de faktiske kattene riktig.</span><span class="sxs-lookup"><span data-stu-id="f5d78-116">As you can see, the model predicted a higher percentage of the actual cats correctly.</span></span> <span data-ttu-id="f5d78-117">Den generelle nøyaktigheten til modellen er enkel å beregne.</span><span class="sxs-lookup"><span data-stu-id="f5d78-117">The overall accuracy of the model is easy to calculate.</span></span> <span data-ttu-id="f5d78-118">I dette tilfellet er den 42 ÷ 50 eller 0,84.</span><span class="sxs-lookup"><span data-stu-id="f5d78-118">In this case, it's 42 ÷ 50, or 0.84.</span></span>

### <a name="multi-class-classifiers-in-a-confusion-matrix"></a><span data-ttu-id="f5d78-119">Klassifiserere med flere klasser i en forvirringsmatrise</span><span class="sxs-lookup"><span data-stu-id="f5d78-119">Multi-class classifiers in a confusion matrix</span></span>

<span data-ttu-id="f5d78-120">De fleste diskusjoner om forvirringsmatrisen fokuserer på binære klassifiserere, som i det foregående eksemplet.</span><span class="sxs-lookup"><span data-stu-id="f5d78-120">Most discussions about the confusion matrix are focused on binary classifiers, as in the preceding example.</span></span> <span data-ttu-id="f5d78-121">Dette tilfellet er et spesialtilfelle der andre måledata kan vurderes, for eksempel følsomhet og tilbakekalling.</span><span class="sxs-lookup"><span data-stu-id="f5d78-121">This case is a special case where other metrics can be considered, such as sensitivity and recall.</span></span>

<span data-ttu-id="f5d78-122">Nå skal vi vurdere et klassifiseringsproblem for et finansscenario med tre tilstander.</span><span class="sxs-lookup"><span data-stu-id="f5d78-122">Next, we will consider a classification problem for a finance scenario that has three states.</span></span> <span data-ttu-id="f5d78-123">Modellen forutsier om en kundefaktura kommer til å bli betalt til planlagt tid, for sent eller svært sent.</span><span class="sxs-lookup"><span data-stu-id="f5d78-123">The model predicts whether a customer invoice will be paid on time, late, or very late.</span></span> <span data-ttu-id="f5d78-124">La oss si at av 100 testfakturaer blir 50 betalt til planlagt tid, 35 betalt for sent og 15 betalt svært sent.</span><span class="sxs-lookup"><span data-stu-id="f5d78-124">For example, out of 100 test invoices, 50 are paid on time, 35 are paid late, and 15 are paid very late.</span></span> <span data-ttu-id="f5d78-125">I dette tilfellet kan en modell produsere en forvirringsmatrise som ligner på den følgende illustrasjonen.</span><span class="sxs-lookup"><span data-stu-id="f5d78-125">In this case, a model might produce a confusion matrix that resembles the following illustration.</span></span>

![Modell 1](media/payment-prediction-matrix.png)<span data-ttu-id="f5d78-127">]</span><span class="sxs-lookup"><span data-stu-id="f5d78-127">]</span></span>

<span data-ttu-id="f5d78-128">En forvirringsmatrise gir betydelig mer informasjon enn en enkel måleverdi for nøyaktighet.</span><span class="sxs-lookup"><span data-stu-id="f5d78-128">A confusion matrix provides significantly more information than a simple accuracy metric.</span></span> <span data-ttu-id="f5d78-129">Den er likevel relativt lett å forstå.</span><span class="sxs-lookup"><span data-stu-id="f5d78-129">However, it's still relatively easy to understand.</span></span> <span data-ttu-id="f5d78-130">En forvirringsmatrise forteller deg om du har et balansert datasett der utdataklassene har lignende antall.</span><span class="sxs-lookup"><span data-stu-id="f5d78-130">A confusion matrix tells you whether you have a balanced dataset where the output classes have similar counts.</span></span> <span data-ttu-id="f5d78-131">Når det gjelder scenarioet med flere klasser, forteller det deg hvor unøyaktig en prediksjon kan bli når utdataklassene er ordenstall, som i det foregående eksemplet med kundebetalinger.</span><span class="sxs-lookup"><span data-stu-id="f5d78-131">For the multi-class scenario, it tells you how far off a prediction might be when the output classes are ordinal, as in the preceding example about customer payments.</span></span>

## <a name="model-accuracy"></a><span data-ttu-id="f5d78-132">Modellnøyaktighet</span><span class="sxs-lookup"><span data-stu-id="f5d78-132">Model accuracy</span></span> 
<span data-ttu-id="f5d78-133">Ulike nøyaktighetsmåledata har fordelen av å kvantifisere modellkvaliteten.</span><span class="sxs-lookup"><span data-stu-id="f5d78-133">Different accuracy metrics have the advantage of quantifying the model quality.</span></span> 

<span data-ttu-id="f5d78-134">Siden nøyaktighet er en enkel måling å forstå, er det et godt utgangspunkt for å forklare en modell til andre personer, særlig til brukere av modellen som ikke er dataforskere.</span><span class="sxs-lookup"><span data-stu-id="f5d78-134">Because accuracy is an easy metric to understand, it's a good starting point for explaining a model to other people, especially to users of the model who aren't data scientists.</span></span> <span data-ttu-id="f5d78-135">Du trenger ikke å forstå statistikk for å kunne forstå nøyaktigheten til modellen.</span><span class="sxs-lookup"><span data-stu-id="f5d78-135">No understanding of statistics is required to understand the model's accuracy.</span></span> <span data-ttu-id="f5d78-136">Når en forvirringsmatrise er tilgjengelig, gir den ytterligere innsikt i modellens ytelse.</span><span class="sxs-lookup"><span data-stu-id="f5d78-136">When a confusion matrix is available, it provides further insight into the model's performance.</span></span>

<span data-ttu-id="f5d78-137">Hvis du vil ha en grundigere forståelse, må du imidlertid være oppmerksom på flere utfordringer knyttet til nøyaktighet.</span><span class="sxs-lookup"><span data-stu-id="f5d78-137">However, for a more thorough understanding, several challenges that are associated with accuracy should be noted.</span></span> <span data-ttu-id="f5d78-138">Hvor nyttig målingen er, avhenger av konteksten til problemet.</span><span class="sxs-lookup"><span data-stu-id="f5d78-138">The usefulness of the metric depends on the context of the problem.</span></span> <span data-ttu-id="f5d78-139">Et spørsmål som ofte stilles i forhold til modellytelse, er «Hvor god er modellen?»</span><span class="sxs-lookup"><span data-stu-id="f5d78-139">A question that often arises in relation to model performance is, "How good is the model?"</span></span> <span data-ttu-id="f5d78-140">Det er imidlertid ikke nødvendigvis et enkelt svar på dette spørsmålet.</span><span class="sxs-lookup"><span data-stu-id="f5d78-140">However, the answer to this question isn't necessarily straightforward.</span></span> <span data-ttu-id="f5d78-141">La oss se på den følgende forvirringsmatrisen (modell 2).</span><span class="sxs-lookup"><span data-stu-id="f5d78-141">Consider the following confusion matrix (model 2).</span></span>

![Eksempel på betalingsprediksjon med et større utvalg](media/payment-prediction-matrix-2.png)

<span data-ttu-id="f5d78-143">En rask beregning viser at denne modellens nøyaktighet er (70 + 10 + 3) ÷ 100 eller 0,83.</span><span class="sxs-lookup"><span data-stu-id="f5d78-143">A quick calculation shows that this model's accuracy is (70 + 10 + 3) ÷ 100, or 0.83.</span></span> <span data-ttu-id="f5d78-144">Dette resultatet er tilsynelatende bedre enn resultatet for den forrige modellen med flere klasser (modell 1), som har en nøyaktighet på 0,73.</span><span class="sxs-lookup"><span data-stu-id="f5d78-144">On the surface, this result seems better than result for the previous multi-class model (model 1), which has an accuracy of 0.73.</span></span> <span data-ttu-id="f5d78-145">Men er den bedre?</span><span class="sxs-lookup"><span data-stu-id="f5d78-145">But is it better?</span></span>

<span data-ttu-id="f5d78-146">Du kan begynne å svare på dette spørsmålet ved å vurdere nøyaktigheten til en naiv gjetning.</span><span class="sxs-lookup"><span data-stu-id="f5d78-146">To begin to address this question, consider the accuracy of a naïve guess.</span></span> <span data-ttu-id="f5d78-147">For et klassifiseringsproblem vil en enkel gjetning alltid forutsi den vanligste klassen.</span><span class="sxs-lookup"><span data-stu-id="f5d78-147">For a classification problem, a simple guess will always predict the most common class.</span></span> <span data-ttu-id="f5d78-148">I modell 1 vil denne gjetningen være «til planlagt tid», og det gir en nøyaktighet på 0,50.</span><span class="sxs-lookup"><span data-stu-id="f5d78-148">For model 1, that guess will be "on time," and it will produce an accuracy of 0.50.</span></span> <span data-ttu-id="f5d78-149">Gjetningen i modell 2 blir også «til planlagt tid», og det gir en nøyaktighet på 0,80.</span><span class="sxs-lookup"><span data-stu-id="f5d78-149">The guess for model 2 will also be "on time," and it will produce an accuracy of 0.80.</span></span> <span data-ttu-id="f5d78-150">Siden modell 1 forbedrer den naive gjetningen med 0,73 – 0,50 = 0,23, mens modell 2 forbedrer den naive gjetningen med 0,83 – 0,80 = 0,03, er modell 1 en bedre modell, selv om den har lavere nøyaktighet.</span><span class="sxs-lookup"><span data-stu-id="f5d78-150">Because model 1 improves on the naïve guess by 0.73 – 0.50 = 0.23, whereas model 2 improves on the naïve guess by 0.83 – 0.80 = 0.03, model 1 is a better model, even though it has lower accuracy.</span></span> <span data-ttu-id="f5d78-151">Beregningen viser at effektiv vurdering av en modells kvalitet krever mer kontekst enn nøyaktighetsverdien.</span><span class="sxs-lookup"><span data-stu-id="f5d78-151">The calculation reveals that effective assessment of a model's quality requires more context than the accuracy value.</span></span>

<span data-ttu-id="f5d78-152">Et annet aspekt er også verdt å merke seg.</span><span class="sxs-lookup"><span data-stu-id="f5d78-152">Another aspect is worth noting.</span></span> <span data-ttu-id="f5d78-153">Tenk deg et scenario der en medisinsk test brukes til å oppdage en sykdom i en pasient.</span><span class="sxs-lookup"><span data-stu-id="f5d78-153">Consider a scenario where a medical test is used to detect a disease in a patient.</span></span> <span data-ttu-id="f5d78-154">Dette problemet er av typen binær klassifisering, der et positivt resultat angir at pasienten har sykdommen.</span><span class="sxs-lookup"><span data-stu-id="f5d78-154">This problem is a binary classification problem where a positive result indicates that the patient has the disease.</span></span> <span data-ttu-id="f5d78-155">I dette scenarioet må du tenke på virkningen av følgende feil:</span><span class="sxs-lookup"><span data-stu-id="f5d78-155">In this scenario, you must think about the impact of the following errors:</span></span>

- <span data-ttu-id="f5d78-156">Falske positive, der testen angir at en pasient har sykdommen, men egentlig ikke har den</span><span class="sxs-lookup"><span data-stu-id="f5d78-156">False positives, where the test says that a patient has the disease, but she doesn't really have it</span></span>
- <span data-ttu-id="f5d78-157">Falske negative, der testen angir at en pasient ikke har sykdommen, men egentlig har den</span><span class="sxs-lookup"><span data-stu-id="f5d78-157">False negatives, where the test says that a patient doesn't have the disease, but he really does have it</span></span>

<span data-ttu-id="f5d78-158">Begge typer feil er selvsagt uønsket, men hvilken er verst?</span><span class="sxs-lookup"><span data-stu-id="f5d78-158">Obviously, both types of error are undesirable, but which is worse?</span></span> <span data-ttu-id="f5d78-159">Det kommer igjen an på konteksten.</span><span class="sxs-lookup"><span data-stu-id="f5d78-159">Again, it depends.</span></span> <span data-ttu-id="f5d78-160">Hvis det er snakk om en livstruende sykdom som må behandles raskt, prioriteres minimering av falske negative (forhåpentlig etterfulgt av flere tester).</span><span class="sxs-lookup"><span data-stu-id="f5d78-160">In the case of a life-threatening disease that requires fast treatment, minimization of false negatives (hopefully followed by additional tests) takes priority.</span></span> <span data-ttu-id="f5d78-161">I andre mindre kritiske situasjoner kan de som laget modellen, kanskje fokusere på å minimere falske positive i stedet.</span><span class="sxs-lookup"><span data-stu-id="f5d78-161">In other, less critical situations, the model creators might minimize false positives instead.</span></span> <span data-ttu-id="f5d78-162">En rimelig konklusjon er i alle fall at for å kunne effektivt fastsette kvaliteten til en modell, må du har mer informasjon enn det en nøyaktige måleverdi gir.</span><span class="sxs-lookup"><span data-stu-id="f5d78-162">At any rate, a reasonable conclusion is that to effectively determine a model's quality, you must have more information than an accuracy metric provides.</span></span>

### <a name="recommendations"></a><span data-ttu-id="f5d78-163">Anbefalinger</span><span class="sxs-lookup"><span data-stu-id="f5d78-163">Recommendations</span></span>

<span data-ttu-id="f5d78-164">Nøyaktighet er et viktig verktøy for kommunikasjon med domeneeksperter som ikke vet mye om statistikk.</span><span class="sxs-lookup"><span data-stu-id="f5d78-164">Accuracy is an important tool for communicating with domain experts who aren't familiar with statistics.</span></span> <span data-ttu-id="f5d78-165">For å gjøre informasjonen nyttig er det imidlertid avgjørende at ytterligere kontekst gis sammen med nøyaktighetsverdien.</span><span class="sxs-lookup"><span data-stu-id="f5d78-165">However, to make the information useful, it's critical that additional context be provided together with the accuracy value.</span></span>

<span data-ttu-id="f5d78-166">Når det gjelder scenarioet med betalingsprediksjon, kan du angi et mål for ML-modellen som omfatter faktorer i ulike betalingsatferder.</span><span class="sxs-lookup"><span data-stu-id="f5d78-166">For the payment prediction scenario, you can set a target for the ML model that includes factors in different payment behaviors.</span></span> <span data-ttu-id="f5d78-167">Målet er at modellen skal forbedre en naiv gjetning ved å redusere antallet feilaktige svar med minst 50 prosent.</span><span class="sxs-lookup"><span data-stu-id="f5d78-167">The target is that the model should improve upon a naïve guess by reducing the number of incorrect answers by at least 50 percent.</span></span> <span data-ttu-id="f5d78-168">Du vil med andre ord ha en målnøyaktighet som er et kompromiss mellom nøyaktigheten til en naiv gjetning og 100 prosent.</span><span class="sxs-lookup"><span data-stu-id="f5d78-168">In other words, you want a target accuracy that splits the different between the accuracy of a naïve guess and 100 percent.</span></span>

<span data-ttu-id="f5d78-169">Tabellen nedenfor inneholder et sammendrag av dette prinsippet for forvirringsmatrisene i dette emnet.</span><span class="sxs-lookup"><span data-stu-id="f5d78-169">The following table summarizes this principle for the confusion matrices in this topic.</span></span>

| <span data-ttu-id="f5d78-170">Modell</span><span class="sxs-lookup"><span data-stu-id="f5d78-170">Model</span></span>   | <span data-ttu-id="f5d78-171">Naiv gjetning</span><span class="sxs-lookup"><span data-stu-id="f5d78-171">Naïve guess</span></span> | <span data-ttu-id="f5d78-172">Mål</span><span class="sxs-lookup"><span data-stu-id="f5d78-172">Target</span></span> | <span data-ttu-id="f5d78-173">Modellnøyaktighet</span><span class="sxs-lookup"><span data-stu-id="f5d78-173">Model accuracy</span></span> | <span data-ttu-id="f5d78-174">Er målet oppnådd?</span><span class="sxs-lookup"><span data-stu-id="f5d78-174">Is the goal met?</span></span>                                          |
|---------|-------------|--------|----------------|-----------------------------------------------------------|
| <span data-ttu-id="f5d78-175">Modell 1</span><span class="sxs-lookup"><span data-stu-id="f5d78-175">Model 1</span></span> | <span data-ttu-id="f5d78-176">0.50</span><span class="sxs-lookup"><span data-stu-id="f5d78-176">0.50</span></span>        | <span data-ttu-id="f5d78-177">0.75</span><span class="sxs-lookup"><span data-stu-id="f5d78-177">0.75</span></span>   | <span data-ttu-id="f5d78-178">0.73</span><span class="sxs-lookup"><span data-stu-id="f5d78-178">0.73</span></span>           | <span data-ttu-id="f5d78-179">Nesten.</span><span class="sxs-lookup"><span data-stu-id="f5d78-179">Almost.</span></span> <span data-ttu-id="f5d78-180">Denne modellen er betydelig bedre enn gjetningen.</span><span class="sxs-lookup"><span data-stu-id="f5d78-180">This model significantly improves upon the guess.</span></span> |
| <span data-ttu-id="f5d78-181">Modell 2</span><span class="sxs-lookup"><span data-stu-id="f5d78-181">Model 2</span></span> | <span data-ttu-id="f5d78-182">0.80</span><span class="sxs-lookup"><span data-stu-id="f5d78-182">0.80</span></span>        | <span data-ttu-id="f5d78-183">0.90</span><span class="sxs-lookup"><span data-stu-id="f5d78-183">0.90</span></span>   | <span data-ttu-id="f5d78-184">0.83</span><span class="sxs-lookup"><span data-stu-id="f5d78-184">0.83</span></span>           | <span data-ttu-id="f5d78-185">Nr.</span><span class="sxs-lookup"><span data-stu-id="f5d78-185">No.</span></span> <span data-ttu-id="f5d78-186">Forbedring er nødvendig.</span><span class="sxs-lookup"><span data-stu-id="f5d78-186">Improvement is required.</span></span>                              |

## <a name="classification-f1-accuracy"></a><span data-ttu-id="f5d78-187">F1-nøyaktighet for klassifisering</span><span class="sxs-lookup"><span data-stu-id="f5d78-187">Classification F1 accuracy</span></span>

<span data-ttu-id="f5d78-188">Det siste vi skal se på i dette emnet, er et mer avansert mål på ytelsen til klassifiserings-ML som kalles F1-nøyaktighet.</span><span class="sxs-lookup"><span data-stu-id="f5d78-188">The final consideration in this topic is a more advanced measure of classification ML performance that is known as F1 accuracy.</span></span>

<span data-ttu-id="f5d78-189">Før F1-nøyaktighet kan defineres, må to andre måleverdier introduseres: presisjon og tilbakekalling.</span><span class="sxs-lookup"><span data-stu-id="f5d78-189">Before F1 accuracy can be defined, two additional metrics must be introduced: precision and recall.</span></span> <span data-ttu-id="f5d78-190">Presisjon angir hvor mange av totalt antall prediksjoner som er angitt som positive, er riktig tilordnet.</span><span class="sxs-lookup"><span data-stu-id="f5d78-190">Precision indicates how many of the total number of predictions that are specified as positive are correctly assigned.</span></span> <span data-ttu-id="f5d78-191">Denne måleverdien kalles også den positive forutsigende verdien.</span><span class="sxs-lookup"><span data-stu-id="f5d78-191">This metric is also known as the positive predictive value.</span></span> <span data-ttu-id="f5d78-192">Tilbakekalling er det totale antallet av de faktiske positive tilfellene som ble riktig forutsagt.</span><span class="sxs-lookup"><span data-stu-id="f5d78-192">Recall is the total number of the actual positive cases that were predicted correctly.</span></span> <span data-ttu-id="f5d78-193">Denne måleverdien kalles også følsomhet.</span><span class="sxs-lookup"><span data-stu-id="f5d78-193">This metric is also known as sensitivity.</span></span>

<span data-ttu-id="f5d78-194">[![Sanne kontra usanne resultater](./media/tn-fn.png)](./media/tn-fn.png)</span><span class="sxs-lookup"><span data-stu-id="f5d78-194">[![True results vs. false results](./media/tn-fn.png)](./media/tn-fn.png)</span></span>

<span data-ttu-id="f5d78-195">I forvirringsmatrisen i den foregående illustrasjonen beregnes disse måleverdiene på følgende måte:</span><span class="sxs-lookup"><span data-stu-id="f5d78-195">In the confusion matrix in the preceding illustration, these metrics are calculated in the following way:</span></span>

- <span data-ttu-id="f5d78-196">Presisjon = TP ÷ (TP + RP)</span><span class="sxs-lookup"><span data-stu-id="f5d78-196">Precision = TP ÷ (TP + FP)</span></span>
- <span data-ttu-id="f5d78-197">Tilbakekalling = TP ÷ (TP + FN)</span><span class="sxs-lookup"><span data-stu-id="f5d78-197">Recall = TP ÷ (TP + FN)</span></span>

<span data-ttu-id="f5d78-198">F1-målingen kombinerer presisjon og tilbakekalling.</span><span class="sxs-lookup"><span data-stu-id="f5d78-198">The F1 measure combines precision and recall.</span></span> <span data-ttu-id="f5d78-199">Resultatet er den harmoniske middelverdien av de to verdiene.</span><span class="sxs-lookup"><span data-stu-id="f5d78-199">The result is the harmonic mean of the two values.</span></span> <span data-ttu-id="f5d78-200">Den beregnes på følgende måte:</span><span class="sxs-lookup"><span data-stu-id="f5d78-200">It's calculated in the following way:</span></span>

- <span data-ttu-id="f5d78-201">F1 = 2 × (presisjon × tilbakekalling) ÷ (presisjon + tilbakekalling)</span><span class="sxs-lookup"><span data-stu-id="f5d78-201">F1 = 2 × (Precision × Recall) ÷ (Precision + Recall)</span></span>

<span data-ttu-id="f5d78-202">La oss se på et konkret eksempel.</span><span class="sxs-lookup"><span data-stu-id="f5d78-202">Let's look at a concrete example.</span></span> <span data-ttu-id="f5d78-203">Tidligere i dette emnet var det et eksempel på en modell som forutsa om et dyr var en hund eller en katt.</span><span class="sxs-lookup"><span data-stu-id="f5d78-203">Earlier in this topic, there was an example of a model that predicted whether an animal was a dog or a cat.</span></span> <span data-ttu-id="f5d78-204">Illustrasjonen gjentas her.</span><span class="sxs-lookup"><span data-stu-id="f5d78-204">The illustration is repeated here.</span></span>

<span data-ttu-id="f5d78-205">[![Eksempel på artsprediksjon (gjentatt)](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span><span class="sxs-lookup"><span data-stu-id="f5d78-205">[![Species prediction example (repeated)](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span></span>

<span data-ttu-id="f5d78-206">Her er resultatet hvis «Hund» brukes som det positive svaret.</span><span class="sxs-lookup"><span data-stu-id="f5d78-206">Here are the results if "Dog" is used as the positive answer.</span></span>

- <span data-ttu-id="f5d78-207">Presisjon = 24 ÷ (24 + 2) = 0,9231</span><span class="sxs-lookup"><span data-stu-id="f5d78-207">Precision = 24 ÷ (24 + 2) = 0.9231</span></span>
- <span data-ttu-id="f5d78-208">Tilbakekalling = 24 ÷ (24 + 6) = 0,8</span><span class="sxs-lookup"><span data-stu-id="f5d78-208">Recall = 24 ÷ (24 + 6) = 0.8</span></span>
- <span data-ttu-id="f5d78-209">F1 = 2 × (0,9231 × 0,8) ÷ (0,9231 + 0,8) = 0,8572</span><span class="sxs-lookup"><span data-stu-id="f5d78-209">F1 = 2 × (0.9231 × 0.8) ÷ (0.9231 + 0.8) = 0.8572</span></span>

<span data-ttu-id="f5d78-210">Som du kan se, er verdien for F1 mellom verdiene for presisjon og tilbakekalling.</span><span class="sxs-lookup"><span data-stu-id="f5d78-210">As you can see, the F1 value is between the values for precision and recall.</span></span>

<span data-ttu-id="f5d78-211">Selv om det ikke er like lett å forstå F1-nøyaktighet, tilføyer det nyanse til det grunnleggende nøyaktighetstallet.</span><span class="sxs-lookup"><span data-stu-id="f5d78-211">Although F1 accuracy isn't as easy to understand, it adds nuance to the basic accuracy number.</span></span> <span data-ttu-id="f5d78-212">Det kan også være til hjelp i ubalanserte datasett, som den følgende diskusjonen viser.</span><span class="sxs-lookup"><span data-stu-id="f5d78-212">It can also help with unbalanced datasets, as the following discussion will show.</span></span>

<span data-ttu-id="f5d78-213">Delen [Modellnøyaktighet](#model-accuracy) i dette emnet sammenlignet de to følgende forvirringsmatrisene.</span><span class="sxs-lookup"><span data-stu-id="f5d78-213">The [Model accuracy](#model-accuracy) section of this topic compared the following two confusion matrices.</span></span> <span data-ttu-id="f5d78-214">Selv om den første modellen hadde lavere nøyaktighet, ble den regnet for å være en nyttigere modell fordi den hadde større forbedring enn standardgjetningen for en betaling i tide.</span><span class="sxs-lookup"><span data-stu-id="f5d78-214">Even though the first model had lower accuracy, it was deemed a more useful model because it showed more improvement than the default guess of an on-time payment.</span></span>

![Eksempel på betalingsprediksjon kontra faktiske tilfeller](media/payment-prediction-matrix.png)

![Eksempel på betalingsprediksjon med et større utvalg (gjentatt)](media/payment-prediction-matrix-2.png)

<span data-ttu-id="f5d78-217">La oss sammenligne disse to modellene når F1-poengsummen brukes.</span><span class="sxs-lookup"><span data-stu-id="f5d78-217">Let's see how these two models compare when the F1 score is used.</span></span> <span data-ttu-id="f5d78-218">F1-poengsummen tar hensyn til presisjon og tilbakekalling for hver tilstand, og F1-makroberegningen beregner deretter gjennomsnittet av F1-poengsummen på tvers av tilstandene for å beregne en samlet F1-poengsum.</span><span class="sxs-lookup"><span data-stu-id="f5d78-218">The F1 score factors in precision and recall for each state, and the F1 macro calculation then averages the F1 score across the states to determine an overall F1 score.</span></span> <span data-ttu-id="f5d78-219">Det finnes andre F1-varianter, men det er mer interessant å vurdere makroversjonen, gitt at det tas like stort hensyn til alle tre tilstandene.</span><span class="sxs-lookup"><span data-stu-id="f5d78-219">There are other F1 variants, but it's of greater interest to consider the macro version, given the equal consideration that is given to all three states.</span></span>

<span data-ttu-id="f5d78-220">For å forenkle beregningene ble det bygd eksempelmatriser for å sammenligne de faktiske og forutsagte verdiene.</span><span class="sxs-lookup"><span data-stu-id="f5d78-220">To simplify the calculations, sample arrays were built to match the actual and predicted values.</span></span> <span data-ttu-id="f5d78-221">Disse matrisene brukte sklearns målingsbibliotek i Python til å beregne verdiene.</span><span class="sxs-lookup"><span data-stu-id="f5d78-221">These arrays used sklearn's metrics library in Python to calculate the values.</span></span> <span data-ttu-id="f5d78-222">Her er resultatet.</span><span class="sxs-lookup"><span data-stu-id="f5d78-222">Here is the result.</span></span>

| <span data-ttu-id="f5d78-223">Modell</span><span class="sxs-lookup"><span data-stu-id="f5d78-223">Model</span></span>   | <span data-ttu-id="f5d78-224">Naiv gjetning</span><span class="sxs-lookup"><span data-stu-id="f5d78-224">Naive guess</span></span> | <span data-ttu-id="f5d78-225">Presisjon</span><span class="sxs-lookup"><span data-stu-id="f5d78-225">Accuracy</span></span> | <span data-ttu-id="f5d78-226">F1-makro</span><span class="sxs-lookup"><span data-stu-id="f5d78-226">F1 macro</span></span> |
|---------|-------------|----------|----------|
| <span data-ttu-id="f5d78-227">Modell 1</span><span class="sxs-lookup"><span data-stu-id="f5d78-227">Model 1</span></span> | <span data-ttu-id="f5d78-228">0.5</span><span class="sxs-lookup"><span data-stu-id="f5d78-228">0.5</span></span>         | <span data-ttu-id="f5d78-229">0.73</span><span class="sxs-lookup"><span data-stu-id="f5d78-229">0.73</span></span>     | <span data-ttu-id="f5d78-230">0.67</span><span class="sxs-lookup"><span data-stu-id="f5d78-230">0.67</span></span>     |
| <span data-ttu-id="f5d78-231">Modell 2</span><span class="sxs-lookup"><span data-stu-id="f5d78-231">Model 2</span></span> | <span data-ttu-id="f5d78-232">0.80</span><span class="sxs-lookup"><span data-stu-id="f5d78-232">0.80</span></span>        | <span data-ttu-id="f5d78-233">0.83</span><span class="sxs-lookup"><span data-stu-id="f5d78-233">0.83</span></span>     | <span data-ttu-id="f5d78-234">0.66</span><span class="sxs-lookup"><span data-stu-id="f5d78-234">0.66</span></span>     |

<span data-ttu-id="f5d78-235">Hvis du vil ha mer informasjon om hvordan denne beregningen fungerer, har du her klassifiseringsrapporten sklearn.metrics for modell 1.</span><span class="sxs-lookup"><span data-stu-id="f5d78-235">For more detail about how this calculation works, here is the sklearn.metrics classification report for model 1.</span></span> <span data-ttu-id="f5d78-236">De tre tilstandene Til planlagt tid, For sent og Svært sent representeres av radene som er merket med henholdsvis 1, 2 og 3.</span><span class="sxs-lookup"><span data-stu-id="f5d78-236">The three states, "On time," "Late," and "Very late," are represented by the rows that are labeled 1, 2, and 3, respectively.</span></span> <span data-ttu-id="f5d78-237">Makrogjennomsnittet er bare gjennomsnittet av kolonnen for F1-poengsum.</span><span class="sxs-lookup"><span data-stu-id="f5d78-237">The macro average is just the average of the "f1-score" column.</span></span>

|           | <span data-ttu-id="f5d78-238">presisjon</span><span class="sxs-lookup"><span data-stu-id="f5d78-238">precision</span></span> | <span data-ttu-id="f5d78-239">tilbakekalling</span><span class="sxs-lookup"><span data-stu-id="f5d78-239">recall</span></span>   | <span data-ttu-id="f5d78-240">f1-poengsum</span><span class="sxs-lookup"><span data-stu-id="f5d78-240">f1-score</span></span> |
|-----------|-----------|----------|----------|
| <span data-ttu-id="f5d78-241">**1**</span><span class="sxs-lookup"><span data-stu-id="f5d78-241">**1**</span></span>     | <span data-ttu-id="f5d78-242">0.83</span><span class="sxs-lookup"><span data-stu-id="f5d78-242">0.83</span></span>      | <span data-ttu-id="f5d78-243">0.80</span><span class="sxs-lookup"><span data-stu-id="f5d78-243">0.80</span></span>     | <span data-ttu-id="f5d78-244">0.82</span><span class="sxs-lookup"><span data-stu-id="f5d78-244">0.82</span></span>     |
| <span data-ttu-id="f5d78-245">**2**</span><span class="sxs-lookup"><span data-stu-id="f5d78-245">**2**</span></span>     | <span data-ttu-id="f5d78-246">0.68</span><span class="sxs-lookup"><span data-stu-id="f5d78-246">0.68</span></span>      | <span data-ttu-id="f5d78-247">0.71</span><span class="sxs-lookup"><span data-stu-id="f5d78-247">0.71</span></span>     | <span data-ttu-id="f5d78-248">0.69</span><span class="sxs-lookup"><span data-stu-id="f5d78-248">0.69</span></span>     |
| <span data-ttu-id="f5d78-249">**3**</span><span class="sxs-lookup"><span data-stu-id="f5d78-249">**3**</span></span>     | <span data-ttu-id="f5d78-250">0.50</span><span class="sxs-lookup"><span data-stu-id="f5d78-250">0.50</span></span>      | <span data-ttu-id="f5d78-251">0.50</span><span class="sxs-lookup"><span data-stu-id="f5d78-251">0.50</span></span>     | <span data-ttu-id="f5d78-252">0.50</span><span class="sxs-lookup"><span data-stu-id="f5d78-252">0.50</span></span>     |

<span data-ttu-id="f5d78-253">Som disse resultatene viser har de to modellene nesten identiske poengsummer for F1-makronøyaktighet.</span><span class="sxs-lookup"><span data-stu-id="f5d78-253">As these results show, the two models have nearly identical F1 macro accuracy scores.</span></span> <span data-ttu-id="f5d78-254">I dette og mange andre tilfeller er F1-nøyaktighet en bedre indikator på hvor god en modell er.</span><span class="sxs-lookup"><span data-stu-id="f5d78-254">In this and many other cases, F1 accuracy provides a better indicator of a model's capability.</span></span> <span data-ttu-id="f5d78-255">Som for nøyaktighet krever tolkningen av resultatene at du forstår hva som er det viktigste å ta hensyn til i modellen.</span><span class="sxs-lookup"><span data-stu-id="f5d78-255">As for accuracy, interpretation of the results requires that you understand what is most important to consider in the model.</span></span>

#### <a name="privacy-notice"></a><span data-ttu-id="f5d78-256">Personvernerklæring</span><span class="sxs-lookup"><span data-stu-id="f5d78-256">Privacy notice</span></span>
<span data-ttu-id="f5d78-257">Forhåndsversjoner (1) kan ha redusert personvern og færre sikkerhetstiltak enn Dynamics 365 Finance and Operations-tjenesten, (2) er ikke inkludert i serviceavtalen (SLA) for denne tjenesten, (3) må ikke brukes til å behandle personlige data eller andre data som er underlagt juridiske eller forskriftsmessige krav, og (4) har begrenset støtte.</span><span class="sxs-lookup"><span data-stu-id="f5d78-257">Previews (1) might use less privacy and fewer security measures than the Dynamics 365 Finance and Operations service, (2) aren't included in the service level agreement (SLA) for this service, (3) should not be used to process personal data or other data that is subject to legal or regulatory compliance requirements, and (4) have limited support.</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]