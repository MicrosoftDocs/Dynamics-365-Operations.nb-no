---
title: Oversikt over oppgradering for avskrivningstablå
description: I tidligere versjoner var det to vurderingskonsepter for anleggsmidler, verdimodeller og avskrivningstablåer.
author: ShylaThompson
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User, Developer
ms.reviewer: roschlom
ms.search.scope: Core, Operations
ms.custom: 221624
ms.assetid: cf434099-36f9-4b0f-a7c8-bed091e34f39
ms.search.region: global
ms.author: saraschi
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
ms.openlocfilehash: efa1b492fec085cc8bac5a786af4aaba854899e5
ms.sourcegitcommit: 199848e78df5cb7c439b001bdbe1ece963593cdb
ms.translationtype: HT
ms.contentlocale: nb-NO
ms.lasthandoff: 10/13/2020
ms.locfileid: "4446314"
---
# <a name="depreciation-book-upgrade-overview"></a><span data-ttu-id="f9559-103">Oversikt over oppgradering av avskrivningstablå</span><span class="sxs-lookup"><span data-stu-id="f9559-103">Depreciation book upgrade overview</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="f9559-104">I tidligere versjoner var det to vurderingskonsepter for anleggsmidler: verdimodeller og avskrivningstablåer.</span><span class="sxs-lookup"><span data-stu-id="f9559-104">In previous releases, there were two valuation concepts for fixed assets -  value models and depreciation books.</span></span> <span data-ttu-id="f9559-105">I Microsoft Dynamics 365 for Operations (1611) er verdimodellfunksjonaliteten og funksjonaliteten for avskrivningstablå slått sammen til ett enkelt konsept som kalles et tablå.</span><span class="sxs-lookup"><span data-stu-id="f9559-105">In Microsoft Dynamics 365 for Operations (1611), the value model functionality and depreciation book functionality have been merged into a single concept that is known as a book.</span></span> <span data-ttu-id="f9559-106">Dette emnet inneholder noen ting å ta hensyn til for oppgraderingen.</span><span class="sxs-lookup"><span data-stu-id="f9559-106">This topic provides some things to consider for the upgrade.</span></span> 

<span data-ttu-id="f9559-107">Oppgraderingsprosessen flytter eksisterende oppsett og alle eksisterende transaksjoner til den nye tablåstrukturen.</span><span class="sxs-lookup"><span data-stu-id="f9559-107">The upgrade process will move your existing setup and all existing transactions to the new book structure.</span></span> <span data-ttu-id="f9559-108">Verdimodeller forblir slik de er for øyeblikket, som et tablå som posterer til økonomimodulen.</span><span class="sxs-lookup"><span data-stu-id="f9559-108">Value models will remain as they currently are, as a book that posts to the general ledger.</span></span> <span data-ttu-id="f9559-109">Avskrivningstablåer flyttes til et tablå bok med alternativet **Poster til økonomimodul** satt til **Ingen**.</span><span class="sxs-lookup"><span data-stu-id="f9559-109">Depreciation books will be moved to a book that has the **Post to general ledger** option set to **No**.</span></span> <span data-ttu-id="f9559-110">Journalnavn for avskrivningstablå flyttes til et journalnavn for økonomimodul med posteringslaget satt til **Ingen**.</span><span class="sxs-lookup"><span data-stu-id="f9559-110">Depreciation book journal names will be moved to a general ledger journal name with the posting layer set to **None**.</span></span> <span data-ttu-id="f9559-111">Avskrivningstablåtransaksjoner vil bli flyttet til anleggsmiddeltransaksjoner.</span><span class="sxs-lookup"><span data-stu-id="f9559-111">Depreciation book transactions will be moved to Fixed asset transactions.</span></span> 

<span data-ttu-id="f9559-112">Før du kjører dataoppgraderingen, må du forstå de to alternativene som er tilgjengelige for oppgradering av journallinjer for avskrivningstablå til transaksjonsbilag, og nummerserien som brukes for bilagsserien.</span><span class="sxs-lookup"><span data-stu-id="f9559-112">Before running the data upgrade, you should understand the two options available for upgrading depreciation book journal lines to transaction vouchers, and the number sequence that will be used for the voucher series.</span></span> 

<span data-ttu-id="f9559-113">Alternativ 1: **Systemdefinert nummerserie** – Dette er standardalternativet for å optimalisere ytelsen til dataoppgraderingen.</span><span class="sxs-lookup"><span data-stu-id="f9559-113">Option 1:  **System-defined number sequence** - This is the default option to optimize upgrade performance.</span></span> <span data-ttu-id="f9559-114">Oppgraderingen kan ikke bruke rammeverket for nummerserie, men vil i stedet tildele bilag med en settbasert tilnærmingsmåte.</span><span class="sxs-lookup"><span data-stu-id="f9559-114">The upgrade will not use the number sequences framework, but instead will allocate vouchers with a set-based approach.</span></span> <span data-ttu-id="f9559-115">Etter oppgraderingen vil den nye nummerserien opprettes med **Neste nummerserie** basert på riktig måte på de oppgraderte transaksjonene</span><span class="sxs-lookup"><span data-stu-id="f9559-115">After the upgrade, the new number sequence will be created with the **Next number set** appropriately based on the upgraded transactions.</span></span> <span data-ttu-id="f9559-116">Nummerserien brukes som standard i formatet FADBUpgr\#\#\#\#\#\#\#\#\#.</span><span class="sxs-lookup"><span data-stu-id="f9559-116">By default, the number sequence used will be in the FADBUpgr\#\#\#\#\#\#\#\#\# format.</span></span> <span data-ttu-id="f9559-117">Det finnes noen få tilgjengelige parametere for å justere formatet når du bruker denne fremgangsmåten:</span><span class="sxs-lookup"><span data-stu-id="f9559-117">There are a few parameters available to you to adjust the format when using this approach:</span></span>

-   <span data-ttu-id="f9559-118">**Nummerseriekode** – Koden for å identifisere nummerserien.</span><span class="sxs-lookup"><span data-stu-id="f9559-118">**Number sequence code** – The code to identify the number sequence.</span></span> <span data-ttu-id="f9559-119">Denne nummerseriekoden kan ikke eksistere siden den opprettes av oppgraderingen.</span><span class="sxs-lookup"><span data-stu-id="f9559-119">This number sequence code cannot exist since it will be created by the upgrade.</span></span>
    -   <span data-ttu-id="f9559-120">Konstantnavn: **NumberSequenceDefaultCode**</span><span class="sxs-lookup"><span data-stu-id="f9559-120">Constant name: **NumberSequenceDefaultCode**</span></span>
    -   <span data-ttu-id="f9559-121">Standardverdi: "FADBUpgr"</span><span class="sxs-lookup"><span data-stu-id="f9559-121">Default value: "FADBUpgr"</span></span>
-   <span data-ttu-id="f9559-122">**Prefiks** – Konstantsstrengverdien som skal brukes som et prefiks for bilagsnumrene.</span><span class="sxs-lookup"><span data-stu-id="f9559-122">**Prefix** – The constant string value that will be used as a prefix for the voucher numbers.</span></span>
    -   <span data-ttu-id="f9559-123">Konstantnavn: **NumberSequenceDefaultParameterPrefix**</span><span class="sxs-lookup"><span data-stu-id="f9559-123">Constant name: **NumberSequenceDefaultParameterPrefix**</span></span>
    -   <span data-ttu-id="f9559-124">Standardverdi: "FADBUpgr"</span><span class="sxs-lookup"><span data-stu-id="f9559-124">Default value: "FADBUpgr"</span></span>
-   <span data-ttu-id="f9559-125">**Alfanumerisk lengde** – Lengden på det alfanumeriske segmentet i nummerserien.</span><span class="sxs-lookup"><span data-stu-id="f9559-125">**Alphanumeric length** – The length of the alphanumeric segment of the number sequence.</span></span>
    -   <span data-ttu-id="f9559-126">Konstantnavn: **NumberSequenceDefaultParameterAlpanumericLength **</span><span class="sxs-lookup"><span data-stu-id="f9559-126">Constant name: \*\*NumberSequenceDefaultParameterAlpanumericLength \*\*</span></span>
    -   <span data-ttu-id="f9559-127">Standardverdi: 9</span><span class="sxs-lookup"><span data-stu-id="f9559-127">Default value: 9</span></span>
-   <span data-ttu-id="f9559-128">**Startnummer** – Det første tallet som skal brukes i nummerserien.</span><span class="sxs-lookup"><span data-stu-id="f9559-128">**Start number** - The first number to be used in the number sequence.</span></span>
    -   <span data-ttu-id="f9559-129">Konstantnavn: **NumberSequenceDefaultParameterStartNumber **</span><span class="sxs-lookup"><span data-stu-id="f9559-129">Constant name: \*\*NumberSequenceDefaultParameterStartNumber  \*\*</span></span>
    -   <span data-ttu-id="f9559-130">Standardverdi: 1</span><span class="sxs-lookup"><span data-stu-id="f9559-130">Default value: 1</span></span>

<span data-ttu-id="f9559-131">Alternativ 2: **Eksisterende brukerdefinert nummerserie** - Dette alternativet lar deg definere nummerserien som skal brukes for oppgraderingen.</span><span class="sxs-lookup"><span data-stu-id="f9559-131">Option 2: **Existing user-defined number sequence** - This option will allow you to define the number sequence to be used for the upgrade.</span></span> <span data-ttu-id="f9559-132">Vurder å bruke dette alternativet hvis du har behov for avansert nummerseriekonfigurasjon.</span><span class="sxs-lookup"><span data-stu-id="f9559-132">Consider using this option if you need advanced number sequence configuration.</span></span> <span data-ttu-id="f9559-133">Hvis du vil bruke en nummerserie, må du endre oppgraderingsklassen ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans med følgende informasjon:</span><span class="sxs-lookup"><span data-stu-id="f9559-133">To use a number sequence, you must modify the upgrade class ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans with the following information:</span></span>

-   <span data-ttu-id="f9559-134">**Nummerseriekode** – Koden til nummerserien.</span><span class="sxs-lookup"><span data-stu-id="f9559-134">**Number sequence code** – The code of the number sequence.</span></span>
    -   <span data-ttu-id="f9559-135">Konstantnavn: \*\*NumberSequenceExistingCode \*\*</span><span class="sxs-lookup"><span data-stu-id="f9559-135">Constant name: \*\*NumberSequenceExistingCode \*\*</span></span>
    -   <span data-ttu-id="f9559-136">Standardverdi: Ingen standard. Dette må oppdateres til nummerseriekoden.</span><span class="sxs-lookup"><span data-stu-id="f9559-136">Default value: No default, this must be updated to the number sequence code.</span></span>
-   <span data-ttu-id="f9559-137">**Felles nummerserie** – En boolsk verdi for å identifisere omfanget for nummerserien.</span><span class="sxs-lookup"><span data-stu-id="f9559-137">**Shared number sequence** – A boolean value to identify the scope of the number sequence.</span></span> <span data-ttu-id="f9559-138">Bruk "true" for nummerserier som deles på tvers av alle firmaer, og "false" for et firmaomfang.</span><span class="sxs-lookup"><span data-stu-id="f9559-138">Use "true" for shared number sequences across all companies, and "false" for a company-specific scope.</span></span> <span data-ttu-id="f9559-139">Når du bruker "false", må nummerserien med det angitte navnet finnes i hvert firma som inneholder avskrivningstablåtransaksjoner.</span><span class="sxs-lookup"><span data-stu-id="f9559-139">When using "false", the number sequence with the specified name must exist in every company that contains depreciation book transactions.</span></span> <span data-ttu-id="f9559-140">Det finnes delte nummerserier i hver partisjon som inneholder avskrivningstablåtransaksjoner.</span><span class="sxs-lookup"><span data-stu-id="f9559-140">Shared number sequences exist in every partition that contains depreciation book transactions.</span></span>
    -   <span data-ttu-id="f9559-141">Konstantnavn: \*\*NumberSequenceExistingIsShared \*\*</span><span class="sxs-lookup"><span data-stu-id="f9559-141">Constant name: \*\*NumberSequenceExistingIsShared \*\*</span></span>
    -   <span data-ttu-id="f9559-142">Standardverdi: true</span><span class="sxs-lookup"><span data-stu-id="f9559-142">Default value: true</span></span>

<span data-ttu-id="f9559-143">Parameterne er plassert i begynnelsen av klassen ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans.</span><span class="sxs-lookup"><span data-stu-id="f9559-143">The parameters are located at the beginning of the ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans class.</span></span> 

<span data-ttu-id="f9559-144">*// Angi en foretrukket metode for fordeling av bilag* 
 *// true, hvis du vil bruke en eksisterende nummerseriekode* 
 *// false, hvis du vil bruke den systemdefinerte nummerserien (standard)* const boolean NumberSequenceUseExistingCode = false;</span><span class="sxs-lookup"><span data-stu-id="f9559-144">*// Specify a preferable approach of vouchers allocation* 
 *// true, if you want to use an existing number sequence code* 
 *// false, if you intend to use the system-defined number sequence (default)* const boolean NumberSequenceUseExistingCode = false;</span></span>  

<span data-ttu-id="f9559-145">*// Hvis bruker fremgangsmåten for systemdefinert nummerserie, angir du parameterne for nummerserien.*
 *// Det opprettes en ny nummerserie med disse parameterne.*</span><span class="sxs-lookup"><span data-stu-id="f9559-145">*// If using the system-defined number sequence approach, specify the parameters for the number sequence.*
 *// A new number sequence will be created with these parameters.*</span></span> <span data-ttu-id="f9559-146">const str NumberSequenceDefaultCode = 'FADBUpgr'; const str NumberSequenceDefaultParameterPrefix = 'FADBUpgr'; const int NumberSequenceDefaultParameterAlpanumericLength = 9; const int NumberSequenceDefaultParameterStartNumber = 1;</span><span class="sxs-lookup"><span data-stu-id="f9559-146">const str NumberSequenceDefaultCode = 'FADBUpgr'; const str NumberSequenceDefaultParameterPrefix = 'FADBUpgr'; const int NumberSequenceDefaultParameterAlpanumericLength = 9; const int NumberSequenceDefaultParameterStartNumber = 1;</span></span>   

<span data-ttu-id="f9559-147">*// Hvis du bruker fremgangsmåten for eksisterende nummerserie, angir du den eksisterende nummerseriekoden.* 
 *// Bilagstilordning går rad for rad for eksisterende nummerserier.*</span><span class="sxs-lookup"><span data-stu-id="f9559-147">*// If using the existing number sequence approach, specify the existing number sequence code.* 
 *// Voucher allocation will go row-by-row for existing number sequences.*</span></span> <span data-ttu-id="f9559-148">const str NumberSequenceExistingCode = ''; *// Angi omfanget for den eksisterende nummerseriekoden* 
 *// true, hvis den angitte nummerserien er delt* 
 *// false, hvis den angitte nummerserien er per firma* 
 *// Standard systemdefinert nummerserie brukes hvis en nummerseriekode med det angitte omfanget ikke finnes.*</span><span class="sxs-lookup"><span data-stu-id="f9559-148">const str NumberSequenceExistingCode = ''; *// Specify the scope of the existing number sequence code* 
 *// true, if the specified number sequence is shared* 
 *// false, if the specified number sequence is per-company* 
 *// The default system-defined number sequence will be used if a number sequence code with the specified scope is not found.*</span></span> <span data-ttu-id="f9559-149">const boolean NumberSequenceExistingIsShared = true;</span><span class="sxs-lookup"><span data-stu-id="f9559-149">const boolean NumberSequenceExistingIsShared = true;</span></span> 

<span data-ttu-id="f9559-150">Bygg på nytt prosjektet som inneholder klassen når konstantene har blitt endret.</span><span class="sxs-lookup"><span data-stu-id="f9559-150">Rebuild the project that contains the class after the constants have been modified.</span></span> 

<span data-ttu-id="f9559-151">Når du bruker fremgangsmåten for systemgenerert nummerserie (alternativ 1), bruker oppgraderingen settbasert behandling for å tildele bilagsnumrene som er angitt i parameterne for oppgraderingsskriptet.</span><span class="sxs-lookup"><span data-stu-id="f9559-151">When using the system-generated number sequence approach (option 1), the upgrade will use set-based processing to allocate the voucher numbers as specified in the upgrade script parameters.</span></span> <span data-ttu-id="f9559-152">Dette oppretter også en ny nummerserie med angitte parametere etter tildelingen.</span><span class="sxs-lookup"><span data-stu-id="f9559-152">It will also create a new number sequence with specified parameters after the allocation.</span></span> 

<span data-ttu-id="f9559-153">Når du bruker fremgangsmåten for brukerdefinert nummerserie (alternativ 2), sjekker dataoppgraderingen om nummerserien med det angitte omfanget finnes i databasen for hver partisjon og firma med avskrivningstablåtransaksjoner.</span><span class="sxs-lookup"><span data-stu-id="f9559-153">When using the user-defined existing number sequence approach (option 2), the data upgrade checks whether the number sequence with the specified scope exists in the database for each partition and company with depreciation book transactions.</span></span> <span data-ttu-id="f9559-154">Hvis den finnes, bruker oppgraderingen rad for rad-behandling for å tildele bilagsnumre som angis av nummerserien ved hjelp av rammeverket for nummerserier.</span><span class="sxs-lookup"><span data-stu-id="f9559-154">If it does exist, the upgrade will use row-by-row processing to allocate the voucher numbers as specified by the number sequence using the number sequence framework.</span></span> <span data-ttu-id="f9559-155">Hvis nummerserien ikke finnes med angitte omfanget, bruker oppgraderingen fremgangsmåten for standard systemdefinert nummerserie for å tildele bilagsnumrene, og det opprettes en ny nummerserie med angitte standardparametere etter tildelingen.</span><span class="sxs-lookup"><span data-stu-id="f9559-155">If the number sequence does not exist with the specified scope, the upgrade will use the default system-defined number sequence approach to allocate the voucher numbers, and will create a new number sequence with specified default parameters after the allocation.</span></span>

<span data-ttu-id="f9559-156">For begge fremgangsmåtene vil skriptet for dataoppgradering også bruke nummerserien for **Bilagsserie**-feltet på de nye journalnavnene for økonomimodulen som er opprettet for de tidligere journalnavnene for avskrivningstablå.</span><span class="sxs-lookup"><span data-stu-id="f9559-156">With either approach, the data upgrade script will also use the number sequence for the **Voucher series** field on the new general ledger journal names created for the former depreciation book journal names.</span></span>



