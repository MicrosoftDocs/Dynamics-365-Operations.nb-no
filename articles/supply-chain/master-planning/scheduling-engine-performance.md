---
title: Forbedre ytelsen til planleggingsmotoren
description: Dette emnet inneholder informasjon om planleggingsmotoren og hvordan du kan forbedre ytelsen.
author: ChristianRytt
manager: tfehr
ms.date: 09/03/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 19311
ms.assetid: 5ffb1486-2e08-4cdc-bd34-b47ae795ef0f
ms.search.region: Global
ms.search.industry: ''
ms.author: kamaybac
ms.search.validFrom: 2020-09-03
ms.dyn365.ops.version: ''
ms.openlocfilehash: 1c1b940754021956998fe27ba16020d4b16aedf1
ms.sourcegitcommit: 49f3011b8a6d8cdd038e153d8cb3cf773be25ae4
ms.translationtype: HT
ms.contentlocale: nb-NO
ms.lasthandoff: 10/16/2020
ms.locfileid: "4015073"
---
# <a name="improve-scheduling-engine-performance"></a><span data-ttu-id="8a867-103">Forbedre ytelsen til planleggingsmotoren</span><span class="sxs-lookup"><span data-stu-id="8a867-103">Improve scheduling engine performance</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="8a867-104">Ressursplanleggingsmotoren brukes ved planlegging av ruter for planlagte og frigitte produksjonsordrer.</span><span class="sxs-lookup"><span data-stu-id="8a867-104">The resource scheduling engine is used when scheduling routes for planned and released production orders.</span></span> <span data-ttu-id="8a867-105">Motoren ble opprinnelig utgitt som en del av Dynamics AX 2012 og har gått gjennom flere forbedringer etter utgivelsen.</span><span class="sxs-lookup"><span data-stu-id="8a867-105">The engine was originally released as part of Dynamics AX 2012 and has gone through several improvements since its release.</span></span>

<span data-ttu-id="8a867-106">[Planlegging av jobbproduksjonsproblem](https://en.wikipedia.org/wiki/Job_shop_scheduling) er et ekstremt komplekst kombinasjonsproblem der løsningstiden øker eksponentielt med antallet beslutningvariabler.</span><span class="sxs-lookup"><span data-stu-id="8a867-106">The [job shop scheduling problem](https://en.wikipedia.org/wiki/Job_shop_scheduling) is an extremely complex combinatorial problem where solution time grows exponentially with the number of decision variables.</span></span> <span data-ttu-id="8a867-107">Ofte kan kundene definere produksjonsruter og relaterte data på en måte som fører til et planleggingsproblem som ikke kan løses i rimelig tid, selv på den mest moderne maskinvaren.</span><span class="sxs-lookup"><span data-stu-id="8a867-107">Oftentimes, customers set up production routes and related data in a way that results in a scheduling problem that can't be solved in reasonable time even on the most modern hardware.</span></span> <span data-ttu-id="8a867-108">Dette emnet vil hjelpe deg med å forstå planleggingsmotoren og hvordan et bestemt oppsett kan påvirke ytelsen.</span><span class="sxs-lookup"><span data-stu-id="8a867-108">This topic will help you understand the scheduling engine and how a specific setup can have influence on the performance.</span></span>

<span data-ttu-id="8a867-109">Når det gjelder å forbedre ytelsen til planleggingen, anbefaler generelle retningslinjer at du reduserer kompleksiteten til problemet som motoren må løse.</span><span class="sxs-lookup"><span data-stu-id="8a867-109">When it comes to improving the performance of the scheduling, general guidelines recommend reducing the complexity of the problem the engine needs to solve.</span></span> <span data-ttu-id="8a867-110">Noen av hovedfaktorene som kan påvirke ytelsen omfatter:</span><span class="sxs-lookup"><span data-stu-id="8a867-110">Some of the main factors that can affect performance include:</span></span>

- <span data-ttu-id="8a867-111">Ruter med mange operasjoner</span><span class="sxs-lookup"><span data-stu-id="8a867-111">Routes with many operations</span></span>
- <span data-ttu-id="8a867-112">Ruter med parallelle operasjoner</span><span class="sxs-lookup"><span data-stu-id="8a867-112">Routes with parallel operations</span></span>
- <span data-ttu-id="8a867-113">Operasjoner med flere ressurser enn én</span><span class="sxs-lookup"><span data-stu-id="8a867-113">Operations with quantity of resources higher than one</span></span>
- <span data-ttu-id="8a867-114">Operasjoner med mange gjeldende ressurser</span><span class="sxs-lookup"><span data-stu-id="8a867-114">Operations with many applicable resources</span></span>
- <span data-ttu-id="8a867-115">Bruk av harde koblinger</span><span class="sxs-lookup"><span data-stu-id="8a867-115">Use of hard links</span></span>
- <span data-ttu-id="8a867-116">Bruk av begrenset kapasitet</span><span class="sxs-lookup"><span data-stu-id="8a867-116">Use of finite capacity</span></span>
- <span data-ttu-id="8a867-117">Antall forskjellige kalendere som brukes</span><span class="sxs-lookup"><span data-stu-id="8a867-117">The number of different calendars used</span></span>
- <span data-ttu-id="8a867-118">Antall spor for arbeidstid per dag i kalenderen</span><span class="sxs-lookup"><span data-stu-id="8a867-118">The number of working time slots per day in the calendar</span></span>
- <span data-ttu-id="8a867-119">Samlet varighet for ruten</span><span class="sxs-lookup"><span data-stu-id="8a867-119">Total duration of the route</span></span>
- <span data-ttu-id="8a867-120">Kjøre flere planleggingsmotorer parallelt</span><span class="sxs-lookup"><span data-stu-id="8a867-120">Running multiple scheduling engines in parallel</span></span>

## <a name="overview-of-basic-scheduling-flow"></a><span data-ttu-id="8a867-121">Oversikt over grunnleggende planleggingsflyt</span><span class="sxs-lookup"><span data-stu-id="8a867-121">Overview of basic scheduling flow</span></span>

<span data-ttu-id="8a867-122">Hvis du vil forstå hvordan et gitt oppsett kan påvirke ytelsen, er det viktig å forstå noe om hvordan prosessen flyter, både i motoren og i X++-koden som omgir den.</span><span class="sxs-lookup"><span data-stu-id="8a867-122">To understand how a given setup can affect performance, it is important to understand something about how the process flows, both inside the engine and in the X++ code that surrounds it.</span></span>

<span data-ttu-id="8a867-123">Den grunnleggende prosessen med planlegging av en ordre består av tre hovedtrinn:</span><span class="sxs-lookup"><span data-stu-id="8a867-123">The basic process of scheduling an order consists of three main steps:</span></span>

- <span data-ttu-id="8a867-124">**Laste inn data** – Her blir X++-datamodellene omgjort til motorens interne datamodell i form av jobber og begrensninger.</span><span class="sxs-lookup"><span data-stu-id="8a867-124">**Loading data** – Here, the X++ data models are transformed into the engine's internal data model in the form of jobs and constraints.</span></span>
- <span data-ttu-id="8a867-125">**Planlegge** – Dette er hovedkilden for planlegging som behandler angitt modell og begrensninger, og genererer et resultat.</span><span class="sxs-lookup"><span data-stu-id="8a867-125">**Scheduling** – This is the main source for scheduling that processes the given model and constraints, and generates a result.</span></span> <span data-ttu-id="8a867-126">I denne prosessen vil motoren be om arbeidstidsinformasjon og eksisterende kapasitetsreservasjoner fra X++ etter behov.</span><span class="sxs-lookup"><span data-stu-id="8a867-126">During this process, the engine will request working time information and existing capacity reservations from X++ as needed.</span></span>
- <span data-ttu-id="8a867-127">**Lagre data** – Motorresultatet i form av reservasjonsspor for jobbkapasitet behandles av X++-kode for å spare kapasitetsreservasjoner og oppdatere start- og sluttidspunktene for jobbene/operasjonen/ordren.</span><span class="sxs-lookup"><span data-stu-id="8a867-127">**Save data** – The engine result in the form of job capacity reservation slots is processed by X++ code to save capacity reservations and update the start and end times of the jobs/operation/order.</span></span>

## <a name="load-data-into-the-engine"></a><span data-ttu-id="8a867-128">Laste inn data i motoren</span><span class="sxs-lookup"><span data-stu-id="8a867-128">Load data into the engine</span></span>

<span data-ttu-id="8a867-129">Planleggingsmotoren har en mer abstrakt datamodell enn Supply Chain Management-databasen fordi den er bygget som en generell motor som kan håndtere forskjellige datakilder.</span><span class="sxs-lookup"><span data-stu-id="8a867-129">The scheduling engine has a more abstract data model than the Supply Chain Management database because it has been built as a generic engine that can handle different sources of data.</span></span> <span data-ttu-id="8a867-130">Konseptet med rute, sekundære operasjoner og kjøretid må settes til "oversatt" i den generelle generiske jobb- og betingelsesmodellen som motoren viser.</span><span class="sxs-lookup"><span data-stu-id="8a867-130">The concepts of route, secondary operations, and run time need to be "translated" into the generic job and constraint model that the engine exposes.</span></span> <span data-ttu-id="8a867-131">Logikken for bygging av modellen inneholder en betydelig grad av forretningslogikk, og den er forskjellig avhengig av kildedataene.</span><span class="sxs-lookup"><span data-stu-id="8a867-131">The logic for building the model has a significant amount of business logic to it and is different depending on the source data.</span></span> <span data-ttu-id="8a867-132">Den ansvarlige X++-klassen er `WrkCtrScheduler`, og den har avledede klasser for planlagte produksjonsordrer, frigitte produksjonsordrer og prosjektprognoser.</span><span class="sxs-lookup"><span data-stu-id="8a867-132">The responsible X++ class is `WrkCtrScheduler` and it has derived classes for planned production orders, released production orders, and project forecasts.</span></span>

<span data-ttu-id="8a867-133">Tenk deg for eksempel at du kan se en rute som vises i tabellen og bildet nedenfor, som ser relativt enkel ut.</span><span class="sxs-lookup"><span data-stu-id="8a867-133">As an example, consider a route shown in the following table and image, which seems relatively simple.</span></span>

| <span data-ttu-id="8a867-134">Oper.</span><span class="sxs-lookup"><span data-stu-id="8a867-134">Oper.</span></span> <span data-ttu-id="8a867-135">Nr.</span><span class="sxs-lookup"><span data-stu-id="8a867-135">No.</span></span> | <span data-ttu-id="8a867-136">Prioritet</span><span class="sxs-lookup"><span data-stu-id="8a867-136">Priority</span></span> | <span data-ttu-id="8a867-137">Oppstillingstid</span><span class="sxs-lookup"><span data-stu-id="8a867-137">Setup time</span></span> | <span data-ttu-id="8a867-138">Kjøretid</span><span class="sxs-lookup"><span data-stu-id="8a867-138">Run time</span></span> | <span data-ttu-id="8a867-139">Køtid etter</span><span class="sxs-lookup"><span data-stu-id="8a867-139">Queue time after</span></span> | <span data-ttu-id="8a867-140">Antall ressurser</span><span class="sxs-lookup"><span data-stu-id="8a867-140">Quantity of resources</span></span> | <span data-ttu-id="8a867-141">Next</span><span class="sxs-lookup"><span data-stu-id="8a867-141">Next</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="8a867-142">10</span><span class="sxs-lookup"><span data-stu-id="8a867-142">10</span></span> | <span data-ttu-id="8a867-143">Primær</span><span class="sxs-lookup"><span data-stu-id="8a867-143">Primary</span></span> | <span data-ttu-id="8a867-144">1.00</span><span class="sxs-lookup"><span data-stu-id="8a867-144">1.00</span></span> | <span data-ttu-id="8a867-145">2.00</span><span class="sxs-lookup"><span data-stu-id="8a867-145">2.00</span></span> | | <span data-ttu-id="8a867-146">1</span><span class="sxs-lookup"><span data-stu-id="8a867-146">1</span></span> | <span data-ttu-id="8a867-147">20</span><span class="sxs-lookup"><span data-stu-id="8a867-147">20</span></span> |
| <span data-ttu-id="8a867-148">10</span><span class="sxs-lookup"><span data-stu-id="8a867-148">10</span></span> | <span data-ttu-id="8a867-149">Sekundær&nbsp;1</span><span class="sxs-lookup"><span data-stu-id="8a867-149">Secondary&nbsp;1</span></span> | | | | <span data-ttu-id="8a867-150">1</span><span class="sxs-lookup"><span data-stu-id="8a867-150">1</span></span> | <span data-ttu-id="8a867-151">20</span><span class="sxs-lookup"><span data-stu-id="8a867-151">20</span></span> |
| <span data-ttu-id="8a867-152">20</span><span class="sxs-lookup"><span data-stu-id="8a867-152">20</span></span> | <span data-ttu-id="8a867-153">Primær</span><span class="sxs-lookup"><span data-stu-id="8a867-153">Primary</span></span> | | <span data-ttu-id="8a867-154">3.00</span><span class="sxs-lookup"><span data-stu-id="8a867-154">3.00</span></span> | <span data-ttu-id="8a867-155">1.00</span><span class="sxs-lookup"><span data-stu-id="8a867-155">1.00</span></span> | <span data-ttu-id="8a867-156">3</span><span class="sxs-lookup"><span data-stu-id="8a867-156">3</span></span> | <span data-ttu-id="8a867-157">0</span><span class="sxs-lookup"><span data-stu-id="8a867-157">0</span></span> |

<span data-ttu-id="8a867-158">![Eksempel på rutediagram](media/scheduling-engine-route.png "Eksempel på rutediagram")</span><span class="sxs-lookup"><span data-stu-id="8a867-158">![Example rout diagram](media/scheduling-engine-route.png "Example rout diagram")</span></span>

<span data-ttu-id="8a867-159">Når du sender denne til motoren, deles den opp i åtte jobber, som vist i illustrasjonen nedenfor (velg bilde for å forstørre det).</span><span class="sxs-lookup"><span data-stu-id="8a867-159">When sending this to the engine, it is split out into eight jobs, as shown in the following illustration (select the image to enlarge it).</span></span>

<span data-ttu-id="8a867-160">[![Jobber for planleggingsmotor](media/scheduling-engine-jobs.png "Jobber for planleggingsmotor")](media/scheduling-engine-jobs-large.png)</span><span class="sxs-lookup"><span data-stu-id="8a867-160">[![Scheduling engine jobs](media/scheduling-engine-jobs.png "Scheduling engine jobs")](media/scheduling-engine-jobs-large.png)</span></span>

<span data-ttu-id="8a867-161">Standardkoblingen mellom to jobber er `FinishStart`, noe som betyr at sluttidspunktet for en jobb må være før starttidspunktet for en annen jobb.</span><span class="sxs-lookup"><span data-stu-id="8a867-161">The standard link between two jobs is `FinishStart`, meaning that the end time of one job must be before the start time of another job.</span></span> <span data-ttu-id="8a867-162">Siden oppsettet må utføres av den samme ressursen som senere vil utføre prosessen, finnes det `OnSameResource`-betingelser mellom dem.</span><span class="sxs-lookup"><span data-stu-id="8a867-162">Because the setup must be performed by the same resource that will later do the process, there are `OnSameResource` constraints between them.</span></span> <span data-ttu-id="8a867-163">Mellom jobbene for primær- og sekundæroperasjon for 10, er det `StartStart`- og `FinishFinish`-koblinger, som betyr at jobbene må starte og slutte samtidig, og det finnes `NotOnSameResource`-begrensninger som vil hindre den samme ressursen for primær og sekundær.</span><span class="sxs-lookup"><span data-stu-id="8a867-163">Between the jobs for primary and secondary operation for 10, there are `StartStart` and `FinishFinish` links, which means that the jobs must both start and end at the same time, and there are `NotOnSameResource` constraints, which will prevent the same resource for primary and secondary.</span></span>

<span data-ttu-id="8a867-164">For operasjon 20, der antall ressurser er satt til 3, er prosessjobben delt inn i tre forskjellige jobber der alle jobbene må kjøre på nøyaktig samme tidspunkt.</span><span class="sxs-lookup"><span data-stu-id="8a867-164">For operation 20, where the quantity of resources has been set to 3, the process job has been split into three distinct jobs where all the jobs must run at the exact same time.</span></span>
<span data-ttu-id="8a867-165">I dette tilfellet er rutegruppen konfigurert til ikke å reservere kapasitet for kø etter tidspunkt, som er grunnen til at det bare er én enkelt jobb for kø etter.</span><span class="sxs-lookup"><span data-stu-id="8a867-165">In this case, the route group has been set up to not reserve capacity for queue after times, which is why there is only a single job for the queue after.</span></span>

<span data-ttu-id="8a867-166">Planleggingsmotoren forstår bare begrepet jobber og har ingen oppfatning av operasjoner.</span><span class="sxs-lookup"><span data-stu-id="8a867-166">The scheduling engine only understands the concepts of jobs and has no notion of operations.</span></span> <span data-ttu-id="8a867-167">Dette betyr at operasjonene også deles inn i jobber når grovplanlegging utføres, selv om disse ikke vil bli beholdt i databasen.</span><span class="sxs-lookup"><span data-stu-id="8a867-167">This means that when doing operation scheduling, the operations are also split into jobs, although these will not be persisted in the database.</span></span>

<span data-ttu-id="8a867-168">For hver jobb vil vi også definere hva som er jobbkapasitetsbehovet (antall sekunder som kreves).</span><span class="sxs-lookup"><span data-stu-id="8a867-168">For each job, we will also define what the job capacity requirement is (the number of seconds required).</span></span> <span data-ttu-id="8a867-169">Avhengig av hvordan ressurskravene er definert, kan vi også sende en liste over alle mulige ressurser som jobben kan kjøre på, og hva som er kapasitetsbehovet for den bestemte ressursen.</span><span class="sxs-lookup"><span data-stu-id="8a867-169">Depending on how the resource requirements have been defined, we may also, for each job, send a list of all the potential applicable resources that the job could run on and what the capacity requirement is for that specific resource.</span></span> <span data-ttu-id="8a867-170">Selv om listen over gjeldende ressurser sendes når modellen bygges, må motoren likevel sikre at ressurstildelingen er gyldig for hele jobbvarigheten.</span><span class="sxs-lookup"><span data-stu-id="8a867-170">Even though the list of applicable resources is sent when building the model, the engine will still need to ensure that the resource assignment is actually valid for the entire job duration.</span></span>

## <a name="scheduling-engine-internals"></a><span data-ttu-id="8a867-171">Internt i planleggingsmotorer</span><span class="sxs-lookup"><span data-stu-id="8a867-171">Scheduling engine internals</span></span>

### <a name="scheduling-engine-interface"></a><span data-ttu-id="8a867-172">Grensesnitt for planleggingsmotorer</span><span class="sxs-lookup"><span data-stu-id="8a867-172">Scheduling engine interface</span></span>

<span data-ttu-id="8a867-173">Hvis du vil ha en pekepinn om hvordan motoren fungerer internt, er det best å se på funksjonaliteten den viser eksternt.</span><span class="sxs-lookup"><span data-stu-id="8a867-173">To get an idea of how the engine works internally, it is best to look at the functionality it exposes externally.</span></span> <span data-ttu-id="8a867-174">I X++ er hovedgrensesnittet `WrkCtrSchedulerEngineInterface`.</span><span class="sxs-lookup"><span data-stu-id="8a867-174">In X++, the main interface is `WrkCtrSchedulerEngineInterface`.</span></span> <span data-ttu-id="8a867-175">Det inneholder metodene som er beskrevet i underdelene nedenfor.</span><span class="sxs-lookup"><span data-stu-id="8a867-175">It has the methods described in the following subsections.</span></span>

#### <a name="general-engine"></a><span data-ttu-id="8a867-176">Generell motor</span><span class="sxs-lookup"><span data-stu-id="8a867-176">General engine</span></span>

| <span data-ttu-id="8a867-177">**Metode**</span><span class="sxs-lookup"><span data-stu-id="8a867-177">**Method**</span></span> | <span data-ttu-id="8a867-178">**Formål**</span><span class="sxs-lookup"><span data-stu-id="8a867-178">**Purpose**</span></span> |
| --- | --- |
| `run` | <span data-ttu-id="8a867-179">Planlegger alle innlastede jobber og returnerer feilkoden.</span><span class="sxs-lookup"><span data-stu-id="8a867-179">Schedules all loaded jobs and returns the error code.</span></span> |
| `getJobSchedulingSequenceResult` | <span data-ttu-id="8a867-180">Henter planleggings resultatet og den første feiljobben for serien som identifiseres av en bestemt jobb.</span><span class="sxs-lookup"><span data-stu-id="8a867-180">Gets the scheduling result and the first error job for the sequence identified by a specific job.</span></span> |
| `validateJobCapacityReservations` | <span data-ttu-id="8a867-181">Validerer kapasitetsreservasjonene for alle jobbene som er lagret av motoren.</span><span class="sxs-lookup"><span data-stu-id="8a867-181">Validates the capacity reservations for all the jobs stored by the engine.</span></span> |
| `setReservationsTimeStamp` | <span data-ttu-id="8a867-182">Sender et tidsstempel til motoren som er angitt for alle nye kapasitetsreservasjoner for de planlagte jobbene i bufferen til motoren.</span><span class="sxs-lookup"><span data-stu-id="8a867-182">Sends a timestamp to the engine set on all new capacity reservations for the scheduled jobs in the cache of the engine.</span></span> |
| `addPropertyToGroupAggregation` | <span data-ttu-id="8a867-183">Legger til et egenskapsprefiks i settet med egenskaper som brukes når kapasiteten er samlet.</span><span class="sxs-lookup"><span data-stu-id="8a867-183">Adds a property prefix to the set of properties used when capacity is aggregated.</span></span> |
| `addResource` | <span data-ttu-id="8a867-184">Legger til en ressurs i planleggingsmotorens ressursutvalg.</span><span class="sxs-lookup"><span data-stu-id="8a867-184">Adds a resource to the scheduling engine resource pool.</span></span> |
| `addResourceGroup` | <span data-ttu-id="8a867-185">Legger til en ressursgruppe i planleggingsmotorens ressurgruppeutvalg.</span><span class="sxs-lookup"><span data-stu-id="8a867-185">Adds a resource group to the scheduling engine resource group pool.</span></span> |
| `addResourceGroupMembership` | <span data-ttu-id="8a867-186">Legger til en ressurs som medlem i en ressursgruppe.</span><span class="sxs-lookup"><span data-stu-id="8a867-186">Adds a resource as a member to a resource group.</span></span> |
| `addOptimizationGoal` | <span data-ttu-id="8a867-187">Legger til et mål for planleggingsoptimalisering (varighet eller prioritet).</span><span class="sxs-lookup"><span data-stu-id="8a867-187">Adds a scheduling optimization goal (duration or priority).</span></span> |

#### <a name="individual-jobs"></a><span data-ttu-id="8a867-188">Enkeltjobber</span><span class="sxs-lookup"><span data-stu-id="8a867-188">Individual jobs</span></span>

| <span data-ttu-id="8a867-189">**Metode**</span><span class="sxs-lookup"><span data-stu-id="8a867-189">**Method**</span></span> | <span data-ttu-id="8a867-190">**Formål**</span><span class="sxs-lookup"><span data-stu-id="8a867-190">**Purpose**</span></span> |
| --- | --- |
| `addJobInfo` | <span data-ttu-id="8a867-191">Legger til en post for jobbinformasjon som informerer motoren om en jobb som skal planlegges.</span><span class="sxs-lookup"><span data-stu-id="8a867-191">Adds a job information record that informs the engine about a job that should be scheduled.</span></span> |
| `addConstraintJobEndsAt` | <span data-ttu-id="8a867-192">Legger til en begrensning for avslutning av en jobb på angitt dato og klokkeslett.</span><span class="sxs-lookup"><span data-stu-id="8a867-192">Adds a constraint that a job should end at a specified date and time.</span></span> |
| `addConstraintJobStartsAt` | <span data-ttu-id="8a867-193">Legger til en begrensning for start av en jobb på angitt dato og klokkeslett.</span><span class="sxs-lookup"><span data-stu-id="8a867-193">Adds a constraint that a job should start at a specified date and time.</span></span> |
| `addConstraintMaxJobDays` | <span data-ttu-id="8a867-194">Definerer en begrensning for angitt maksimalt antall dager som en jobb kan strekke seg over.</span><span class="sxs-lookup"><span data-stu-id="8a867-194">Defines the constraint that a job can span over a specified maximal number of days.</span></span> |
| `addConstraintResourceRequirement` | <span data-ttu-id="8a867-195">Legger til begrensning for at jobben må planlegges på en bestemt ressurs.</span><span class="sxs-lookup"><span data-stu-id="8a867-195">Adds the constraint that the job must be scheduled on a specific resource.</span></span> |
| `addJobBindPriority` | <span data-ttu-id="8a867-196">Legger til en jobbindingsprioritet for et par (jobb, begrensningsnivå).</span><span class="sxs-lookup"><span data-stu-id="8a867-196">Adds a job bind priority for a (job, constraint level) pair.</span></span> <span data-ttu-id="8a867-197">En verdi med høyere prioritet betyr at jobbvariablene vil bli bundet tidligere.</span><span class="sxs-lookup"><span data-stu-id="8a867-197">A higher priority value means the job variables will be bound earlier.</span></span> <span data-ttu-id="8a867-198">Jobben vil bli behandlet før jobber med lav prioritetsverdi i samme serie.</span><span class="sxs-lookup"><span data-stu-id="8a867-198">The job will be processed before jobs with lower priority value in the same sequence.</span></span> |
| `addJobCapacity` | <span data-ttu-id="8a867-199">Legger til informasjon om kapasitetsbelastning for en jobb (for eksempel nødvendig jobbkjøretid), uavhengig av hvilken ressurs jobben kjøres på.</span><span class="sxs-lookup"><span data-stu-id="8a867-199">Adds capacity load information for a job (like the required job runtime) independent on which resource the job runs on.</span></span> |
| `addJobResourceCapacity` | <span data-ttu-id="8a867-200">Legger til en ressurs i ressurssettet som kan brukes til å utføre en jobb, og angir kapasiteten som kreves når du kjører ressursen.</span><span class="sxs-lookup"><span data-stu-id="8a867-200">Adds a resource to the set of resources that may be used to perform a job, and states the capacity required when running on that resource.</span></span> |
| `addJobGoal` | <span data-ttu-id="8a867-201">Legger til informasjon om jobbmål for et bestemt begrensningsnivå (tidligste sluttidspunkt eller siste starttidspunkt).</span><span class="sxs-lookup"><span data-stu-id="8a867-201">Adds job goal information for a specific constraint level (earliest end time or latest start time).</span></span> |
| `addJobResourcePriority` | <span data-ttu-id="8a867-202">Legger til prioriteten som skal brukes når en jobb planlegges på en ressurs.</span><span class="sxs-lookup"><span data-stu-id="8a867-202">Adds the priority to use when a job is scheduled on a resource.</span></span> |
| `addJobResourceRuntime` | <span data-ttu-id="8a867-203">Angir en jobbtid som er avhengig av ressursen som jobben skal planlegges på.</span><span class="sxs-lookup"><span data-stu-id="8a867-203">Specifies a job time that is dependent of the resource the job will be scheduled on.</span></span> |
| `addJobRuntime` | <span data-ttu-id="8a867-204">Angir en jobbtid som er uavhengig av ressursen som jobben skal planlegges på.</span><span class="sxs-lookup"><span data-stu-id="8a867-204">Specifies a job time that is independent of the resource on which the job will be scheduled.</span></span> |
| `scheduleJobOnResourceGroup` | <span data-ttu-id="8a867-205">Merker en jobb for planlegging på ressursgruppenivå.</span><span class="sxs-lookup"><span data-stu-id="8a867-205">Marks a job for scheduling on the resource group level.</span></span> |
| `setJobResourcePreemptionAllowed` | <span data-ttu-id="8a867-206">Angir om det er tillatt med innløsning for en jobb på en ressurs (hvis motoren har tillatelse til å planlegge jobben i ikke-sammenhengende kapasitetsspor).</span><span class="sxs-lookup"><span data-stu-id="8a867-206">Sets whether preemption is allowed for a job on a resource (if engine is allowed to schedule the job in noncontiguous capacity slots).</span></span> |
| `setRequiredNumberOfResources` | <span data-ttu-id="8a867-207">Angir antallet ressurser som kreves for å planlegge en jobb (bare for grovplanlegging).</span><span class="sxs-lookup"><span data-stu-id="8a867-207">Sets the number of resources required to schedule a job (only for operations scheduling).</span></span> |

#### <a name="constraints-between-jobs"></a><span data-ttu-id="8a867-208">Begrensninger mellom jobber</span><span class="sxs-lookup"><span data-stu-id="8a867-208">Constraints between jobs</span></span>

| <span data-ttu-id="8a867-209">**Metode**</span><span class="sxs-lookup"><span data-stu-id="8a867-209">**Method**</span></span> | <span data-ttu-id="8a867-210">**Formål**</span><span class="sxs-lookup"><span data-stu-id="8a867-210">**Purpose**</span></span> |
| --- | --- |
| `addJobLink` | <span data-ttu-id="8a867-211">Legger til en kobling (for eksempel slutt\>start) mellom to jobber.</span><span class="sxs-lookup"><span data-stu-id="8a867-211">Adds a link (such as finish\>start) between two jobs.</span></span> |
| `addConstraintEndsDelayed` | <span data-ttu-id="8a867-212">Definerer en begrensningen for at en jobb ikke kan avslutte før en annen jobb avslutter i tillegg til en forsinkelsestid.</span><span class="sxs-lookup"><span data-stu-id="8a867-212">Defines the constraint that a job cannot end before another jobs end plus some delay time.</span></span> |
| `addConstraintJobListWorkingTimeIntersect` | <span data-ttu-id="8a867-213">Legger til en begrensning for at kapasitetssporene som er reservert for jobbene, må være på overlappingsarbeidstiden for de to ressursene som brukes av jobbene.</span><span class="sxs-lookup"><span data-stu-id="8a867-213">Adds a constraint that the capacity slots reserved for the jobs must be on the intersecting working times for the two resources used by the jobs.</span></span> |
| `addConstraintJobOverlap` | <span data-ttu-id="8a867-214">Legg til en begrensning som definerer hvordan jobber skal utføres i rekkefølge når et gitt antall av en vare kan flyttes mellom to ressurser mens den første ressursen fortsatt ikke er ferdigbehandlet, slik at den andre ressursen kan starte behandlingen.</span><span class="sxs-lookup"><span data-stu-id="8a867-214">Add a constraint that defines how jobs are sequenced when a given quantity of an item can be moved between two resources while the first resource is still not finished processing, so that the second resource can start processing.</span></span> |
| `addConstraintNotOnSameResource` | <span data-ttu-id="8a867-215">Legger til en begrensning for at to jobber ikke skal planlegges på den samme ressursen.</span><span class="sxs-lookup"><span data-stu-id="8a867-215">Adds a constraint that two jobs should not be scheduled on the same resource.</span></span> |
| `addConstraintOnSameResource` | <span data-ttu-id="8a867-216">Legger til en begrensning for at to jobber må bruke den samme ressursen.</span><span class="sxs-lookup"><span data-stu-id="8a867-216">Adds a constraint that two jobs must be using the same resource.</span></span> |
| `addJobSameReservations` | <span data-ttu-id="8a867-217">Legger til en begrensning for at en jobb må avslutte med kapasitetsreservasjoner for de samme tidsrommene som den primære jobben.</span><span class="sxs-lookup"><span data-stu-id="8a867-217">Adds a constraint that a job must end up having capacity reservations for the same time slots as the primary job.</span></span> |
| `setPrimaryParallelJob` | <span data-ttu-id="8a867-218">Legger til informasjon om hvilken jobb som er den primære jobben i et sett med parallelle jobber.</span><span class="sxs-lookup"><span data-stu-id="8a867-218">Adds information about what job is the primary job in a set of parallel jobs.</span></span> |

### <a name="solver"></a><span data-ttu-id="8a867-219">Problemløser</span><span class="sxs-lookup"><span data-stu-id="8a867-219">Solver</span></span>

<span data-ttu-id="8a867-220">Selve motoren er først og fremst en spesialisert begrensningsproblemløser med egendefinert heuristikk.</span><span class="sxs-lookup"><span data-stu-id="8a867-220">The engine itself is essentially a specialized constraint solver with custom heuristics added.</span></span> <span data-ttu-id="8a867-221">Problemløseren er basert på to hovedelementer: variabler og begrensninger.</span><span class="sxs-lookup"><span data-stu-id="8a867-221">The solver is based on two main elements: variables and constraints.</span></span>

#### <a name="variable"></a><span data-ttu-id="8a867-222">Variabel</span><span class="sxs-lookup"><span data-stu-id="8a867-222">Variable</span></span>

<span data-ttu-id="8a867-223">En variabel representerer et domene med mulige verdier.</span><span class="sxs-lookup"><span data-stu-id="8a867-223">A variable represents a domain of possible values.</span></span> <span data-ttu-id="8a867-224">Planleggingsmotoren har to typer variabler:</span><span class="sxs-lookup"><span data-stu-id="8a867-224">Scheduling engine has two types of variables:</span></span>

- <span data-ttu-id="8a867-225">**Dato/klokkeslettvariabel** – Har et domene for alle datoer og klokkeslett, og domenet kan begrenses ved å flytte den nedre og øvre grensen for tidspunktet for variabelen nærmere hverandre.</span><span class="sxs-lookup"><span data-stu-id="8a867-225">**DateTime variable** - Has a domain of all dates and times, and the domain can be restricted by moving the lower and upper bound for the time of the variable closer to each other.</span></span>
- <span data-ttu-id="8a867-226">**Ressursvariabel** – Har et domene for gjeldende ressurser, og domenet kan begrenses ved å fjerne ressurser fra listen.</span><span class="sxs-lookup"><span data-stu-id="8a867-226">**Resource variable** - Has a domain of applicable resources, and the domain can be restricted by eliminating resources from the list.</span></span>

#### <a name="constraint"></a><span data-ttu-id="8a867-227">Begrensning</span><span class="sxs-lookup"><span data-stu-id="8a867-227">Constraint</span></span>

<span data-ttu-id="8a867-228">En begrensning fungerer på variabler ved å begrense domenene, men det avhenger også av variabler, slik at de aktiveres når variablene endres.</span><span class="sxs-lookup"><span data-stu-id="8a867-228">A constraint acts on variables by restricting their domains, but it also depends on variables so it gets activated when variables change.</span></span> <span data-ttu-id="8a867-229">Prosessen for overføring av betingelser er når en begrensning utfører sin hovedfunksjon og rapporterer tilbake til hovedlogikken hvis vellykket.</span><span class="sxs-lookup"><span data-stu-id="8a867-229">The process of "constraint propagation" is when a constraint performs its main function and reports back to the main logic if successful.</span></span>

<span data-ttu-id="8a867-230">En variabel regnes som bundet når den ikke kan begrenses, som for dato/klokkeslettvariabelen betyr at øvre og nedre grense er den samme, og for ressursvariabelen at den bare har én enkelt relevant ressurs.</span><span class="sxs-lookup"><span data-stu-id="8a867-230">A variable is considered bound when it can't be restricted further, which for DateTime variable means that upper and lower bound is the same, and for the Resource variable that it has only a single applicable resource.</span></span> <span data-ttu-id="8a867-231">Når alle variabler er bundet, blir det funnet en løsning.</span><span class="sxs-lookup"><span data-stu-id="8a867-231">When all variables are bound, a solution is found.</span></span>

### <a name="constraint-levels"></a><span data-ttu-id="8a867-232">Betingelsesnivåer</span><span class="sxs-lookup"><span data-stu-id="8a867-232">Constraint levels</span></span>

<span data-ttu-id="8a867-233">Når planlegging utføres som del av fasen for planlegging av materialbehov (MRP), blir ordrene planlagt bakover fra behovsdatoen.</span><span class="sxs-lookup"><span data-stu-id="8a867-233">When scheduling is executed as part of the material requirements planning (MRP) coverage phase, the orders will be scheduled backward from requirement date.</span></span> <span data-ttu-id="8a867-234">Hvis det imidlertid ikke er mulig å finne en tidsplan som starter i dag eller senere og slutter før behovsdatoen, endres planleggingsretningen til fremover fra i dag.</span><span class="sxs-lookup"><span data-stu-id="8a867-234">However, if it is not possible to find a schedule that starts today or later and ends before the requirement date, then the scheduling direction will change to forward from today.</span></span>

<span data-ttu-id="8a867-235">Denne hovedforretningsregelen håndteres ved å organisere begrensningene i nivåer.</span><span class="sxs-lookup"><span data-stu-id="8a867-235">This main business rule is handled by organizing the constraints in levels.</span></span> <span data-ttu-id="8a867-236">Hvis det ikke blir funnet en løsning ved bruk av begrensningene på høyeste nivå, droppes begrensningene på dette nivået, og det lavere nivået blir forsøkt.</span><span class="sxs-lookup"><span data-stu-id="8a867-236">If no solution is found when using the constraints on the highest level, then the constraints on that level are all dropped, and the lower level is tried.</span></span> <span data-ttu-id="8a867-237">I praksis betyr det at for planlegging bakover vil modellen inneholde et nivå 1 med jobbmål for siste starttidspunkt gitt en maksimal sluttidsbetingelse (behovsdatoen), og et nivå 0 med jobbmål som er tidligste sluttidspunkt og gitt en minimumsbetingelse for starttid i dag.</span><span class="sxs-lookup"><span data-stu-id="8a867-237">In praxis, this means that for backward scheduling the model will contain a level 1 with job goals of latest start time given a maximum end time constraint (the requirement date), and a level 0 with job goals of earliest end time and given a minimum start time constraint of today.</span></span>

### <a name="algorithm"></a><span data-ttu-id="8a867-238">Algoritme</span><span class="sxs-lookup"><span data-stu-id="8a867-238">Algorithm</span></span>

<span data-ttu-id="8a867-239">Hovedtrinnene i motorens algoritme er:</span><span class="sxs-lookup"><span data-stu-id="8a867-239">The main steps of the engine algorithm are:</span></span>

1. <span data-ttu-id="8a867-240">Finn serier (jobbkjeder) som kan løses separat.</span><span class="sxs-lookup"><span data-stu-id="8a867-240">Find sequences (job chains) which can be solved separately.</span></span>
1. <span data-ttu-id="8a867-241">Prøv å finne første løsning for serie for det høyeste betingelsesnivået.</span><span class="sxs-lookup"><span data-stu-id="8a867-241">Try to find an initial solution for the sequence for the highest constraint level.</span></span>
    1. <span data-ttu-id="8a867-242">Sorter jobbene i rekkefølge basert på jobbmål og -prioriteter, slik at det kan finnes en startjobb.</span><span class="sxs-lookup"><span data-stu-id="8a867-242">Sort the jobs in the sequence based on job goal and priorities, such that a start job can be found.</span></span>
    1. <span data-ttu-id="8a867-243">Gjenta jobbene i følgende rekkefølge:</span><span class="sxs-lookup"><span data-stu-id="8a867-243">Loop the jobs in the following sequence:</span></span>
        1. <span data-ttu-id="8a867-244">Finn alle begrensninger som må overføres, og kjør overføring.</span><span class="sxs-lookup"><span data-stu-id="8a867-244">Find all constraints that need to be propagated and run propagation.</span></span>
        1. <span data-ttu-id="8a867-245">Hvis alle variablene for jobben er bundet, er det funnet en løsning for denne jobben.</span><span class="sxs-lookup"><span data-stu-id="8a867-245">If all variables for the job have been bound, then a solution for that job has been found.</span></span>
        1. <span data-ttu-id="8a867-246">Hvis en av variablene ikke kan bindes uten å bryte begrensningene, kan du rulle tilbake variabelbindingen, prøve en annen verdi i domenet (for ressursvariabel) og kjøre betingelsesoverføringen på nytt.</span><span class="sxs-lookup"><span data-stu-id="8a867-246">If one of the variables could not be bound without violating the constraints, then roll back the variable binding, try a different value in the domain (for resource variable), and rerun the constraint propagation.</span></span>
1. <span data-ttu-id="8a867-247">Hvis ingen løsning ble funnet, fjernes alle begrensningene på gjeldende begrensningsnivå, begrensningsnivået senkes (hvis noen av de lavere nivåene er tilgjengelige) og løsningssøket prøves på nytt med det nye begrensningssettet.</span><span class="sxs-lookup"><span data-stu-id="8a867-247">If no solution was found, then all constraints on the current constraint level is removed, the constraint level lowered (if any lower levels are available) and solution search retried with the new set of constraint.</span></span>
1. <span data-ttu-id="8a867-248">Hvis en mulig løsning ble funnet, startes optimaliseringsfasen, som vil prøve å finne en bedre løsning til tidsavbruddet for optimaliseringen er nådd eller alle ressurskombinasjoner er oppbrukt.</span><span class="sxs-lookup"><span data-stu-id="8a867-248">If a feasible solution was found, then the optimization phase is started, which will try to find a better solution until the optimization timeout is reached or all resource combinations have been exhausted.</span></span>

<span data-ttu-id="8a867-249">Problemløseren for begrensninger kjenner ikke til detaljene i planleggingsalgoritmen.</span><span class="sxs-lookup"><span data-stu-id="8a867-249">The constraint solver is not aware of the specifics of the scheduling algorithm.</span></span> <span data-ttu-id="8a867-250">"Magien" skjer i definisjonen og kombinasjonen av de ulike begrensningene.</span><span class="sxs-lookup"><span data-stu-id="8a867-250">It is in the definition and combination of the various constraints that the "magic" happens.</span></span>

### <a name="determining-working-times"></a><span data-ttu-id="8a867-251">Bestemme arbeidstider</span><span class="sxs-lookup"><span data-stu-id="8a867-251">Determining working times</span></span>

<span data-ttu-id="8a867-252">En stor del av (interne) begrensningene i motoren styrer arbeidstiden og kapasiteten til en ressurs.</span><span class="sxs-lookup"><span data-stu-id="8a867-252">A large part of the (internal) constraints in the engine controls the working time and capacity of a resource.</span></span> <span data-ttu-id="8a867-253">Oppgaven er hovedsakelig å gå gjennom arbeidstidssporene for en ressurs fra et gitt punkt i en gitt retning, og finne et langt nok intervall der den nødvendige kapasiteten for jobbene (tid) kan få plass.</span><span class="sxs-lookup"><span data-stu-id="8a867-253">Essentially, the task is to traverse the working time slots for a resource from a given point in a given direction, and find a long enough interval in which the jobs required capacity (time) can fit.</span></span>

<span data-ttu-id="8a867-254">For å gjøre dette må motoren kjenne til arbeidstiden til en ressurs.</span><span class="sxs-lookup"><span data-stu-id="8a867-254">To do this, the engine needs to know the working times of a resource.</span></span> <span data-ttu-id="8a867-255">I motsetning til hovedmodelldataene er arbeidstidene har *forsinket innlasting* , og det betyr at de lastes inn i motoren etter behov.</span><span class="sxs-lookup"><span data-stu-id="8a867-255">Opposite to the main model data, the working times are *lazy loaded* , meaning that they are loaded into the engine as needed.</span></span> <span data-ttu-id="8a867-256">Årsaken til denne fremgangsmåten er at det ofte brukes arbeidstider i Supply Chain Management for en kalender for en svært lang periode, og det finnes vanligvis mange kalendere, slik at dataene vil være ganske store å forhåndslaste.</span><span class="sxs-lookup"><span data-stu-id="8a867-256">The reason for this approach is that there are often working times in Supply Chain Management for a calendar for a very long period and typically many calendars exist so the data would be quite large to pre-load.</span></span>

<span data-ttu-id="8a867-257">Motoren ber om kalenderinformasjon i deler ved å starte klassemetoden `WrkCtrSchedulingInteropDataProvider.getWorkingTimes` i X++.</span><span class="sxs-lookup"><span data-stu-id="8a867-257">Calendar information is requested by the engine in chunks, by invoking the X++ class method `WrkCtrSchedulingInteropDataProvider.getWorkingTimes`.</span></span> <span data-ttu-id="8a867-258">Forespørselen gjelder for en bestemt kalender-ID i et bestemt tidsintervall.</span><span class="sxs-lookup"><span data-stu-id="8a867-258">The request is for a specific calendar ID in a specific time interval.</span></span> <span data-ttu-id="8a867-259">Avhengig av statusen til serverens hurtigbuffer i Supply Chain Management, kan hver av disse forespørslene ende opp i flere databasekall, noe som tar lang tid (i forhold til bare beregningstiden).</span><span class="sxs-lookup"><span data-stu-id="8a867-259">Depending on the state of the server cache in Supply Chain Management, each of these requests could end up in several database calls, which takes a long time (relative to the pure computational time).</span></span> <span data-ttu-id="8a867-260">Hvis kalenderen inneholder svært detaljerte definisjoner for arbeidstid med mange intervaller for arbeidstid per dag, vil dette i tillegg føre til at innlastingen tar mer tid.</span><span class="sxs-lookup"><span data-stu-id="8a867-260">Also, if the calendar contains very elaborate working time definitions with many working time intervals per day, this adds to the time the loading takes.</span></span>

<span data-ttu-id="8a867-261">Når dataene for arbeidstid lastes inn i planleggingsmotoren, beholdes dette i den interne hurtigbufferen for den bestemte kalenderen, noe som betyr at hvis andre jobber eller ressurser bruker samme kalender, kan de neste oppslagene utføres raskt fra minnet.</span><span class="sxs-lookup"><span data-stu-id="8a867-261">When the working time data is loaded in the scheduling engine, this is retained in its internal cache for the specific calendar, meaning that if any other jobs or resources are using the same calendar then the next lookups can be performed quickly from memory.</span></span> <span data-ttu-id="8a867-262">En vanlig årsak til dårlig ytelse er hvis en separat kalender-ID brukes for hver ressurs, fordi det deretter må spørres om data for hver kalender, selv om innholdet i kalenderne kan være like.</span><span class="sxs-lookup"><span data-stu-id="8a867-262">One common cause of bad performance is if a separate calendar ID is used for each resource, because data will then need to be requested for each calendar, even though the content of the calendars might be the same.</span></span>

### <a name="finite-capacity"></a><span data-ttu-id="8a867-263">Begrenset kapasitet</span><span class="sxs-lookup"><span data-stu-id="8a867-263">Finite capacity</span></span>

<span data-ttu-id="8a867-264">Når du bruker begrenset kapasitet, blir sporene for arbeidstid fra kalenderen delt opp og redusert basert på eksisterende kapasitetsreservasjoner.</span><span class="sxs-lookup"><span data-stu-id="8a867-264">When using finite capacity, the working time slots from the calendar are split and reduced based on the existing capacity reservations.</span></span> <span data-ttu-id="8a867-265">Disse reservasjonene hentes også gjennom samme `WrkCtrSchedulingInteropDataProvider`-klasse som kalenderne, men bruker i stedet metoden `getCapacityReservations`.</span><span class="sxs-lookup"><span data-stu-id="8a867-265">These reservations are also fetched through the same `WrkCtrSchedulingInteropDataProvider` class as the calendars, but instead use the method `getCapacityReservations`.</span></span> <span data-ttu-id="8a867-266">Når du planlegger under hovedplanlegging, tas det hensyn til reservasjoner for den spesifikke hovedplanen, og hvis den er aktivert på siden **Parametere for hovedplanlegging** , blir også reservasjonene fra autoriserte produksjonsordrer inkludert.</span><span class="sxs-lookup"><span data-stu-id="8a867-266">When scheduling during master planning, the reservations for the specific master plan are considered and if enabled on the **Master planning parameters** page, the reservations from firmed production orders are also included.</span></span> <span data-ttu-id="8a867-267">Når en produksjonsordre planlegges, er det også et alternativ for å inkludere reservasjoner fra eksisterende planlagte ordrer, selv om dette ikke er like vanlig som den andre metoden.</span><span class="sxs-lookup"><span data-stu-id="8a867-267">Similarly, when scheduling a production order, it is also an option to include reservations from existing planned orders, although this is not as common as the other way around.</span></span>

<span data-ttu-id="8a867-268">Bruk av begrenset kapasitet vil føre til at planleggingen tar lengre tid på grunn av flere årsaker:</span><span class="sxs-lookup"><span data-stu-id="8a867-268">Using finite capacity will cause scheduling to take longer due to several reasons:</span></span>

- <span data-ttu-id="8a867-269">Henting av kapasitetsinformasjonen fra databasen er en langsom operasjon, og hurtigbufring av kapasitetsinformasjon på serversiden er vanligvis ikke like bra som for arbeidstider, fordi de ikke deles mellom ressurser, slik som kalendere for eksempel er.</span><span class="sxs-lookup"><span data-stu-id="8a867-269">Fetching the capacity information from database is a slow operation and the server-side caching of capacity information is typically not as good as for working times because they are not shared among resources like calendars typically are.</span></span>
- <span data-ttu-id="8a867-270">Antallet spor for arbeidstid som gjennomgås øker på grunn av oppdelingene, og spor for en lengre tidsperiode må vanligvis undersøkes før en løsning kan finnes.</span><span class="sxs-lookup"><span data-stu-id="8a867-270">The number of working time slots to traverse increases due to the splits, and slots for a longer time period must typically be investigated before a solution can be found.</span></span>
- <span data-ttu-id="8a867-271">Når planleggingen er fullført, må det utføres en kontroll av reservasjoner som er i konflikt (se delen Kjøre flere planleggingsmotorer parallelt for mer informasjon).</span><span class="sxs-lookup"><span data-stu-id="8a867-271">After the scheduling is complete, a check for conflicting reservations must be performed (see the "Running scheduling engines in parallel" section for details).</span></span>

### <a name="examining-the-resource-combinations"></a><span data-ttu-id="8a867-272">Undersøke ressurskombinasjonene</span><span class="sxs-lookup"><span data-stu-id="8a867-272">Examining the resource combinations</span></span>

<span data-ttu-id="8a867-273">Hvis jobbsekvensen bare inneholder standard `FinishStart`-koblingene, noe som betyr at dette utgjør en enkel kjede uten noen forgreninger, kan det oppnås et optimalt resultat (sett fra én enkelt ordre, ikke på tvers av ordrer) ved å finne den beste løsningen for den første jobben og deretter gå videre for å finne den beste løsningen for den neste jobben.</span><span class="sxs-lookup"><span data-stu-id="8a867-273">If the job sequence only contains the standard `FinishStart` links, meaning it forms a simple chain without any branches, an optimal result (seen from the single order, not across orders) can be achieved by finding the best solution for the first job and then moving on to find the best solution for the next job.</span></span> <span data-ttu-id="8a867-274">Den beste løsningen for en jobb betyr å finne ressursen som kan få fra- og til-datoen for jobben nærmest jobbmålet (i planlegging fremover betyr dette å få sluttdatoen for jobben så tidlig som mulig), og fortsatt ta hensyn til begrensningene.</span><span class="sxs-lookup"><span data-stu-id="8a867-274">The best solution for a job means finding the resource that can get the from and to date of the job closest to the job goal (in forward scheduling this means getting the end date of the job as early as possible) while still respecting the constraints.</span></span>

<span data-ttu-id="8a867-275">Når det finnes parallelle jobber, kan det å finne en løsning innebære å undersøke ulike ressurskombinasjoner.</span><span class="sxs-lookup"><span data-stu-id="8a867-275">When there are parallel jobs, finding a solution may involve examining different combinations of resources.</span></span> <span data-ttu-id="8a867-276">Antallet mulige ressurskombinasjoner er produktet av antallet gjeldende ressurser for de tilkoblede parallelle jobbene.</span><span class="sxs-lookup"><span data-stu-id="8a867-276">The number of possible resource combinations is the product of the number of applicable resources for the connected parallel jobs.</span></span> <span data-ttu-id="8a867-277">Spesielt når du planlegger en ordre bakover fra en behovsdato, kan det ta ganske lang tid for logikken å finne ut at det ikke er noen løsning på problemet som vil gjøre at de parallelle jobbene får plass før dagens dato, fordi den må kontrollere alle kombinasjonene fordi det kan finnes ressurser som hadde høyere effektivitet eller en annen kalender som kan gi et resultat.</span><span class="sxs-lookup"><span data-stu-id="8a867-277">Especially when scheduling an order backwards from a requirement date, it can take quite a while for the logic to realize that there is no solution to the problem that will make the parallel jobs fit before today's date, as it will need to check all the combinations because there could be some resources that had a higher efficiency or a different calendar that might give a result.</span></span> <span data-ttu-id="8a867-278">Dette betyr at hvis det ikke er angitt en grense for tidsavbrudd, kjøres den i lang tid før retningen endres til fremover.</span><span class="sxs-lookup"><span data-stu-id="8a867-278">This means that if no timeout limit has been set it will run for a long time before changing the direction to forward.</span></span>

<span data-ttu-id="8a867-279">Denne kombinasjonslogikken betyr også at å legge til flere gjeldende ressurser kan få motoren til å kjøre langsommere.</span><span class="sxs-lookup"><span data-stu-id="8a867-279">This combinatorial logic also means that adding more applicable resources may make the engine run slower.</span></span> <span data-ttu-id="8a867-280">Hvis det oppstår ytelsesproblemer når du har parallelle operasjoner og planlegger med uendelig kapasitet, kan dette delvis løses ved å få ruteutformingsverktøyet til å avgjøre hvilken ressurs som skal brukes og deretter tilordne ressursen direkte på operasjonen (fordi motoren i de fleste tilfeller alltid fører til valg av den samme ressursen, slik at sluttresultatet vil være det samme).</span><span class="sxs-lookup"><span data-stu-id="8a867-280">If performance problems occur when having parallel operations and scheduling with infinite capacity, it can partly be fixed by having the route designer take a decision on which resource should be used and then assign the resource directly on the operation (because the engine in most cases will always end up picking the same resource, so the end result will be the same).</span></span>

### <a name="hard-links"></a><span data-ttu-id="8a867-281">Harde koblinger</span><span class="sxs-lookup"><span data-stu-id="8a867-281">Hard links</span></span>

<span data-ttu-id="8a867-282">Hvis du angir hard koblingstype mellom to jobber, sikrer du at det ikke er noen tidsforskjell mellom slutten av en jobb og starten på neste.</span><span class="sxs-lookup"><span data-stu-id="8a867-282">Setting the link type between two jobs to hard, ensures that there is no time gap between the finish of one job and the start of the next one.</span></span> <span data-ttu-id="8a867-283">Dette kan være svært nyttig i scenarier som når metall varmes opp i én jobb og deretter behandles i neste jobb, der det ikke er ønskelig at metallene kjøles ned.</span><span class="sxs-lookup"><span data-stu-id="8a867-283">This can be very useful in scenarios like when metal is heated in one job and then processed in the next job, where it is not desirable to have the metal cool down in between.</span></span>

<span data-ttu-id="8a867-284">Med standard myke koblinger og planlegging fremover og hvis ruten utgjør en enkel kjede uten noen forgreninger, kan du oppnå et resultat ved å finne en løsning for den første jobben som oppfyller sine egne begrensninger, og deretter gå videre gjennom kjeden ved å overføre sluttidspunktet fra forrige jobb til neste jobb.</span><span class="sxs-lookup"><span data-stu-id="8a867-284">With standard soft links and forward scheduling, if the route forms a simple chain without any branches, a result can be achieved by finding a solution for the first job that satisfies its own constraints and then moving on through the chain propagating the end time from the previous job to the next job.</span></span> <span data-ttu-id="8a867-285">Hvis den gjeldende jobben ikke finner noen kapasitet, vil starttidspunktet for denne bli flyttet videre fremover, uten konsekvenser for at de foregående jobbene skal lage hull mellom jobbene.</span><span class="sxs-lookup"><span data-stu-id="8a867-285">If the current job can't find any capacity, the start time for it will be moved out further, without any consequence for the previous jobs potentially creating gaps between the jobs.</span></span> <span data-ttu-id="8a867-286">Med harde koblinger (spesielt i forbindelse med begrenset kapasitet) for samme scenario, vil det imidlertid si at én jobb som er senere i kjeden ikke kan finne kapasitet, noe som betyr at alle tidligere planlagte jobber må "dras" en etter en og dermed tidsplanlegges flere ganger.</span><span class="sxs-lookup"><span data-stu-id="8a867-286">However with hard links (especially in connection with finite capacity) for the same scenario, the fact that one job later in the chain cannot find capacity, will mean that all previous scheduled jobs will have to be "dragged" along one by one and thereby rescheduled a number of times.</span></span> <span data-ttu-id="8a867-287">Spesielt i scenarier med høy belastning for flere ressurser kan de harde koblingene forårsake en kjedereaksjon der jobbene vil påvirke hverandre og et flere gjentakelser må utføres før resultatet stabiliseres til en mulig tidsplan.</span><span class="sxs-lookup"><span data-stu-id="8a867-287">Especially in scenarios with high load for multiple resources, the hard links can cause a chain reaction where the jobs will affect each other and a number of iterations will have to be performed before the result stabilizes into a feasible schedule.</span></span>

## <a name="running-scheduling-engines-in-parallel"></a><span data-ttu-id="8a867-288">Kjøre planleggingsmotorer parallelt</span><span class="sxs-lookup"><span data-stu-id="8a867-288">Running scheduling engines in parallel</span></span>

<span data-ttu-id="8a867-289">Når du utfører planlegging som en del av en hovedplanleggingskjøring der hjelpeprogrammer brukes, kan hver enkelt av trådene for hjelpeprogrammene for hovedplanlegging også hente inn oppgaver for planleggingsoppgaver for produksjonsordre.</span><span class="sxs-lookup"><span data-stu-id="8a867-289">When performing scheduling as part of a master planning run where helpers are used, each of the master planning helper threads can also pick up production order scheduling tasks.</span></span> <span data-ttu-id="8a867-290">Dette betyr at flere planleggingsmotorer kan kjøre samtidig.</span><span class="sxs-lookup"><span data-stu-id="8a867-290">This means that multiple scheduling engines can be running at the same time.</span></span> <span data-ttu-id="8a867-291">Selv om flertrådskjøring vanligvis er en svært viktig ytelsesfordel, finnes det også noen funksjonelle negative sider når det gjelder planlegging.</span><span class="sxs-lookup"><span data-stu-id="8a867-291">While multithreading in general is a highly significant performance benefit, there are also some functional downsides when it comes to scheduling.</span></span>

<span data-ttu-id="8a867-292">I MRP blir alle produksjonsordrer for et angitt stykklistenivå planlagt i behovsdatoserien, noe som betyr at de ordrene som har den tidligste behovsdatoen skal planlegges først og dermed ha høyest sjanse for å få den tilgjengelige ressurskapasiteten.</span><span class="sxs-lookup"><span data-stu-id="8a867-292">In MRP, all production orders for a given bill of materials (BOM) level are scheduled in requirement date sequence, meaning that those orders with the earliest requirement date should be scheduled first and thereby have the highest chance of getting the available resource capacity.</span></span> <span data-ttu-id="8a867-293">Med flere motorer som velger fra listen over ordrer som ikke er planlagt, er imidlertid serien ikke lenger sikret fordi en av dem kan fullføres raskere enn den andre.</span><span class="sxs-lookup"><span data-stu-id="8a867-293">However, with multiple engines picking from the list of unscheduled orders the sequence is no longer ensured, as one might complete faster than the other.</span></span>

<span data-ttu-id="8a867-294">Når du bruker begrenset kapasitet og flere motorforekomster prøver å planlegge ordrer som kan bruke de samme ressursene i samme tidsintervall, oppstår det også en kappløpssituasjon.</span><span class="sxs-lookup"><span data-stu-id="8a867-294">Also, when scheduling using finite capacity and when multiple engine instances are trying to schedule orders that are potentially using the same resources at the same time interval, a race condition can occur.</span></span> <span data-ttu-id="8a867-295">Antallet slike kappløpssituasjoner registreres i feltet **Planleggingskonflikter** på siden for historikken for hovedplanleggingen.</span><span class="sxs-lookup"><span data-stu-id="8a867-295">The number of such race conditions is recorded in the **Scheduling conflicts** field on the master plans history page.</span></span> <span data-ttu-id="8a867-296">Logikken for konfliktløsing er som følger:</span><span class="sxs-lookup"><span data-stu-id="8a867-296">The conflict resolution logic is as follows:</span></span>

- <span data-ttu-id="8a867-297">Planlegg en ordre (uten lås), og hent kapasitetsreservasjoner.</span><span class="sxs-lookup"><span data-stu-id="8a867-297">Schedule an order (lock-free) and get capacity reservations.</span></span>
- <span data-ttu-id="8a867-298">Ta låsen.</span><span class="sxs-lookup"><span data-stu-id="8a867-298">Take the lock.</span></span>
- <span data-ttu-id="8a867-299">Kontroller om det finnes nyere kapasitetsreservasjoner for de planlagte ressursene i tidsrommet.</span><span class="sxs-lookup"><span data-stu-id="8a867-299">Check if newer capacity reservations exist for the scheduled resources in the timespan.</span></span>
  - <span data-ttu-id="8a867-300">Hvis nei, skriver du kapasiteten og frigir låsen.</span><span class="sxs-lookup"><span data-stu-id="8a867-300">If no, write the capacity and release the lock.</span></span>
  - <span data-ttu-id="8a867-301">Hvis ja, frigir du låsen og planlegger ordren på nytt fra begynnelsen.</span><span class="sxs-lookup"><span data-stu-id="8a867-301">If yes, release the lock and reschedule the order from the beginning.</span></span>

<span data-ttu-id="8a867-302">Når du planlegger med flere motorforekomster, er ikke resultatet fullstendig deterministisk, fordi det vil være avhengig av den nøyaktige tidsberegningen for hver av trådene.</span><span class="sxs-lookup"><span data-stu-id="8a867-302">So, when scheduling with multiple engine instances, the result is not fully deterministic because it will depend on the exact timing of each of the threads.</span></span>

## <a name="operation-scheduling-performance"></a><span data-ttu-id="8a867-303">Ytelse for grovplanlegging</span><span class="sxs-lookup"><span data-stu-id="8a867-303">Operation scheduling performance</span></span>

<span data-ttu-id="8a867-304">Selv om grovplanlegging også kalles som omtrentlig kapasitetsplanlegging, er det sett fra et motorståsted, et vanskeligere problem å løse hvis det brukes begrenset kapasitet, fordi det er nødvendig med mer data for å fastslå gjennomførbarhet.</span><span class="sxs-lookup"><span data-stu-id="8a867-304">Even though operation scheduling is also known as rough-cut capacity planning, seen from an engine standpoint, it can be a harder problem to solve if finite capacity is used, as more data is needed to determine feasibility.</span></span>

<span data-ttu-id="8a867-305">Kapasiteten til en ressursgruppe avhenger av hvilke og hvor mange ressurser som er medlemmer av ressursgruppen.</span><span class="sxs-lookup"><span data-stu-id="8a867-305">The capacity of a resource group depends on which and how many resources are members of the resource group.</span></span> <span data-ttu-id="8a867-306">En ressursgruppe i seg selv har ingen kapasitet. Ressurser har bare kapasitet når de er medlemmer av gruppen.</span><span class="sxs-lookup"><span data-stu-id="8a867-306">A resource group in itself does not have any capacity&mdash;only when resources are a member of the group will it have capacity.</span></span> <span data-ttu-id="8a867-307">Fordi medlemskapet i ressursgrupper kan variere over tid, må kapasiteten evalueres per dag.</span><span class="sxs-lookup"><span data-stu-id="8a867-307">Because the resource group membership can vary over time, capacity must be evaluated per day.</span></span>

<span data-ttu-id="8a867-308">I grovplanlegging brukes ressursgruppens kalender til å fastslå start- og sluttidspunktene for hver operasjon.</span><span class="sxs-lookup"><span data-stu-id="8a867-308">In operations scheduling, the resource group's calendar is used to determine the start and end times for each operation.</span></span> <span data-ttu-id="8a867-309">Dette betyr at ressursgruppens kalender plasserer en grense for hvor mye tid som kan være grovplanlagt for én operasjon på én dag i én ressursgruppe.</span><span class="sxs-lookup"><span data-stu-id="8a867-309">This means that the resource group's calendar places a limit on how much time can be operations scheduled for one operation on one day in one resource group.</span></span> <span data-ttu-id="8a867-310">I motsetning til kalenderen for de bestemte ressursene, ignoreres effektivitetsdataene i kalenderen for ressursgruppen fordi det ganske enkelt betyr åpningstid og ikke faktisk kapasitet.</span><span class="sxs-lookup"><span data-stu-id="8a867-310">Opposite the calendar for the specific resources, the efficiency data of the calendar is ignored for the resource group as it simply denotes opening hours and not actual capacity.</span></span>

<span data-ttu-id="8a867-311">Hvis for eksempel arbeidstiden for en ressursgruppe på en bestemt dato er fra 8.00 til 16.00, kan ikke én operasjon legge til mer belastning på ressursgruppen enn det som kan få plass i 8 timer, uansett hvor stor kapasitet ressursgruppen har tilgjengelig totalt på denne dagen.</span><span class="sxs-lookup"><span data-stu-id="8a867-311">For example, if the working time for a resource group on one specific date is from 8:00 to 16:00, one operation can't put more load on the resource group than what can be fit into 8 hours, no matter how much capacity that the resource group has available in total on that day.</span></span> <span data-ttu-id="8a867-312">Tilgjengelig kapasitet kan imidlertid begrense belastningen ytterligere.</span><span class="sxs-lookup"><span data-stu-id="8a867-312">The available capacity can however limit the load further.</span></span>

<span data-ttu-id="8a867-313">Belastningen fra jobbplanlegging for alle ressursene som er inkludert i ressursgruppen på en bestemt dag, vurderes når tilgjengelig kapasitet for ressursgruppen på samme dag beregnes.</span><span class="sxs-lookup"><span data-stu-id="8a867-313">The load from job scheduling on all the resources included in the resource group on a given day is considered when the available capacity for the resource group on the same day is calculated.</span></span> <span data-ttu-id="8a867-314">For hver dato er beregningen:</span><span class="sxs-lookup"><span data-stu-id="8a867-314">For each date, the calculation is:</span></span>

<span data-ttu-id="8a867-315">*Tilgjengelig kapasitet for ressursgruppe = kapasitet for ressurser i gruppen basert på kalenderen &ndash; planlagt jobbelastning på ressursene i gruppen &ndash; planlagt driftsbelastning på ressursene i gruppen &ndash; planlagt driftsbelastning på ressursgruppen*</span><span class="sxs-lookup"><span data-stu-id="8a867-315">*Available resource group capacity = Capacity for resources in the group based on their calendar &ndash; Job scheduled load on the resources in the group &ndash; Operations scheduled load on the resources in the group &ndash; Operations scheduled load on the resource group*</span></span>

<span data-ttu-id="8a867-316">I kategorien **Ressurskrav** i ruteoperasjonen, kan ressurskravene angis ved hjelp av en bestemt ressurs (i så fall planlegges operasjonen ved å bruke denne ressursen), for en ressursgruppe, for en ressurstype eller for én eller flere funksjoner, ferdighet, kurs eller sertifikat.</span><span class="sxs-lookup"><span data-stu-id="8a867-316">On the **Resource requirements** tab on the route operation, the resource requirements can be specified using either a specific resource (in which case the operation will be scheduled using that resource), for a resource group, for a resource type, or for one or more capabilities, skill, course, or certificate.</span></span> <span data-ttu-id="8a867-317">Selv om bruk av alle disse alternativene gir en større fleksibilitet for ruteutformingen, kan det også komplisere planleggingen for motoren etter hvert som det må tas hensyn til kapasitet per "egenskap" (det abstrakte navnet som brukes i motoren for funksjonalitet, ferdighet og så videre).</span><span class="sxs-lookup"><span data-stu-id="8a867-317">While using all of these options gives a great flexibility on the route design, it also complicates the scheduling for the engine as the capacity must be accounted for per "property" (the abstract name used in the engine for capability, skills, and so on).</span></span>

<span data-ttu-id="8a867-318">Ressursgruppens kapasitet for en funksjon er summen av kapasiteten for alle ressurser i ressursgruppen som har den aktuelle funksjonen.</span><span class="sxs-lookup"><span data-stu-id="8a867-318">The resource group's capacity for a capability is the sum of the capacity for all resources in the resource group that has the capability in question.</span></span> <span data-ttu-id="8a867-319">Hvis en ressurs i gruppen har en funksjon, vurderes den uansett hvilket kapasitetsnivå som kreves.</span><span class="sxs-lookup"><span data-stu-id="8a867-319">If a resource in the group has a capability, it will be considered no matter what level of the capacity is required.</span></span>

<span data-ttu-id="8a867-320">I grovplanlegging blir den tilgjengelige kapasiteten for en bestemt funksjon for en ressursgruppe redusert når den belastes med en operasjon som krever den aktuelle funksjonen.</span><span class="sxs-lookup"><span data-stu-id="8a867-320">In operations scheduling, the available capacity for a certain capability for a resource group will be reduced when it is loaded with an operation that requires the capability in question.</span></span> <span data-ttu-id="8a867-321">Hvis operasjonen krever mer enn én funksjon, vil kapasiteten bli redusert for alle nødvendige funksjoner.</span><span class="sxs-lookup"><span data-stu-id="8a867-321">If the operation requires more than one capability, the capacity will be reduced for all required capabilities.</span></span>

<span data-ttu-id="8a867-322">For hver dato er den nødvendige beregningen:</span><span class="sxs-lookup"><span data-stu-id="8a867-322">For each date, the required calculation is:</span></span>

<span data-ttu-id="8a867-323">*Tilgjengelig kapasitet for en funksjon = kapasitet for funksjonen &ndash; planlagt jobbelastning på ressursene med den spesifikke muligheten, inkludert i ressursgruppen &ndash; planlagt driftsbelastning på ressursene med den spesifikke muligheten, inkludert i ressursgruppen, &ndash; planlagt driftsbelastning på selve ressursgruppen som krever den spesifikke funksjonaliteten*</span><span class="sxs-lookup"><span data-stu-id="8a867-323">*Available capacity for a capability = Capacity for the capability &ndash; Job scheduled load on the resources with the specific capability, included in the resource group &ndash; Operations scheduled load on the resources with the specific capability, included in the resource group &ndash; Operations scheduled load on the resource group itself that require the specific capability*</span></span>

<span data-ttu-id="8a867-324">Dette betyr at hvis det er belastning på en bestemt ressurs, vurderes belastningen i beregningen av ressursgruppens tilgjengelige kapasitet per funksjon, fordi belastningen på en bestemt ressurs reduserer bidraget til ressursgruppens kapasitet for en funksjon uansett om belastningen på den bestemte ressursen er for den bestemte funksjonen.</span><span class="sxs-lookup"><span data-stu-id="8a867-324">This means that if there is load on a specific resource, the load is considered in the calculation of the resource group's available capacity per capability, because the load on a specific resource reduces its contribution to the resource group's capacity for a capability no matter if the load on the specific resource is for that specific capability.</span></span> <span data-ttu-id="8a867-325">Hvis det er belastning på ressursgruppenivå, blir dette bare tatt med i beregningen av ressursgruppens tilgjengelige kapasitet per funksjon hvis belastningen er fra en operasjon som krever den spesifikke funksjonen.</span><span class="sxs-lookup"><span data-stu-id="8a867-325">If there is load on the resource group level, it is considered in the calculation of the resource group's available capacity per capability only if the load is from an operation that requires the specific capability.</span></span>

<span data-ttu-id="8a867-326">Logikken ovenfor er complicatd, siden dette er den samme for hver type "egenskap", slik at bruk av grovplanlegging med begrenset kapasitet krever en betydelig mengde data som kan lastes inn.</span><span class="sxs-lookup"><span data-stu-id="8a867-326">The above logic is complicated, as this is the same for each type of "property" so using operations scheduling with finite capacity requires a significant amount of data to be loaded.</span></span>

## <a name="viewing-scheduling-engine-input-and-output"></a><span data-ttu-id="8a867-327">Vis inndata og utdata for planleggingsmotor</span><span class="sxs-lookup"><span data-stu-id="8a867-327">Viewing scheduling engine input and output</span></span>

<span data-ttu-id="8a867-328">Hvis du vil ha detaljert informasjon om inndata og utdata for planleggingsprosessen, kan du aktivere logging ved å gå til **Organisasjonsstyring \> Oppsett \> Planlegging \> Cockpit for sporing av planlegging**.</span><span class="sxs-lookup"><span data-stu-id="8a867-328">To get specific details of the input and output of the scheduling process,  enable logging by going to **Organization administration \> Setup \> Scheduling \> Scheduling tracing cockpit**.</span></span>

<span data-ttu-id="8a867-329">På denne siden velger du først **Aktiver logging** i handlingsruten.</span><span class="sxs-lookup"><span data-stu-id="8a867-329">On this page, first select **Enable logging** on the Action Pane.</span></span> <span data-ttu-id="8a867-330">Kjør deretter planleggingen for produksjonsordren.</span><span class="sxs-lookup"><span data-stu-id="8a867-330">Then run the scheduling for the production order.</span></span> <span data-ttu-id="8a867-331">Når dette er fullført, går du tilbake til siden **Cockpit for sporing av planlegging** og velger **Deaktiver logging** i handlingsruten.</span><span class="sxs-lookup"><span data-stu-id="8a867-331">When complete, return to the **Scheduling tracing cockpit** page and select **Disable logging** on the Action Pane.</span></span> <span data-ttu-id="8a867-332">Oppdater siden, og en ny linje vises i rutenettet.</span><span class="sxs-lookup"><span data-stu-id="8a867-332">Refresh the page and a new line will appear in the grid.</span></span> <span data-ttu-id="8a867-333">Velg den nye linjen, og velg **Last ned** i handlingsruten.</span><span class="sxs-lookup"><span data-stu-id="8a867-333">Select the new line and select **Download** on the Action Pane.</span></span> <span data-ttu-id="8a867-334">Dette vil gi deg en ZIP-komprimert mappe som inneholder følgende filer:</span><span class="sxs-lookup"><span data-stu-id="8a867-334">This will give you a .zip compressed folder containing the following files:</span></span>

- <span data-ttu-id="8a867-335">**Log.txt** – Dette er loggfilen som beskriver fremgangsmåten motoren går gjennom.</span><span class="sxs-lookup"><span data-stu-id="8a867-335">**Log.txt** - This is the log file that describes the steps that the engine goes through.</span></span> <span data-ttu-id="8a867-336">Denne er svært omfattende og kan være en litt overveldende, men når den brukes som en del av eksperimenteringen med ruteoppsettet for å løse ytelsesproblemer, er det første du ser etter tidsforskjellen mellom den første og den siste linjen, fordi dette angir nøyaktig hvor mye tid som er brukt på planleggingen.</span><span class="sxs-lookup"><span data-stu-id="8a867-336">It is very elaborate and can be a bit overwhelming, but when used as part of experimenting with the route setup to resolve performance problems the first thing to look for is the difference in time between the first and the last line, as this will give you the exact time the scheduler has spent.</span></span>
- <span data-ttu-id="8a867-337">**XmlModel.xml** – Denne inneholder modellen som er bygget i X++ og som motoren opererer på.</span><span class="sxs-lookup"><span data-stu-id="8a867-337">**XmlModel.xml** - This contains the model that is built in X++ and that the engine operates on.</span></span> <span data-ttu-id="8a867-338">`JobId` som er brukt i filen, samsvarer med `RecId` fra kildetabellen som inneholder jobbene (`ReqRouteJob` eller `ProdRouteJob`).</span><span class="sxs-lookup"><span data-stu-id="8a867-338">The `JobId` used in the file correlates to the `RecId` from the source table containing the jobs (`ReqRouteJob` or `ProdRouteJob`).</span></span> <span data-ttu-id="8a867-339">Det vanlige å se etter i denne filen, er at datoene som er angitt i `ConstraintJobStartsAt` og `ConstraintJobEndsAt`, er som forventet, at `JobGoal`-egenskapen er riktig angitt og at jobbene er knyttet til hverandre via `JobLink`-begrensningene.</span><span class="sxs-lookup"><span data-stu-id="8a867-339">The typical thing to look for in this file is that the dates given in `ConstraintJobStartsAt` and `ConstraintJobEndsAt` are as expected, that the `JobGoal` property is set correctly, and that the jobs are related to each other through the `JobLink` constraints.</span></span>
- <span data-ttu-id="8a867-340">**XmlSlots.xml** – Denne inneholder alle driftstider og kapasitetsreservasjoner som motoren har bedt om.</span><span class="sxs-lookup"><span data-stu-id="8a867-340">**XmlSlots.xml** - This contains all the working times and capacity reservations that the engine has requested.</span></span> <span data-ttu-id="8a867-341">Arbeidstidene og reservasjonene i kalenderen blir bare forespurt av motoren for tidsperiodene der den prøver å plassere jobbene (og en ekstra buffer), så hvis filen inneholder tid som er svært langt inn i fremtiden, kan det være en indikasjon på et problem med oppsettet.</span><span class="sxs-lookup"><span data-stu-id="8a867-341">The calendar working times and reservations will only be requested by the engine for the time periods where it tries to place the jobs (and an extra buffer), so if the file contains times very far in the future, it might be an indication of a problem with the setup.</span></span> <span data-ttu-id="8a867-342">`ResourceProperty`-nodene vil vises for hver ressurs som ressursgruppen og funksjonen den er knyttet til, og hvilke perioder.</span><span class="sxs-lookup"><span data-stu-id="8a867-342">The `ResourceProperty` nodes will show for each resource which resource group and capabilities it is associated with for which periods.</span></span>
- <span data-ttu-id="8a867-343">**Result.xml** – Denne inneholder resultatet av planleggingskjøringen.</span><span class="sxs-lookup"><span data-stu-id="8a867-343">**Result.xml** - This contains the result of the scheduling run.</span></span>

<span data-ttu-id="8a867-344">Legg merke til at sporingsfunksjonaliteten kan gi en betydelig ytelsesreduksjon, slik at den bør bare brukes til å undersøke planlegging av bestemte ordrer på en kontrollert måte.</span><span class="sxs-lookup"><span data-stu-id="8a867-344">Note that the tracing functionality can add significant performance overhead, so only use it for investigating scheduling of specific orders in a controlled manner.</span></span> <span data-ttu-id="8a867-345">Hvis den er aktivert under en hovedplanlegging, kan den raskt nå størrelsesgrensen og stoppe.</span><span class="sxs-lookup"><span data-stu-id="8a867-345">If it is turned on during a master planning run it will quickly reach its size limit and stop.</span></span>

## <a name="troubleshooting-performance"></a><span data-ttu-id="8a867-346">Feilsøke ytelse</span><span class="sxs-lookup"><span data-stu-id="8a867-346">Troubleshooting performance</span></span>

<span data-ttu-id="8a867-347">Som du kan forstå fra alle de forrige delene, finnes det noen fallgruver når det gjelder oppsett og bruk av planleggingsmotoren, noe som kan føre til ytelsesproblemer.</span><span class="sxs-lookup"><span data-stu-id="8a867-347">As can be understood from all of the previous sections, there are some pitfalls when it comes to the setup and usage of the scheduling engine, which can lead to performance problems.</span></span> <span data-ttu-id="8a867-348">Følgende sjekkliste kan brukes til feilsøking av slike problemer.</span><span class="sxs-lookup"><span data-stu-id="8a867-348">The following check list can be used for troubleshooting such issues.</span></span> <span data-ttu-id="8a867-349">Det er viktig å se på alle punktene fordi det ofte er en kombinasjon av flere faktorer som fører til problemer.</span><span class="sxs-lookup"><span data-stu-id="8a867-349">It is important to look at all the points as it is most often a combination of multiple factors that leads to problems.</span></span>

### <a name="performing-scheduling-as-part-of-mrp-when-it-is-not-needed"></a><span data-ttu-id="8a867-350">Utføre planlegging som en del av MRP når den ikke er nødvendig</span><span class="sxs-lookup"><span data-stu-id="8a867-350">Performing scheduling as part of MRP when it is not needed</span></span>

<span data-ttu-id="8a867-351">Selv om ruter brukes til produksjonsstyring, for eksempel etterkalkulering og rapportering, kan det hende at det ikke er nødvendig å ta hensyn til dem under MRP.</span><span class="sxs-lookup"><span data-stu-id="8a867-351">Even though routes are used for the production control purposes such as costing and reporting, it might not be necessary to consider them during MRP.</span></span> <span data-ttu-id="8a867-352">I noen tilfeller er det tilstrekkelig å angi standard leveringstid for produksjon for varen for planlegging.</span><span class="sxs-lookup"><span data-stu-id="8a867-352">In some cases, having a standard production lead time specified for the item will be sufficient for planning.</span></span> <span data-ttu-id="8a867-353">Hvis du vil deaktivere ruteplanlegging, setter du kapasitetshorisont til null.</span><span class="sxs-lookup"><span data-stu-id="8a867-353">To turn off route scheduling, set the capacity time fence to zero.</span></span> <span data-ttu-id="8a867-354">Hvis planlegging skal utføres, må kapasitetshorisonten nøye angis, fordi det kanskje ikke er nødvendig å ta hensyn til ruter for å få full oversikt over MRP-ens dekningshorisont.</span><span class="sxs-lookup"><span data-stu-id="8a867-354">If scheduling should be done, then the capacity time fence must be carefully set because it might not be necessary to consider routes for the full extent of the MRP's coverage time fence.</span></span>

<span data-ttu-id="8a867-355">Vær oppmerksom på at hvis ordren ikke er planlagt under MRP, må den i stedet planlegges når den planlagte bestillingen autoriseres.</span><span class="sxs-lookup"><span data-stu-id="8a867-355">Note that if the order is not scheduled during MRP, then it will instead need to be scheduled when the planned order is firmed.</span></span> <span data-ttu-id="8a867-356">Dette betyr at autorisasjonsprosessen vil ta lenger tid, og avhengig av hvor mange av de foreslåtte planlagte ordrene som autoriseres, vil ytelsesgevinsten under MRP kanskje gå tapt under autoriseringen.</span><span class="sxs-lookup"><span data-stu-id="8a867-356">This means that the firming process will take longer, so depending on how many of the suggested planned orders get firmed the performance gain during MRP might be lost at firming.</span></span>

### <a name="route-with-unnecessary-operations"></a><span data-ttu-id="8a867-357">Rute med unødvendige operasjoner</span><span class="sxs-lookup"><span data-stu-id="8a867-357">Route with unnecessary operations</span></span>

<span data-ttu-id="8a867-358">Når du utformer ruten, er det fristende å forsøke å utforme den virkelige verden nøyaktig med alle trinnene produksjonen går gjennom.</span><span class="sxs-lookup"><span data-stu-id="8a867-358">When designing the route, it is tempting to try to model the real world exactly with all the steps the production goes through.</span></span> <span data-ttu-id="8a867-359">Selv om dette kan være nyttig i noen tilfeller, er det ikke bra for ytelsen fordi modellen som motoren trenger for å arbeide, blir større (både med hensyn til jobber og begrensninger), og flere SQL-setninger blir utført for innsetting og oppdatering av jobbene og kapasitetsreservasjonene.</span><span class="sxs-lookup"><span data-stu-id="8a867-359">While this can be useful in some cases, it is not good for the performance as the model the engine needs to work on gets larger (both in terms of jobs and constraints) and more SQL statements will be executed for insertion and update of the jobs and capacity reservations.</span></span> <span data-ttu-id="8a867-360">Det er også en nedstrømseffekt av til slutt å måtte rapportere fremdriften for jobbene, som kan reduseres med automatiske posteringer.</span><span class="sxs-lookup"><span data-stu-id="8a867-360">Also, there is the downstream effect of having to eventually report progress on the jobs, which can be mitigated with automatic postings.</span></span> <span data-ttu-id="8a867-361">Hvis dataene ikke brukes til noe, skaper det unødvendig belastning.</span><span class="sxs-lookup"><span data-stu-id="8a867-361">If the data is not used for anything, it creates unnecessary load.</span></span>

<span data-ttu-id="8a867-362">Vi anbefaler at du bare oppretter operasjoner som er strengt nødvendige for planleggingen (som vanligvis vil være flaskehalsressurser) og/eller etterkalkuleringsformål.</span><span class="sxs-lookup"><span data-stu-id="8a867-362">We recommend that you only create operations that are strictly needed for scheduling (which will typically be the bottleneck resources) and/or costing purposes.</span></span> <span data-ttu-id="8a867-363">Du kan også gruppere mange mindre spesifikke operasjoner i én større operasjon som representerer en større del av prosessen.</span><span class="sxs-lookup"><span data-stu-id="8a867-363">Alternatively you should group many smaller distinct operations into one larger operation that represents a greater part of the process.</span></span>

### <a name="many-applicable-resources-for-an-operation"></a><span data-ttu-id="8a867-364">Mange gjeldende ressurser for en operasjon</span><span class="sxs-lookup"><span data-stu-id="8a867-364">Many applicable resources for an operation</span></span>

<span data-ttu-id="8a867-365">Antallet gjeldende ressurser for en operasjon bestemmes av ressurskravene som er angitt i operasjonsrelasjonen.</span><span class="sxs-lookup"><span data-stu-id="8a867-365">The number of applicable resources for an operation is determined by the resource requirements set on the operation relation.</span></span> <span data-ttu-id="8a867-366">Behovet kan enten gjelde for en bestemt ressurs (enkelt), eller det kan være basert på ressursens medlemskap i en ressursgruppe eller kapasitet.</span><span class="sxs-lookup"><span data-stu-id="8a867-366">The requirement can either be for a specific (individual) resource or it can be based on the resource's membership of a resource group or capability.</span></span>

<span data-ttu-id="8a867-367">Hvis det ikke utføres planlegging ved hjelp av begrenset kapasitet, og alle gjeldende ressurser har samme kalender og effektivitet, vil planleggingsmotoren alltid ende opp med å velge den samme ressursen for en operasjon, men bare etter å ha prøvd alle de aktuelle ressursene for å kontrollere om dette er "bedre" enn de andre.</span><span class="sxs-lookup"><span data-stu-id="8a867-367">If scheduling is not done using finite capacity and all the applicable resources have the same calendar and efficiency, then the scheduling engine will always end up picking the same resource for an operation, but only after trying all the applicable resources to check if there is one that is "better" than the others.</span></span> <span data-ttu-id="8a867-368">I slike tilfeller kan belastningen av planleggingen reduseres betydelig ved ganske enkelt å alltid tilordner en bestemt ressurs til operasjonen når ruten utformes.</span><span class="sxs-lookup"><span data-stu-id="8a867-368">In this case, the load of the scheduling can be greatly reduced simply by always assigning a specific resource to the operation at the route design time.</span></span>

### <a name="route-with-parallel-operations"></a><span data-ttu-id="8a867-369">Rute med parallelle operasjoner</span><span class="sxs-lookup"><span data-stu-id="8a867-369">Route with parallel operations</span></span>

<span data-ttu-id="8a867-370">Selv om parallelle operasjoner (primær/sekundær) er et kraftig verktøy for å modellere scenarier, som når en maskin og en operatør er nødvendig for å utføre en bestemt oppgave, er det også kilde til mange ytelsesproblemer.</span><span class="sxs-lookup"><span data-stu-id="8a867-370">While parallel operations (primary/secondary) are a powerful tool to model scenarios like when a machine and an operator are both needed to perform a specific task, it is also the source of many performance issues.</span></span> <span data-ttu-id="8a867-371">Hvis et behov for en bestemt enkeltressurs er tilordnet både primær- og sekundæroperasjonen, er det vanligvis ikke noe problem.</span><span class="sxs-lookup"><span data-stu-id="8a867-371">If a requirement for a specific individual resource is assigned to both the primary and secondary operation, it is typically not a problem.</span></span> <span data-ttu-id="8a867-372">Men hvis det er mange mulige ressurser for hver av operasjonene, legger den til betydelig kompleksitet for grovberegning i planleggingen.</span><span class="sxs-lookup"><span data-stu-id="8a867-372">But if there are many possible resources for each of the operations, then it adds significant computational complexity to the scheduling.</span></span>

<span data-ttu-id="8a867-373">Et alternativ til å bruke parallelle operasjoner er enten å modellere parene som "virtuelle" ressurser (som deretter vil representere teamet som alltid går sammen for operasjonen), eller å ikke modellere en av operasjonene hvis den ikke representerer en flaskehals.</span><span class="sxs-lookup"><span data-stu-id="8a867-373">An alternative to using parallel operations is either to model the pairs as "virtual" resources (which will then represent the team that always goes together for the operation) or to simply not model one of the operations if it doesn't represent a bottleneck.</span></span>

### <a name="route-with-quantity-of-resources-higher-than-1"></a><span data-ttu-id="8a867-374">Rute med flere ressurser enn 1</span><span class="sxs-lookup"><span data-stu-id="8a867-374">Route with quantity of resources higher than 1</span></span>

<span data-ttu-id="8a867-375">Hvis du angir antall ressurser som kreves for en operasjon som er høyere enn én, er dette det samme som å bruke primær-/sekundæroperasjoner, fordi flere parallelle jobber sendes til motoren.</span><span class="sxs-lookup"><span data-stu-id="8a867-375">If setting the quantity of resources needed for an operation higher than one, then it results effectively the same as using primary/secondary operations because multiple parallel jobs are sent to the engine.</span></span> <span data-ttu-id="8a867-376">I slike tilfeller finnes det imidlertid ikke et alternativ til å bruke spesifikke ressurstilordninger, fordi et antall som er større enn én, krever at mer flere enn én ressurs gjelder for operasjonen.</span><span class="sxs-lookup"><span data-stu-id="8a867-376">However, for this case there is not an option of using specific resource assignments, because a quantity higher than one requires that more than one resource is applicable for the operation.</span></span>

### <a name="excessive-use-of-finite-capacity"></a><span data-ttu-id="8a867-377">Ubegrenset bruk av begrenset kapasitet</span><span class="sxs-lookup"><span data-stu-id="8a867-377">Excessive use of finite capacity</span></span>

<span data-ttu-id="8a867-378">Bruk av begrenset kapasitet krever at motoren laster inn kapasitetsinformasjon fra en database og kan ha en databehandlingskostnad, fordi det vil være vanskeligere å finne en løsning, spesielt i miljøer der ressursene reserveres i nærheten av maksimal kapasitet.</span><span class="sxs-lookup"><span data-stu-id="8a867-378">Use of finite capacity requires the engine to load the capacity information from a database and can have a computational overhead because it will be harder to find a solution especially in environments where the resources are booked close to their maximum capacity.</span></span> <span data-ttu-id="8a867-379">Det er derfor viktig å vurdere nøye om en ressurs virkelig trenger å bruke begrenset kapasitet, eller om de kan overreserveres.</span><span class="sxs-lookup"><span data-stu-id="8a867-379">As a result, it is important to carefully evaluate if a resource really needs to use finite capacity or they can be overbooked.</span></span> <span data-ttu-id="8a867-380">Fordi det kan være en forskjell på begrensede kapasitetsressurser i hvor viktige det er å ikke overreservere dem, anbefaler vi at å bruke flaskehalsalternativet på en ressurs i kombinasjon med en egen verdi på planen i "kapasitetshorisont for flaskehalsressurser".</span><span class="sxs-lookup"><span data-stu-id="8a867-380">Because there might be a difference among finite capacity resources in how important they are not to overbook, we recommend using the bottleneck option on a resource in combination with a separate value on the plan in "Capacity time fence for bottleneck resources".</span></span> <span data-ttu-id="8a867-381">Bruk av flaskehalskonseptet kan føre til at den generelle begrensede kapasitetshorisonten kan reduseres.</span><span class="sxs-lookup"><span data-stu-id="8a867-381">Using the bottleneck concept can enable that the general finite capacity time fence can be lowered.</span></span>

### <a name="setting-hard-links"></a><span data-ttu-id="8a867-382">Angi harde koblinger</span><span class="sxs-lookup"><span data-stu-id="8a867-382">Setting hard links</span></span>

<span data-ttu-id="8a867-383">Standard koblingstype for ruten er *myk* , noe som betyr at det er tillatt med en tidsforskjell mellom sluttidspunktet for én operasjon og starten på neste.</span><span class="sxs-lookup"><span data-stu-id="8a867-383">The standard link type of the route is *soft* , which means that a time gap is allowed between the finishing time of one operation and the start of the next.</span></span> <span data-ttu-id="8a867-384">Tillatelse av dette kan ha den uheldige effekten at hvis materialer eller kapasitet ikke er tilgjengelige for én av operasjonene i svært lang tid, kan produksjonen være inaktiv i en stund, noe som betyr en mulig økning av arbeidet som pågår.</span><span class="sxs-lookup"><span data-stu-id="8a867-384">Allowing this can have the unfortunate effect that, if materials or capacity are not available for one of the operations for a very long time, the production could be idle for quite a while, meaning a possible increase of work in progress.</span></span> <span data-ttu-id="8a867-385">Dette skjer ikke med harde koblinger, fordi avslutning og start må være perfekt justert.</span><span class="sxs-lookup"><span data-stu-id="8a867-385">This will not happen with hard links because the finish and start must align perfectly.</span></span> <span data-ttu-id="8a867-386">Hvis du angir harde koblinger, blir imidlertid planleggingsproblemet vanskeligere fordi skjæringspunkter mellom arbeidstid og kapasitet må beregnes for de to ressursene for operasjonene.</span><span class="sxs-lookup"><span data-stu-id="8a867-386">But setting hard links makes the scheduling problem more difficult because working time and capacity intersections must be calculated for the two resources of the operations.</span></span> <span data-ttu-id="8a867-387">Hvis dette også omfatter parallelle operasjoner, legger dette til betydelig beregningstid.</span><span class="sxs-lookup"><span data-stu-id="8a867-387">If there are also parallel operations involved, this adds significant computational time.</span></span> <span data-ttu-id="8a867-388">Hvis ressursene for de to operasjonene har forskjellige kalendere som ikke overlapper i det hele tatt, er problemet uløselig.</span><span class="sxs-lookup"><span data-stu-id="8a867-388">If the resources of the two operations have different calendars that don't overlap at all, the problem is unsolvable.</span></span>

<span data-ttu-id="8a867-389">Vi anbefaler at du bruker harde koblinger bare når det er helt nødvendig, og vurder nøye om det er nødvendig for hver operasjon i ruten.</span><span class="sxs-lookup"><span data-stu-id="8a867-389">We recommend using hard links only when strictly necessary, and carefully consider if it is necessary for each operation of the route.</span></span>

<span data-ttu-id="8a867-390">Hvis du vil redusere mengden arbeid som pågår, uten å bruke harde koblinger, er et triks å planlegge rekkefølgen to ganger og endre til motsatt retning for den andre gjennomføringen.</span><span class="sxs-lookup"><span data-stu-id="8a867-390">To reduce the work in progress without applying hard links, a trick is to schedule the order twice with changing to the opposite direction for the second pass.</span></span> <span data-ttu-id="8a867-391">Hvis den første tidsplanen ble utført bakover fra leveringsdatoen, bør den andre utføres fremover fra den planlagte startdatoen.</span><span class="sxs-lookup"><span data-stu-id="8a867-391">If the first schedule was done backwards from delivery date, then the second should be done forward from the scheduled start date.</span></span> <span data-ttu-id="8a867-392">Dette vil føre til at jobbene komprimeres så mye som mulig, slik at arbeidet som pågår minimeres.</span><span class="sxs-lookup"><span data-stu-id="8a867-392">This will result in the jobs being compressed as much as possible so that the work in progress is minimized.</span></span>

### <a name="separate-calendar-for-each-resource"></a><span data-ttu-id="8a867-393">Atskilt kalender for hver ressurs</span><span class="sxs-lookup"><span data-stu-id="8a867-393">Separate calendar for each resource</span></span>

<span data-ttu-id="8a867-394">En av de hoveddatakildene for planleggingsmotoren er kalenderinformasjon, som kan være kostbar å laste inn fra databasen.</span><span class="sxs-lookup"><span data-stu-id="8a867-394">One of the main sources of data for the scheduling engine is calendar information, which can be expensive to load from the database.</span></span> <span data-ttu-id="8a867-395">Kalendere genereres basert på maler, og det er derfor fristende å generere en kalender for hver ressurs og deretter justere informasjonen i denne kalenderen når ressursen har nedetid og andre problemer.</span><span class="sxs-lookup"><span data-stu-id="8a867-395">Because calendars are generated based on templates, it would be tempting to generate a calendar for each resource and then adjust the information in this calendar when the resource has downtime and other issues.</span></span> <span data-ttu-id="8a867-396">Dette vil imidlertid føre til en alvorlig begrensning av muligheten til å bufre kalenderdataene, fordi dette må be om nye data for hver ressurs og kan være en stor kilde til ytelsesproblemer.</span><span class="sxs-lookup"><span data-stu-id="8a867-396">However, doing this will severely limit the engines ability to cache the calendar data as it would need to request new data for each resource and can be a large source of performance problems.</span></span> <span data-ttu-id="8a867-397">I stedet anbefaler vi at du bruker kalenderne på nytt så mye som mulig mellom ressursene, og deretter styrer nedetiden ved å tilordne en annen kalender-ID for en periode.</span><span class="sxs-lookup"><span data-stu-id="8a867-397">Instead, we recommend that you reuse the calendars as much as possible between the resources, and then control downtime changes by assigning a different calendar ID for a period.</span></span>

### <a name="high-number-of-working-time-slots-per-calendar-day"></a><span data-ttu-id="8a867-398">Stort antall spor for arbeidstid per dag kalenderdag</span><span class="sxs-lookup"><span data-stu-id="8a867-398">High number of working time slots per calendar day</span></span>

<span data-ttu-id="8a867-399">Siden motoren fungerer ved å undersøke kapasiteten i tidsspor en etter en, er det nyttig å redusere antall tidsspor per kalenderdag.</span><span class="sxs-lookup"><span data-stu-id="8a867-399">Because the engine works by examining time slots one-by-one for capacity, it is beneficial to minimize the number of time slots per calendar day.</span></span> <span data-ttu-id="8a867-400">Dette kan for eksempel gjøres ved å vurdere om det er viktig for den resulterende tidsplanen å gjenspeile at arbeiderne har 5 minutter pause hver time.</span><span class="sxs-lookup"><span data-stu-id="8a867-400">This could be done, for example, by considering whether it's important for the resulting schedule to reflect that workers have a 5-minute break every hour.</span></span>

### <a name="large-or-none-scheduling-timeouts"></a><span data-ttu-id="8a867-401">Store (eller ingen) tidsavbrudd for tidsplaner</span><span class="sxs-lookup"><span data-stu-id="8a867-401">Large (or none) scheduling timeouts</span></span>

<span data-ttu-id="8a867-402">Planlegging av motorytelsen kan optimaliseres ved hjelp av parametere på siden **Planleggingsparametere**.</span><span class="sxs-lookup"><span data-stu-id="8a867-402">Scheduling engine performance can be optimized using parameters found on the **Scheduling parameters** page.</span></span> <span data-ttu-id="8a867-403">Innstillingene **Tidsavbrudd for planlegging er aktivert** og **Tidsavbrudd for planleggingsoptimalisering er aktivert** må alltid settes til **Ja**.</span><span class="sxs-lookup"><span data-stu-id="8a867-403">The **Scheduling timeout enabled** and **Scheduling optimization timeout enabled** settings should always be set to **Yes**.</span></span> <span data-ttu-id="8a867-404">Hvis dette settes til **Nei** , kan planleggingen kjøre i det uendelige hvis det er opprettet en umulig rute med mange alternativer.</span><span class="sxs-lookup"><span data-stu-id="8a867-404">If set to **No** , the scheduling can potentially run infinitely if an unfeasible route with many options has been created.</span></span>

<span data-ttu-id="8a867-405">Verdien for **Maksimal planleggingstid per serie** kontrollerer styrer maksimalt antall sekunder som kan brukes til å prøve å finne en løsning for én enkelt sekvens (i de fleste tilfeller tilsvarer en serie én enkelt ordre).</span><span class="sxs-lookup"><span data-stu-id="8a867-405">The value for **Maximum scheduling time per sequence** controls how many seconds can, at most, be spent trying to find a solution for a single sequence (in most cases a sequence corresponds to a single order).</span></span> <span data-ttu-id="8a867-406">Verdien som brukes her, er svært avhengig av kompleksiteten i ruten og innstillingene, for eksempel begrenset kapasitet, men maksimalt 30 sekunder er et godt utgangspunkt.</span><span class="sxs-lookup"><span data-stu-id="8a867-406">The value to use here highly depends on the complexity of the route and settings like finite capacity, ut a maximum of about 30 seconds is a good starting point.</span></span>

<span data-ttu-id="8a867-407">Verdien for **Tidsavbrudd for optimaliseringsforsøk** styrer hvor mange sekunder som kan brukes til å finne en bedre løsning enn den som opprinnelig ble funnet.</span><span class="sxs-lookup"><span data-stu-id="8a867-407">The value for **Optimization attempts timeout** controls how many seconds can at most be used to find a better solution than the one originally found.</span></span> <span data-ttu-id="8a867-408">Dette vil bare påvirke ruter som bruker parallelle operasjoner når disse gjør det nødvendig å teste ulike kombinasjoner.</span><span class="sxs-lookup"><span data-stu-id="8a867-408">This will only influence routes that are using parallel operations as these make it necessary to test different combinations.</span></span>

> [!NOTE]
> <span data-ttu-id="8a867-409">Verdiene som angis for tidsavbruddet, brukes både for planlegging av frigitte produksjonsordrer og planlagte ordrer som en del av MRP.</span><span class="sxs-lookup"><span data-stu-id="8a867-409">The values set for the timeouts will be applied both for scheduling of released production orders and of planned orders as part of MRP.</span></span> <span data-ttu-id="8a867-410">Dermed kan det å sette svært høye verdier øke kjøretiden i MRP betydelig når det kjøres for en plan med mange planlagte produksjonsordrer.</span><span class="sxs-lookup"><span data-stu-id="8a867-410">As a result, setting very high values could significantly add to the run time of MRP when running for a plan with many planned production orders.</span></span>
