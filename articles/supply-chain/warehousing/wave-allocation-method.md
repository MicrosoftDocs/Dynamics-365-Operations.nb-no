---
title: Bølgetildeling
description: Dette emnet beskriver hvordan du konfigurerer bølgetildelingstrinnet, inkludert hvordan du aktiverer parallell behandling for det.
author: Mirzaab
ms.date: 03/08/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-03-08
ms.dyn365.ops.version: Release 10.0.18
ms.openlocfilehash: feee33a7d4ea3f0d9c4d671210293a28aac14f61
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: nb-NO
ms.lasthandoff: 04/01/2021
ms.locfileid: "5823173"
---
# <a name="wave-allocation"></a><span data-ttu-id="9052e-103">Bølgetildeling</span><span class="sxs-lookup"><span data-stu-id="9052e-103">Wave allocation</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="9052e-104">Bølgebehandling kan være tidkrevende, og mesteparten av behandlingstiden brukes i tildelingstrinnet og i arbeidsopprettingstrinnet.</span><span class="sxs-lookup"><span data-stu-id="9052e-104">Wave processing can be time consuming, and most of the processing time is spent in the allocation step and in the work creation step.</span></span>

<span data-ttu-id="9052e-105">Nå er det mulig å kjøre hvert av disse trinnene parallelt, noe som kan forbedre ytelsen til bølgebehandlingen, og tillate en større produksjon av bølger i samme lager.</span><span class="sxs-lookup"><span data-stu-id="9052e-105">It is now possible to run each of these steps in parallel, which can improve the performance of the wave processing, and allow for a larger throughput of waves in the same warehouse.</span></span> <span data-ttu-id="9052e-106">Dette emnet forklarer hvordan du konfigurerer bølgetildelingsmetoden for å kjøre parallelt.</span><span class="sxs-lookup"><span data-stu-id="9052e-106">This topic explains how to set up the wave allocation method to run in parallel.</span></span> <span data-ttu-id="9052e-107">Hvis du vil ha mer informasjon om hvordan du konfigurerer at oppretting av arbeidsprosesser skal kjøres parallelt, kan du se [Planlegge arbeidsopprettelse under bølge](configure-wave-schedule-work-creation.md).</span><span class="sxs-lookup"><span data-stu-id="9052e-107">For more information about how to set up work creation to run in parallel, see [Schedule work creation during wave](configure-wave-schedule-work-creation.md).</span></span>

<span data-ttu-id="9052e-108">Tidligere var det bare mulig å tildele én bølge på et lager om gangen.</span><span class="sxs-lookup"><span data-stu-id="9052e-108">Previously it was only possible to allocate one wave at a warehouse at a time.</span></span> <span data-ttu-id="9052e-109">Denne begrensningen er fjernet og erstattet av en ny begrensning som bare låser varen og dimensjonene som er over lokasjonen i reservasjonshierarkiet.</span><span class="sxs-lookup"><span data-stu-id="9052e-109">This constraint has been removed and replaced by a new constraint that only locks the item and dimensions that are above location in the reservation hierarchy.</span></span> <span data-ttu-id="9052e-110">Dimensjoner over lokasjonen omfatter alltid produktdimensjoner.</span><span class="sxs-lookup"><span data-stu-id="9052e-110">Dimensions above the location always include product dimensions.</span></span> <span data-ttu-id="9052e-111">Hvis for eksempel en vare er konfigurert med *Farge*,kan varianter for *Rød*, *Blå* og *Gul* behandles parallelt.</span><span class="sxs-lookup"><span data-stu-id="9052e-111">For example, if an item is configured using *Color*, then variants for *Red*, *Blue*, and *Yellow* could each be processed in parallel.</span></span>

<span data-ttu-id="9052e-112">Dette betyr at hvis den samme varen med de samme dimensjonene over lokasjonen tildeles med én bølge, må andre bølger vente med å få en lås på samme vare og dimensjoner.</span><span class="sxs-lookup"><span data-stu-id="9052e-112">This means that if the same item with the same dimensions above the location is being allocated by one wave, other waves will have to wait to acquire a lock on the same item and dimensions.</span></span> <span data-ttu-id="9052e-113">Hvis låsen ikke kan anskaffes innen rimelig tid, vil det oppstå en feil, og bølgebehandlingen vil mislykkes.</span><span class="sxs-lookup"><span data-stu-id="9052e-113">If the lock can't be acquired in a timely manner, an error will occur and the wave processing will fail.</span></span>

<span data-ttu-id="9052e-114">For å kunne benytte parallell behandling må bølgen kjøres satsvis.</span><span class="sxs-lookup"><span data-stu-id="9052e-114">In order to utilize parallel processing, the wave must run in batch.</span></span>

## <a name="performance-improvements"></a><span data-ttu-id="9052e-115">Ytelsesforbedringer</span><span class="sxs-lookup"><span data-stu-id="9052e-115">Performance improvements</span></span>

<span data-ttu-id="9052e-116">Ytelsesfordeler ved parallell behandling faller i to kategorier:</span><span class="sxs-lookup"><span data-stu-id="9052e-116">Performance benefits of parallel processing fall in two categories:</span></span>

- <span data-ttu-id="9052e-117">**Forbedret gjennomstrømming** – Gjennomstrømmingen av bølger vil vanligvis forbedres selv om parallell behandling ikke er konfigurert, spesielt for scenarier der det ikke er noen overlapping av varer i bølgene.</span><span class="sxs-lookup"><span data-stu-id="9052e-117">**Improved throughput** - The throughput of waves will typically improve even if parallel processing isn't configured, especially for scenarios where there is no overlap of items within the waves.</span></span>
- <span data-ttu-id="9052e-118">**Forbedring av tildelingen for en enkelt bølge** – Testing på kundedata har vist en ytelsesforbedring på nesten 50 % etter å ha byttet til parallell tildeling.</span><span class="sxs-lookup"><span data-stu-id="9052e-118">**Improvement of the allocation for a single wave** - Testing on customer data has shown a near 50% performance improvement after switching to parallel allocation.</span></span> <span data-ttu-id="9052e-119">Parallell behandling gjøres per varer og dimensjoner over lokasjonen, så forbedringene avhenger av hvor mange ulike varer en bølge inneholder, tilgjengelig infrastruktur og tildelingens varighet kontra varigheten til arbeidsopprettingen.</span><span class="sxs-lookup"><span data-stu-id="9052e-119">The parallel processing is done per items and dimensions above the location, so the improvements depend on how many different items a wave contains, the infrastructure available, and the duration of the allocation versus the duration of the work creation.</span></span>

## <a name="configure-parallel-allocation"></a><span data-ttu-id="9052e-120">Konfigurer parallell tildeling</span><span class="sxs-lookup"><span data-stu-id="9052e-120">Configure parallel allocation</span></span>

### <a name="warehouse-management-parameters"></a><span data-ttu-id="9052e-121">Lagerstyringsparametere</span><span class="sxs-lookup"><span data-stu-id="9052e-121">Warehouse management parameters</span></span>

<span data-ttu-id="9052e-122">Hvis du vil bruke parallell tildelingsbehandling, kan du gå til **Lagerstyring > Oppsett > Lagerstyringsparametere**, åpne **Bølgebehandling**-fanen og foreta følgende innstillinger:</span><span class="sxs-lookup"><span data-stu-id="9052e-122">To use parallel allocation processing, go to **Warehouse management > Setup > Warehouse management parameters**, open the **Wave processing** tab, and make the following settings:</span></span>

- <span data-ttu-id="9052e-123">**Satsvis gruppe for bølgebehandling** – Velg den satsvise gruppen som den første behandlingen av bølgene skal bruke.</span><span class="sxs-lookup"><span data-stu-id="9052e-123">**Wave processing batch group** - Select the batch group that the initial processing of the waves should use.</span></span> <span data-ttu-id="9052e-124">Den etterfølgende behandlingen av tildelinger kan gjøres ved hjelp av forskjellige satsvise grupper.</span><span class="sxs-lookup"><span data-stu-id="9052e-124">The subsequent processing of allocation can be done using different batch groups.</span></span>
- <span data-ttu-id="9052e-125">**Behandle bølger satsvis** – Sett dette til *Ja* for å bruke parallell behandling.</span><span class="sxs-lookup"><span data-stu-id="9052e-125">**Process waves in batch** - Set this to *Yes* to use parallel processing.</span></span>
- <span data-ttu-id="9052e-126">**Vent på lås (ms)** – Angi tiden, i millisekunder, som et tildelingstrinn skal vente på en systemressurs som er låst av et annet tildelingstrinn.</span><span class="sxs-lookup"><span data-stu-id="9052e-126">**Wait for lock (ms)** - Enter the time, in milliseconds, that an allocation step will wait for a system resource that is locked by another allocation step.</span></span> <span data-ttu-id="9052e-127">Når denne tiden overskrides, behandles ikke på bølgen, og det vises en feilmelding.</span><span class="sxs-lookup"><span data-stu-id="9052e-127">When this time is exceeded, the wave is not processed and an error message is displayed.</span></span> <span data-ttu-id="9052e-128">Vi anbefaler at du lar deg gå minst et par sekunder å tillate tildeling av én logisk enhet for å fullføre.</span><span class="sxs-lookup"><span data-stu-id="9052e-128">We recommend that you allow at least a few seconds to allow for allocation of one logical unit to finish.</span></span>

<span data-ttu-id="9052e-129">Hvis du vil ha mer informasjon om disse og andre alternativer for bølgebehandling på siden **Lagerstyringsparametere**, kan du se [Lagerparametere for bølgebehandling](wave-warehouse-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="9052e-129">For information about these and other wave processing options on the **Warehouse management parameters** page, see [Warehouse parameters for wave processing](wave-warehouse-parameters.md).</span></span>

## <a name="wave-process-methods"></a><span data-ttu-id="9052e-130">Bølgebehandlingsmetoder</span><span class="sxs-lookup"><span data-stu-id="9052e-130">Wave process methods</span></span>

<span data-ttu-id="9052e-131">Slik konfigurerer du parallell behandling:</span><span class="sxs-lookup"><span data-stu-id="9052e-131">To set up parallel processing:</span></span>

1. <span data-ttu-id="9052e-132">Gå til **Lagerstyring > Oppsett > Bølger > Bølgebehandlingsmetoder**.</span><span class="sxs-lookup"><span data-stu-id="9052e-132">Go to **Warehouse Management > Setup > Waves > Wave process methods**.</span></span>
1. <span data-ttu-id="9052e-133">Velg `allocateWave`-metoden i rutenettet.</span><span class="sxs-lookup"><span data-stu-id="9052e-133">Select the `allocateWave` method in the grid.</span></span>
1. <span data-ttu-id="9052e-134">Velg **Oppgavekonfigurasjon** i handlingsruten.</span><span class="sxs-lookup"><span data-stu-id="9052e-134">On the Action Pane, select **Task configuration**.</span></span>
1. <span data-ttu-id="9052e-135">Siden **Oppgavekonfigurasjon av bølgeposteringsmetode** åpnes.</span><span class="sxs-lookup"><span data-stu-id="9052e-135">The **Wave post method task configuration** page opens.</span></span> <span data-ttu-id="9052e-136">Dette rutenettet viser hvert lager der du har konfigurert `allocateWave`-metoden.</span><span class="sxs-lookup"><span data-stu-id="9052e-136">This grid lists each warehouse where you have configured the `allocateWave` method.</span></span> <span data-ttu-id="9052e-137">Parallell behandling brukes bare for lagre som er oppført.</span><span class="sxs-lookup"><span data-stu-id="9052e-137">Parallel processing will only be used for warehouses that are listed.</span></span> <span data-ttu-id="9052e-138">Bruk knappene i handlingsruten til å legge til eller fjerne lagre fra rutenettet etter behov.</span><span class="sxs-lookup"><span data-stu-id="9052e-138">Use the Action Pane buttons to add or remove warehouses from the grid as needed.</span></span> 
1. <span data-ttu-id="9052e-139">Gjør følgende innstillinger for hvert lager:</span><span class="sxs-lookup"><span data-stu-id="9052e-139">For each warehouse, make the following settings:</span></span>
    - <span data-ttu-id="9052e-140">**Maksimalt antall satsvise oppgaver** – Angi antall satsvise oppgaver som skal brukes for tildelingen for det valgte lageret.</span><span class="sxs-lookup"><span data-stu-id="9052e-140">**Maximum number of batch tasks** - Specify the number of batch tasks that should be used for the allocation for the selected warehouse.</span></span> <span data-ttu-id="9052e-141">Det optimale antallet satsvise oppgaver avhenger av hvilken infrastruktur som er tilgjengelig, og hvilke andre satsvise jobber som behandles på serveren.</span><span class="sxs-lookup"><span data-stu-id="9052e-141">The optimal number of batch tasks depends on the infrastructure available and what other batch jobs are being processed on the server.</span></span> <span data-ttu-id="9052e-142">Tester som ble utført i et miljø med fire kjerner som var dedikert til bølgebehandling, viste at bruk av åtte oppgaver produserte gode resultater.</span><span class="sxs-lookup"><span data-stu-id="9052e-142">Tests done on a four core environment that was dedicated to wave processing showed that using eight tasks produced good results.</span></span>
    - <span data-ttu-id="9052e-143">**Satsvis gruppe for bølgebehandling** – Bestemte satsvise grupper kan brukes for forskjellige lagre for å tillate at tildelingsprosessen kan skaleres ut per lager.</span><span class="sxs-lookup"><span data-stu-id="9052e-143">**Wave processing batch group** - Specific batch groups can be used for different warehouses to allow the allocation processing to scale out per warehouse.</span></span>

## <a name="enable-or-disable-parallelization-across-all-legal-entities"></a><span data-ttu-id="9052e-144">Aktivere eller deaktivere parallellisering på tvers av alle juridiske enheter</span><span class="sxs-lookup"><span data-stu-id="9052e-144">Enable or disable parallelization across all legal entities</span></span>

<span data-ttu-id="9052e-145">Vi anbefaler at du angir at `allocateWave`-metoden skal kjøres parallelt på tvers av alle juridiske enheter, fordi dette bidrar til å forbedre ytelsen til bølgebehandlingen.</span><span class="sxs-lookup"><span data-stu-id="9052e-145">We recommend that you set the `allocateWave` method to run in parallel across all legal entities because this helps to improve the performance of the wave processing.</span></span> <span data-ttu-id="9052e-146">Fra og med Supply Chain Management versjon 10.0.17 er funksjonen *Bølgeparallellisering for Tildel bølge-metoden* aktivert som standard for alle nye og oppdaterte installasjoner, og kan ikke slås av på nytt.</span><span class="sxs-lookup"><span data-stu-id="9052e-146">Starting in Supply Chain Management version 10.0.17, the *Wave parallelization for Allocate Wave method* feature is enabled by default for all new and updated installations, and can't be turned off again.</span></span> <span data-ttu-id="9052e-147">Når denne funksjonen er aktivert, skjer følgende:</span><span class="sxs-lookup"><span data-stu-id="9052e-147">After enabling this feature, the following occurs:</span></span>

- <span data-ttu-id="9052e-148">`allocateWave`-metoden oppdateres slik at den inneholder en oppgavekonfigurasjonsinnstilling som lar deg bruke siden **Bølgebehandlingsmetoder** til å definere antall oppgaver som skal kjøres samtidig, tilsvarende antall parallelle prosesser.</span><span class="sxs-lookup"><span data-stu-id="9052e-148">The `allocateWave` method is updated to include a task configuration setting that lets you use the **Wave process methods** page to define the number of tasks that will run simultaneously, equivalent to the number of parallel processes.</span></span> <span data-ttu-id="9052e-149">Tiden som brukes i tildelingsbølgetrinnet (som vanligvis er 30 % til 60 % av den totale behandlingstiden), reduseres med en faktor som til sammen tilsvarer antall oppgaver.</span><span class="sxs-lookup"><span data-stu-id="9052e-149">As a result, the time used on the allocate-wave step (which is typically 30% to 60% of the total processing time) is reduced by a factor roughly equivalent to the number of tasks.</span></span> <span data-ttu-id="9052e-150">Du kan også velge hvilket parti som skal tilordnes til å behandle disse oppgavene.</span><span class="sxs-lookup"><span data-stu-id="9052e-150">It's also possible to select which batch will be assigned to process these tasks.</span></span> <span data-ttu-id="9052e-151">Det er viktig å merke seg at alle juridiske enheter vil bli konfigurert til å behandle bølger satsvis.</span><span class="sxs-lookup"><span data-stu-id="9052e-151">It's important to note that all of your legal entities will be configured to process waves in batch.</span></span> <span data-ttu-id="9052e-152">For lagre som allerede er konfigurert til å behandle bølger i satsvis behandling, og for lagre som allerede er konfigurert til å bruke `allocateWave`-metoden parallelt, beholdes den eksisterende konfigurasjonen.</span><span class="sxs-lookup"><span data-stu-id="9052e-152">For the warehouses that are already configured to process waves in batch, and for the warehouses that are already configured to use the `allocateWave` method in parallel, the existing configuration will be kept.</span></span>
- <span data-ttu-id="9052e-153">Alle nye juridiske enheter er som standard konfigurert til å behandle bølger satsvis.</span><span class="sxs-lookup"><span data-stu-id="9052e-153">By default, all the new legal entities are configured to process waves in batch.</span></span> <span data-ttu-id="9052e-154">Alle nye lagre med alternativet **Lagerstyringsprosesser** aktivert vil ha `allocateWave`-metoden konfigurert til å kjøres parallelt som standard.</span><span class="sxs-lookup"><span data-stu-id="9052e-154">All new warehouses with the **Warehouse management processes** option enabled will have the `allocateWave` method configured to run in parallel by default.</span></span>
- <span data-ttu-id="9052e-155">På siden **Lagerstyringsparametere** er **Behandle bølger satsvis** satt til *Ja* og **Vent på lås (ms)** satt til 15 sekunder som standard.</span><span class="sxs-lookup"><span data-stu-id="9052e-155">On the **Warehouse management parameters** page, **Process saves in batch** is set to *Yes* and  **Wait for lock (ms)** set to a default 15 seconds.</span></span> <span data-ttu-id="9052e-156">Dette betyr at alle bølger vil bli utført satsvis.</span><span class="sxs-lookup"><span data-stu-id="9052e-156">This means that all waves will be executed in batch.</span></span> <span data-ttu-id="9052e-157">Når en bølge kjører, får den en lås på varen og dimensjonene over stedet under tildelingstrinnet.</span><span class="sxs-lookup"><span data-stu-id="9052e-157">When a wave is running, it acquires a lock on the item and dimensions above location during the allocation step.</span></span> <span data-ttu-id="9052e-158">Når en annen bølgebehandlingsoppgave prøver å oppnå samme lås for den identiske posten, blokkeres den til den nåværende prosessen er fullført.</span><span class="sxs-lookup"><span data-stu-id="9052e-158">When another wave processing task tries to acquire the same lock for the identical record, it is blocked until the current process is finished.</span></span> <span data-ttu-id="9052e-159">Innstillingene for **Vent på lås (ms)** etablerer den maksimale tiden systemet venter før låsen frigis.</span><span class="sxs-lookup"><span data-stu-id="9052e-159">The **Wait for lock (ms)** settings establishes the maximum time the system will wait before the lock is released.</span></span>

<span data-ttu-id="9052e-160">Parallell tildelingsbehandling krever bølgebehandling for å kjøre satsvis.</span><span class="sxs-lookup"><span data-stu-id="9052e-160">Parallel allocation processing requires wave processing to run in batch.</span></span> <span data-ttu-id="9052e-161">Derfor vil du redusere bølgebehandlingsytelsen hvis du slår av innstillingen **Behandle bølger satsvis**, spesielt hvis bølgebehandlingen bruker en parallell prosess, slik det er definert i oppgavekonfigurasjonen for de relevante bølgemetodene.</span><span class="sxs-lookup"><span data-stu-id="9052e-161">Therefore, you will reduce your wave processing performance if you turn off the **Process saves in batch** setting, especially if wave processing is using a parallel process as defined by the task configuration for the relevant wave methods.</span></span>

<span data-ttu-id="9052e-162">Om nødvendig kan du angre hver av innstillingene som er gjort som standard, når funksjonen *Bølgeparallellisering for Tildel bølge-metoden* er aktivert automatisk for forekomsten.</span><span class="sxs-lookup"><span data-stu-id="9052e-162">If necessary, you can undo each of the settings made by default when the *Wave parallelization for Allocate Wave method* feature is automatically enabled for your instance.</span></span> <span data-ttu-id="9052e-163">Slik gjør du det:</span><span class="sxs-lookup"><span data-stu-id="9052e-163">To do this:</span></span>

- <span data-ttu-id="9052e-164">Gå til **Lagerstyring \> Oppsett \> Lagerstyringsparametere**.</span><span class="sxs-lookup"><span data-stu-id="9052e-164">Go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span> <span data-ttu-id="9052e-165">På **Bølgebehandling**-fanen bruker du de foretrukne verdiene for **Behandle bølger satsvis** og **Vent på lås (ms)**.</span><span class="sxs-lookup"><span data-stu-id="9052e-165">On the **Wave processing** tab, apply your preferred values for **Process waves in batch** and **Wait for lock (ms)**.</span></span>
- <span data-ttu-id="9052e-166">Gå til **Lagerstyring \> Oppsett \> Bølger \> Bølgebehandlingsmetoder**.</span><span class="sxs-lookup"><span data-stu-id="9052e-166">Go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span> <span data-ttu-id="9052e-167">Velg `allocateWave`-metoden.</span><span class="sxs-lookup"><span data-stu-id="9052e-167">Select the `allocateWave` method.</span></span> <span data-ttu-id="9052e-168">I handlingsruten velger du **Oppgavekonfigurasjon** for å åpne en side som fører opp hvert lager, der metoden er angitt til å kjøre parallelt.</span><span class="sxs-lookup"><span data-stu-id="9052e-168">On the Action Pane, select **Task configuration** to open a page that lists each warehouse where the method is set to run in parallel.</span></span> <span data-ttu-id="9052e-169">Endre eller slett antall satsvise oppgaver og den tilordnede bølgegruppen for hvert oppførte lager etter behov.</span><span class="sxs-lookup"><span data-stu-id="9052e-169">Modify or delete the number of batch tasks and the assigned wave group for each listed warehouse as needed.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="9052e-170">Feilsøking</span><span class="sxs-lookup"><span data-stu-id="9052e-170">Troubleshooting</span></span>

### <a name="troubleshoot-using-the-infolog"></a><span data-ttu-id="9052e-171">Feilsøking ved hjelp av infologgen</span><span class="sxs-lookup"><span data-stu-id="9052e-171">Troubleshoot using the Infolog</span></span>

<span data-ttu-id="9052e-172">Fordi det satsvise rammeverket brukes, blir feil som oppstår under bølgebehandling, oppfanget som en del av infologgene for satsvise jobber.</span><span class="sxs-lookup"><span data-stu-id="9052e-172">Because the batch framework is used, errors that occur during wave processing will be captured as part of the batch jobs Infologs.</span></span> <span data-ttu-id="9052e-173">Slik leser du de satsvise jobbene som er relatert til en bølge:</span><span class="sxs-lookup"><span data-stu-id="9052e-173">To read the batch jobs related to a wave:</span></span>

1. <span data-ttu-id="9052e-174">Gå til **Lagerstyring \> Utgående bølger \> Forsendelsesbølger \> Alle bølger**.</span><span class="sxs-lookup"><span data-stu-id="9052e-174">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="9052e-175">Velg bølgen som du vil kontrollere.</span><span class="sxs-lookup"><span data-stu-id="9052e-175">Select the wave you want to inspect.</span></span>
1. <span data-ttu-id="9052e-176">I handlingsruten åpner du **Bølge**-fanen, og fra **Bølge**-gruppen velger du **Satsvise jobber**.</span><span class="sxs-lookup"><span data-stu-id="9052e-176">On the Action Pane, open the **Wave** tab and, from the **Wave** group, select **Batch jobs**.</span></span>

<span data-ttu-id="9052e-177">Bølgebehandling korrigerer seg selv, så eventuelle feil som oppdages under behandling, bør rapporteres ved hjelp av infologgen.</span><span class="sxs-lookup"><span data-stu-id="9052e-177">Wave processing is self-correcting, so any error detected during processing should be reported using the Infolog.</span></span>

<span data-ttu-id="9052e-178">En typisk feil relatert til parallell behandling kan være at to bølger prøver å tildele samme vare samtidig og en ikke fullfører slik at den andre bølgen ikke kan oppnå en lås innen det angitte tidspunktet.</span><span class="sxs-lookup"><span data-stu-id="9052e-178">A typical error related to parallel processing could be that two waves try to allocate the same item at the same time and one does not complete so that the other wave is unable to acquire a lock within the specified time.</span></span> <span data-ttu-id="9052e-179">Hvis denne situasjonen oppstår, vil loggen for satsvise jobber inneholde informasjon som angir at lås for varen ikke kan anskaffes, og i så fall må bølgen som mislyktes, behandles på nytt.</span><span class="sxs-lookup"><span data-stu-id="9052e-179">If this situation occurs, the batch jobs log will contain information stating that the lock for the item could not be acquired, in which case the wave that failed must be processed again.</span></span>

<span data-ttu-id="9052e-180">Fordi behandlingen skjer parallelt, må data opprettholdes i forskjellige tabeller for å spore behandlingsstatusen.</span><span class="sxs-lookup"><span data-stu-id="9052e-180">Because the processing is happening in parallel, data must be maintained in different tables to track the state of the processing.</span></span> <span data-ttu-id="9052e-181">Dette betyr at loggene for de satsvise jobbene kan inneholde feil som duplikate nøkkelfeil.</span><span class="sxs-lookup"><span data-stu-id="9052e-181">This means that the logs for the batch jobs might contain errors such as duplicate key errors.</span></span>

<span data-ttu-id="9052e-182">Feilene fra de satsvise oppgavene er også en del av loggen for satsvise jobber.</span><span class="sxs-lookup"><span data-stu-id="9052e-182">The errors from the batch tasks are also part of the batch jobs log.</span></span> <span data-ttu-id="9052e-183">Den viktigste informasjonen er vanligvis nederst.</span><span class="sxs-lookup"><span data-stu-id="9052e-183">The most important information is typically at the bottom.</span></span>

<span data-ttu-id="9052e-184">I sjeldne tilfeller, for eksempel hvis SQL-tilkoblingen avsluttet, er det mulig at bølgebehandlingen kan ende i en inkonsekvent tilstand der den satsvise jobben ser ut til å kjøre, men behandlingen stoppes.</span><span class="sxs-lookup"><span data-stu-id="9052e-184">In rare cases, for example if the SQL connection ended, it is possible for the wave processing to end in an inconsistent state where the batch job appears to be running but the processing is stopped.</span></span> <span data-ttu-id="9052e-185">Bølgen kan ikke håndtere feil som dette, så et forsøk på å rydde opp i mislykkede bølger blir gjort når neste bølge kjører.</span><span class="sxs-lookup"><span data-stu-id="9052e-185">The wave can't handle errors like this, so an attempt to clean up failed waves is done when the next wave runs.</span></span> <span data-ttu-id="9052e-186">Hvis den gjeldende bølgen er inkonsekvent, kan du imidlertid utføre følgende trinn:</span><span class="sxs-lookup"><span data-stu-id="9052e-186">Alternatively, if the current wave is in an inconsistent state, perform the following steps:</span></span>

1. <span data-ttu-id="9052e-187">Gå til **Lagerstyring \> Utgående bølger \> Forsendelsesbølger \> Alle bølger**.</span><span class="sxs-lookup"><span data-stu-id="9052e-187">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="9052e-188">Velg bølgen du trenger for å rydde opp.</span><span class="sxs-lookup"><span data-stu-id="9052e-188">Select the wave you need to clean up.</span></span>
1. <span data-ttu-id="9052e-189">I handlingsruten åpner du **Bølge**-fanen, og i **Bølge**-gruppen velger du **Rydd bølgedata**.</span><span class="sxs-lookup"><span data-stu-id="9052e-189">On the Action Pane, open the **Wave** tab and, in the **Wave** group, select **Cleanup wave data**.</span></span>

### <a name="troubleshoot-using-the-wave-progress-log"></a><span data-ttu-id="9052e-190">Feilsøking ved hjelp av fremdriftsloggen for bølgen</span><span class="sxs-lookup"><span data-stu-id="9052e-190">Troubleshoot using the wave progress log</span></span>

<span data-ttu-id="9052e-191">Hvis alternativet **Opprett bølgefremdriftslogg** er aktivert på siden **Lagerstyringsparametere**, opprettes det en loggpost hver gang tildelingen for en vare og varens dimensjoner begynner og slutter.</span><span class="sxs-lookup"><span data-stu-id="9052e-191">If the **Create wave progress log** option is enabled on the **Warehouse management parameters** page, then a log record is created every time allocation for an item and its dimensions begins and ends.</span></span> <span data-ttu-id="9052e-192">Du bør bare aktivere denne loggen når du trenger den, for eksempel i den innledende testingen eller i forbindelse med feilsøking.</span><span class="sxs-lookup"><span data-stu-id="9052e-192">You should only enable this log when you need it, for example, during initial testing or for troubleshooting.</span></span> <span data-ttu-id="9052e-193">Når dette alternativet er aktivert, kan du vise loggen ved å gå gjennom følgende trinn:</span><span class="sxs-lookup"><span data-stu-id="9052e-193">When this option is enabled, you can view the log by taking the following steps:</span></span>

1. <span data-ttu-id="9052e-194">Gå til **Lagerstyring \> Utgående bølger \> Forsendelsesbølger \> Alle bølger**.</span><span class="sxs-lookup"><span data-stu-id="9052e-194">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="9052e-195">Velg bølgen som du vil kontrollere.</span><span class="sxs-lookup"><span data-stu-id="9052e-195">Select the wave you want to inspect.</span></span>
1. <span data-ttu-id="9052e-196">I handlingsruten åpner du **Bølge**-fanen, og i **Bølge**-gruppen velger du **Fremdrift**.</span><span class="sxs-lookup"><span data-stu-id="9052e-196">On the Action Pane, open the **Wave** tab and, in the **Wave** group, select **Progress**.</span></span>
