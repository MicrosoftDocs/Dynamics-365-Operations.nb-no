---
title: Konfigurer Oppslag-datakilder for å bruke ER-programspesifikke parametere
description: Dette emnet forklarer hvordan du kan konfigurere Oppslag-datakilder i ER-formater (elektronisk rapportering) for å bruker parametere som er spesifikek for ER-programmet.
author: NickSelin
manager: AnnBe
ms.date: 04/02/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, EROperationDesigner, ERLookupDesigner, ERComponentLookupStructureEditing
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-01-01
ms.dyn365.ops.version: Release 8.1.3
ms.openlocfilehash: 542580c859759c25da84589ec82495eb72bbcbe5
ms.sourcegitcommit: 74f5b04b482b2ae023c728e0df0eb78305493c6a
ms.translationtype: HT
ms.contentlocale: nb-NO
ms.lasthandoff: 04/02/2021
ms.locfileid: "5853527"
---
# <a name="configure-lookup-data-sources-to-use-er-application-specific-parameters"></a><span data-ttu-id="da465-103">Konfigurer Oppslag-datakilder for å bruke ER-programspesifikke parametere</span><span class="sxs-lookup"><span data-stu-id="da465-103">Configure Lookup data sources to use ER application-specific parameters</span></span> 

[!include[banner](../includes/banner.md)]

<span data-ttu-id="da465-104">Parameterne som er spesifikke for [ER-prgrammet (elektronisk rapportering)](general-electronic-reporting.md), gjør det mulig for deg å konfigurere datafiltrering i et ER-format slik at det er basert på et sett med abstrakte regler.</span><span class="sxs-lookup"><span data-stu-id="da465-104">The [Electronic reporting (ER)](general-electronic-reporting.md) application-specific parameters feature lets you configure data filtering in an ER format so that it's based on a set of abstract rules.</span></span> <span data-ttu-id="da465-105">Dette settet med regler kan konfigureres til å bruke datakilden av **Oppslag**-typen som er tilgjengelig i et ER-format.</span><span class="sxs-lookup"><span data-stu-id="da465-105">This set of rules can be configured to use the data source of the **Lookup** type that is available in an ER format.</span></span> <span data-ttu-id="da465-106">Du kan deretter angi reelle regler utenfor reglene fra ER-komponentutformere ved hjelp av brukergrensesnittet som automatisk genereres basert på innstillingene for **Oppslag**-datakilden i det tilsvarende ER-formatet, og de gjeldende dataene for juridisk enhet.</span><span class="sxs-lookup"><span data-stu-id="da465-106">You can then specify real rules beyond the ER components designers by using the user interface (UI) that is automatically generated based on the settings of the **Lookup** data source of the corresponding ER format and the current legal entity data.</span></span> <span data-ttu-id="da465-107">Til slutt får du tilgang til de angitte reglene av ER-formatets **Oppslag**-datakilde når dette ER-formatet kjøres.</span><span class="sxs-lookup"><span data-stu-id="da465-107">Eventually, the specified rules will be accessed by the ER format's **Lookup** data source when this ER format is executed.</span></span>

> [!NOTE]
> <span data-ttu-id="da465-108">Bruk de konfigurerte datakildene for det redigerbare ER-formatet til å angi hvilke programdata som skal brukes til å konfigurere reelle regler.</span><span class="sxs-lookup"><span data-stu-id="da465-108">Use the configured data sources of the editable ER format to specify what application data is used to configure real rules.</span></span>

<span data-ttu-id="da465-109">Bruk [ER-operasjonsutforming](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) til å hente en datakilde av **Oppslag**-typen inn i ER-formatet.</span><span class="sxs-lookup"><span data-stu-id="da465-109">Use the [ER Operations designer](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) to bring a data source of the **Lookup** type in to your ER format.</span></span> <span data-ttu-id="da465-110">Datakilden må konfigureres for å beskrive hvordan abstrakte regler ser ut, inkludert følgende:</span><span class="sxs-lookup"><span data-stu-id="da465-110">The data source must be configured to describe how your abstract rules look, including the following:</span></span>

   - <span data-ttu-id="da465-111">Parametersettet for en bestemt datatype der det gis en verdi for å angi en enkelt regel.</span><span class="sxs-lookup"><span data-stu-id="da465-111">The parameter set of certain data type whose value is provided to specify a single rule.</span></span>
   - <span data-ttu-id="da465-112">Verditypen av en bestemt datatype som returneres av en enkelt regel når denne regelen regnes som den mest passende blant andre.</span><span class="sxs-lookup"><span data-stu-id="da465-112">The value type of certain data type that is returned by a single rule when this rule is considered the most appropriate among others.</span></span>

<span data-ttu-id="da465-113">Du kan konfigurere følgende typer **Oppslag**-datakilder, avhengig av typen verdi som returneres av en konfigurert regel:</span><span class="sxs-lookup"><span data-stu-id="da465-113">You can configure the following types of **Lookup** data sources depending on the type of value that is returned by any configured rule:</span></span>

   - <span data-ttu-id="da465-114">Bruk typen **Datamodell\Oppslag** når en modellnummereringsverdi må returneres.</span><span class="sxs-lookup"><span data-stu-id="da465-114">Use the **Data model\Lookup** type when a model enumeration value must be returned.</span></span>
   - <span data-ttu-id="da465-115">Bruk typen **Dynamics 365 Operations\Oppslag** når en programnummereringsverdi eller en [utvidet datatype](../extensibility/extensible-edts.md)-verdi for programmet må returneres.</span><span class="sxs-lookup"><span data-stu-id="da465-115">Use the **Dynamics 365 Operations\Lookup** type when an application enumeration value or an application [extended data type](../extensibility/extensible-edts.md) value must be returned.</span></span>
   - <span data-ttu-id="da465-116">Bruk typen **Formatnummerering\Oppslag** når en formatnummereringsverdi må returneres.</span><span class="sxs-lookup"><span data-stu-id="da465-116">Use the **Format enumeration\Lookup** type when a format enumeration value must be returned.</span></span>

<span data-ttu-id="da465-117">Illustrasjonen nedenfor viser hvordan en formatnummerering kan konfigureres i ER-eksempelformatet.</span><span class="sxs-lookup"><span data-stu-id="da465-117">The following illustration shows how a format enumeration can be configured in the sample ER format.</span></span>

   ![Viser en formatnummerering som et grunnlag for den konfigurerte oppslagsdatakilden](./media/er-lookup-data-sources-img1.gif)

<span data-ttu-id="da465-119">Illustrasjonen nedenfor viser formatkomponentene som ble konfigurert til å rapportere forskjellige typer avgifter i en annen del av en generert rapport.</span><span class="sxs-lookup"><span data-stu-id="da465-119">The following illustration shows the format components that were configured to report different type of taxes in a different section of a generated report.</span></span>

   ![Viser formatdelene for å rapportere forskjellige typer avgifter separat](./media/er-lookup-data-sources-img2.png)

<span data-ttu-id="da465-121">Illustrasjonen nedenfor viser hvordan ER-operasjonsutforming tillater tilføyelse av en datakilde av typen **Formatnummerering\Oppslag**.</span><span class="sxs-lookup"><span data-stu-id="da465-121">The following illustration shows how the ER Operations designer allows the addition of a data source of the **Format enumeration\Lookup** type.</span></span>  <span data-ttu-id="da465-122">Den tilføyde datakilden konfigureres som returnering av en verdi for `List of taxation levels`-formatnummereringen.</span><span class="sxs-lookup"><span data-stu-id="da465-122">The added data source is configured as returning a value of the `List of taxation levels` format enumeration.</span></span>

   ![Legge til en ER-datakilde av typen Formatnummerering\Oppslag](./media/er-lookup-data-sources-img3.gif)

<span data-ttu-id="da465-124">Illustrasjonen nedenfor viser hvordan den tilføyde datakilden konfigureres for å bruke **Kode**-feltet i **Model.Data.Tax**-oppføringslisten for **Modell**-datakilden som en parameter som må være angitt for alle konfigurerte regler.</span><span class="sxs-lookup"><span data-stu-id="da465-124">The following illustration shows how the added data source is configured to use the **Code** field of the **Model.Data.Tax** record list of the **Model** data source as a parameter that must be specified for every configured rule.</span></span>

![Konfigurere parametere for den tilføyde datakilden av typen Formatnummerering\Oppslag](./media/er-lookup-data-sources-img4.gif)

<span data-ttu-id="da465-126">Den tilføyde `Model.Data.Tax`-datakilden konfigureres for å angi en avgiftskode for hver konfigurerte regel ved å få tilgang til poster i **TaxTable**-programtabellen.</span><span class="sxs-lookup"><span data-stu-id="da465-126">The added `Model.Data.Tax` data source is configured to specify a tax code for every configured rule by accessing records of the **TaxTable** application table.</span></span>

   ![Gjennomgang av oppslagsdatakilden for ett firmat av typen Formatnummerering\Oppslag](./media/er-lookup-data-sources-img5.gif)

<span data-ttu-id="da465-128">Du kan definere oppslagsreglene for det valgte ER-formatet ved å bruke grensesnittet som automatisk justeres etter strukturen til den konfigurerte datakilden.</span><span class="sxs-lookup"><span data-stu-id="da465-128">You can set up the lookup rules for the selected ER format by using the UI that is automatically aligned with the structure of the configured data source.</span></span> <span data-ttu-id="da465-129">For øyeblikket krever dette grensesnittet at du for hver regel må angi den returnerte verdien som `List of taxation levels`-verdien for formatnummerering, i tillegg til mva-koden som en parameter.</span><span class="sxs-lookup"><span data-stu-id="da465-129">Currently, this UI requires that for each rule, you specify the returned value as the `List of taxation levels` format enumeration value as well as the tax code as a parameter.</span></span>

   ![Sette opp reglene for den konfigurerte datakilden](./media/er-lookup-data-sources-img6.gif)

<span data-ttu-id="da465-131">Illustrasjonen nedenfor viser hvordan `Model.Data.Summary.LevelByLookup`-datakilden av typen **Beregnet felt** kan konfigureres til å kalle den konfigurerte **Oppslag**-datakilden ved å oppgi de nødvendige parameterne.</span><span class="sxs-lookup"><span data-stu-id="da465-131">The following illustration shows how the `Model.Data.Summary.LevelByLookup` data source of the **Calculated field** type can be configured to call the configured **Lookup** data source providing the required parameters.</span></span> <span data-ttu-id="da465-132">For å behandle dette kallet ved kjøretid går ER gjennom listen over konfigurerte regler i den definerte rekkefølgen for å finne den første regelen som oppfyller betingelsene som er angitt.</span><span class="sxs-lookup"><span data-stu-id="da465-132">To process this call at runtime, ER goes through the list of configured rules in the defined sequence to locate the first rule that satisfies the provided conditions.</span></span> <span data-ttu-id="da465-133">I dette eksemplet er det regelen som inneholder avgiftskoden som samsvarer med den angitte.</span><span class="sxs-lookup"><span data-stu-id="da465-133">In this example, it's the rule that contains the tax code that matches the provided one.</span></span> <span data-ttu-id="da465-134">Da blir den mest passende regelen funnet, og opplistingsverdien som er konfigurert for regelen som blir funnet, blir returnert av denne datakilden.</span><span class="sxs-lookup"><span data-stu-id="da465-134">As the result, the most appropriate rule is found and the enumeration value that is configured for the found rule is returned by this data source.</span></span>

> [!NOTE]
> <span data-ttu-id="da465-135">Et unntak opprettes når ingen gjeldende regel blir funnet.</span><span class="sxs-lookup"><span data-stu-id="da465-135">An exception is thrown when no applicable rule is found.</span></span> <span data-ttu-id="da465-136">Du kan forhindre disse unntakene ved å konfigurere flere regler på slutten av regellisten for å håndtere tilfeller når en ikke-konfigurert verdi eller ingen verdi oppgis.</span><span class="sxs-lookup"><span data-stu-id="da465-136">To prevent these exceptions, configure additional rules at the end of the rules list to handle cases when a non-configured value or no value is provided.</span></span> <span data-ttu-id="da465-137">Bruk alternativene **\*Ikke tom\*** og **\*Tom\*** i henhold til dette.</span><span class="sxs-lookup"><span data-stu-id="da465-137">Use the **\*Not blank**\* and **\*Blank**\* options accordingly.</span></span>  
>
> ![Legge til en datakilde for å kalle den konfigurerte oppslagsdatakilden](./media/er-lookup-data-sources-img7.png)

<span data-ttu-id="da465-139">Når du setter alternativet **Kryssfirma** til **Ja** for den redigerbare oppslagsdatakilden, legger du til en ny påkrevd **Firma**-parameter i settet med parametere for denne datakilden.</span><span class="sxs-lookup"><span data-stu-id="da465-139">When you set the **Cross-company** option to **Yes** for the editable lookup data source, you add a new required **Company** parameter to the set of parameters of this data source.</span></span> <span data-ttu-id="da465-140">Verdien til **Firma**-parameteren må angis ved kjøretid når oppslagsdatakilden kalles.</span><span class="sxs-lookup"><span data-stu-id="da465-140">The value of the **Company** parameter must be specified at runtime when the lookup data source is called.</span></span> <span data-ttu-id="da465-141">Når firmakoden angis ved kjøretid, brukes reglene som er konfigurert for dette firmaet til å finne den mest passende regelen, og den tilsvarende verdien returneres.</span><span class="sxs-lookup"><span data-stu-id="da465-141">When the company code is specified at runtime, the rules configured for this company are used to find the most appropriate rule, and the corresponding value is returned.</span></span> <span data-ttu-id="da465-142">Illustrasjonen nedenfor viser hvordan du kan gjøre dette og hvordan settet med parametere for den redigerbare datakilden endres.</span><span class="sxs-lookup"><span data-stu-id="da465-142">The following illustration shows how you can do this and how the set of parameters of the editable data source is changed.</span></span>

   ![Gjennomgang av oppslagsdatakilden for kryssfirma av typen Formatnummerering\Oppslag](./media/er-lookup-data-sources-img8.gif)

> [!NOTE]
> <span data-ttu-id="da465-144">Velg hvert firma separat for å konfigurere regelsettet for denne oppslagsdatakilden for det redigerbare ER-formatet.</span><span class="sxs-lookup"><span data-stu-id="da465-144">Select every company seperately to configure the set of rules for this lookup data source of the editable ER format.</span></span> <span data-ttu-id="da465-145">Et unntak inntreffer ved kjøretid når kryssfirmaoppslaget kalles med koden til firmaet som oppslagsinnstillingen ikke ble fullført for.</span><span class="sxs-lookup"><span data-stu-id="da465-145">An exception is thrown at runtime when the cross-company lookup is called with the code of the company for which the lookup setting was not completed.</span></span>
>
> <span data-ttu-id="da465-146">Pass på at du gir tillatelser for en bruker som kjører ER-formatet med **Oppslag**-datakilden for kryssfirma, for å få tilgang til dataene i hvert firma som er i omfanget av denne datakilden.</span><span class="sxs-lookup"><span data-stu-id="da465-146">Make sure that you grant permissions for a user who runs the ER format with the cross-company **Lookup** data source to access the data of every company that is in scope of this data source.</span></span> <span data-ttu-id="da465-147">Ellers opprettes det et unntak ved kjøretid.</span><span class="sxs-lookup"><span data-stu-id="da465-147">Otherwise, an exception is thrown at runtime.</span></span>

<span data-ttu-id="da465-148">De utvidede funksjonene i **Oppslag**-datakildene er tilgjengelige fra versjon 10.0.19.</span><span class="sxs-lookup"><span data-stu-id="da465-148">Starting in version 10.0.19, the extended capabilities of the **Lookup** data sources are available.</span></span> <span data-ttu-id="da465-149">Når du setter alternativet **Utvidet** til **Ja** for den redigerbare oppslagsdatakilden, transformeres den konfigurerte oppslagsdatakilden til den strukturerte datakilden, som tilbyr de ytterligere funksjonene for å analysere det konfigurerte regelsettet.</span><span class="sxs-lookup"><span data-stu-id="da465-149">When you set the **Extended** option to **Yes** for the editable lookup data source, the configured lookup data source is transformed to the structured data source that offers the additional capabilities to analyze the configured set of rules.</span></span> <span data-ttu-id="da465-150">Illustrasjonen nedenfor viser denne transformasjonen.</span><span class="sxs-lookup"><span data-stu-id="da465-150">The following illustration shows this transformation.</span></span>

   ![Gjennomgang av den strukturerte oppslagsdatakilden av typen Formatnummerering\Oppslag](./media/er-lookup-data-sources-img9.gif)

- <span data-ttu-id="da465-152">Underelementet **Oppslag** er utformet som en funksjon for å finne den regelen som passer best, fra settet med konfigurerbare regler basert på settet med parametere som er angitt.</span><span class="sxs-lookup"><span data-stu-id="da465-152">The **Lookup** sub-item is designed as a function to find the most appropriate rule from the set of configurable rules based on the provided set of parameters.</span></span>
- <span data-ttu-id="da465-153">Underelementet **IsLookupResultSet** er utformet som en funksjon for å godta den angitte verdien av den grunnleggende opplistingsdatakilden, og returnere den *boolske* verdien **Sann** når settet med regler inneholder minst én regel der den angitte opplistingsverdien ble konfigurert som en returnert verdi.</span><span class="sxs-lookup"><span data-stu-id="da465-153">The **IsLookupResultSet** sub-item is designed as a function to accept the provided value of the base enumeration data source and return the *Boolean* value of **True** when the set of rules contain at least one rule for which the provided enumeration value was configured as a returned value.</span></span> <span data-ttu-id="da465-154">Denne funksjonen returnerer den *boolske* verdien **Usann** når det ikke er konfigurert noen regler til å returnere den angitte opplistingsverdien.</span><span class="sxs-lookup"><span data-stu-id="da465-154">This function returns the *Boolean* value of **False** when there are no rules configured to return the provided enumeration value.</span></span>
- <span data-ttu-id="da465-155">Underelementet **Innstilling** er utformet som en funksjon som returnerer settet med konfigurerte regler som poster i en postliste.</span><span class="sxs-lookup"><span data-stu-id="da465-155">The **Setting** sub-item is designed as a function that returns the set of configured rules as records of a record list.</span></span> <span data-ttu-id="da465-156">De returnerte verdiene og settet med parametere for de konfigurerte reglene presenteres i hver returnerte post som felt for de relevante datatypene:</span><span class="sxs-lookup"><span data-stu-id="da465-156">The returned values and the set of parameters of the configured rules are presented in every returned record as fields of the relevant data types:</span></span>

    - <span data-ttu-id="da465-157">Den returnerte verdien presenteres som **Oppslagsresultat**-feltet.</span><span class="sxs-lookup"><span data-stu-id="da465-157">The returned value is presented as the **Lookup result** field.</span></span>
    - <span data-ttu-id="da465-158">De konfigurerte parameterne presenteres som felt som har navn på parametere (**Kode**-feltet i dette eksemplet).</span><span class="sxs-lookup"><span data-stu-id="da465-158">The configured parameters are presented as fields having names of parameters (**Code** field in this example).</span></span>

<span data-ttu-id="da465-159">Hvis du vil ha mer informasjon om hvordan du konfigurerer **Oppslag**-datakilden, kan du se [Konfigurere ER-formater til å bruke parametere som angis per juridisk enhet](er-app-specific-parameters-configure-format.md).</span><span class="sxs-lookup"><span data-stu-id="da465-159">For more information about to how configure the **Lookup** data source, see [Configure ER formats to use parameters that are specified per legal entity](er-app-specific-parameters-configure-format.md).</span></span> <span data-ttu-id="da465-160">Hvis du vil lære hvordan du definerer oppslagsreglene, kan du se [Definere parameterne for et ER-format per juridisk enhet](er-app-specific-parameters-set-up.md).</span><span class="sxs-lookup"><span data-stu-id="da465-160">To learn how to set the Lookup rules, see [Set up the parameters of an ER format per legal entity](er-app-specific-parameters-set-up.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="da465-161">Tilleggsressurser</span><span class="sxs-lookup"><span data-stu-id="da465-161">Additional resources</span></span>

[<span data-ttu-id="da465-162">Konfigurere ER-formater til å bruke parametere som angis per juridisk enhet</span><span class="sxs-lookup"><span data-stu-id="da465-162">Configure ER formats to use parameters that are specified per legal entity</span></span>](er-app-specific-parameters-configure-format.md)

[<span data-ttu-id="da465-163">Definere parameterne for et ER-format per juridisk enhet</span><span class="sxs-lookup"><span data-stu-id="da465-163">Set up the parameters of an ER format per legal entity</span></span>](er-app-specific-parameters-set-up.md)
